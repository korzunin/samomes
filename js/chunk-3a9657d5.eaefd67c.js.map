{"version":3,"sources":["webpack:///../../../src/components/VDataTable/VSimpleTable.ts","webpack:///./src/views/recipe.vue?adfc","webpack:///./src/constants/recipes.js","webpack:///./src/components/recipes/ElementsTable.vue?e22c","webpack:///src/components/recipes/ElementsTable.vue","webpack:///./src/components/recipes/ElementsTable.vue?c58a","webpack:///./src/components/recipes/ElementsTable.vue","webpack:///./src/components/recipes/ElementsDryTable.vue?37cb","webpack:///src/components/recipes/ElementsDryTable.vue","webpack:///./src/components/recipes/ElementsDryTable.vue?2601","webpack:///./src/components/recipes/ElementsDryTable.vue","webpack:///src/views/recipe.vue","webpack:///./src/views/recipe.vue?a573","webpack:///./src/views/recipe.vue?f2cc","webpack:///../../../src/components/VForm/VForm.ts","webpack:///./src/views/recipe.vue?47dc","webpack:///../../../src/components/VTextarea/VTextarea.ts","webpack:///../../../src/components/VSwitch/VSwitch.ts"],"names":["name","props","dense","fixedHeader","height","Number","String","computed","classes","this","$slots","themeClasses","methods","genWrapper","wrapper","$createElement","staticClass","style","render","h","class","_vm","_h","_c","_self","attrs","_v","isCreate","isShared","_e","_s","ref","formulas","rulesReagent","model","value","callback","$$v","reagents","expression","recipesExamples","recipeExampleChosen","length","_l","reagent","key","showComponents","countPercent","isWater","on","setIsWater","volume","rulesVolume","isExist","inputVolume","scopedSlots","_u","fn","_g","mass","fertilizerMassHint","rulesMass","FORMULAS","solubilityLimit","$event","inputMass","isShowConcentration","totalIonConcentration","concentration","totalFertilizerMass","tanks","tankVolume","_n","data","ion","solute","convertIonName","inputIonDose","countTotalIonDose","ionName","toFixed","countTotalDose","rulesName","note","removeRecipe","editRecipe","addRecipe","staticRenderFns","KNO3","NH4NO3","C6H7KO2","KH2PO4","K2SO4","H3BO3","C10H14N2Na2O8","C14H18N3O10Na2Fe","$vuetify","breakpoint","isConcentrationPercent","isConvertion","Object","keys","index","includes","convertIonRatio","proxy","type","default","fertilizerMass","component","VSimpleTable","VSwitch","totalUsefulConcentration","entries","forEach","sum","VIcon","VTooltip","components","ElementsTable","ElementsDryTable","RECIPES","OPPOSITE","mounted","share","assign","$data","JSON","parse","decodeURIComponent","recipe","$route","params","id","recipeIndex","result","push","text","formula","sort","recipeExamples","item","values","reduce","ions","isNeeded","factor","countTotalIonConcentration","isEdit","watch","countDose","isConcentration","parseFloat","output","join","ratio","curIon","ionDose","hint","$refs","recipeForm","validate","RECIPE_ADD","SNACKBAR_SHOW","$router","RECIPE_EDIT","RECIPE_REMOVE","VBtn","VCol","VCombobox","VContainer","VDivider","VExpandTransition","VForm","VRadio","VRadioGroup","VRow","VSelect","VTextField","VTextarea","provide","form","inheritAttrs","disabled","lazyValidation","readonly","Boolean","inputs","watchers","errorBag","handler","errors","deep","immediate","watchInput","watcher","input","val","_uid","valid","shouldValidate","filter","reset","resetErrorBag","setTimeout","resetValidation","register","unregister","found","find","i","unwatch","novalidate","attrs$","submit","e","baseMixins","autoGrow","noResize","rowHeight","validator","v","isNaN","rows","parseInt","noResizeHandle","lazyValue","$nextTick","calculateInputHeight","minHeight","Math","genInput","onInput","onKeyDown","isFocused","directives","Touch","inset","loading","flat","role","validationState","hasError","hasColor","switchData","setTextColor","undefined","genDefaultSlot","genSwitch","switchAttrs","genRipple","left","right","onSwipeRight","genProgress","progress","color","size","width","indeterminate","onSwipeLeft","onChange","onKeydown"],"mappings":"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","file":"js/chunk-3a9657d5.eaefd67c.js","sourcesContent":["import './VSimpleTable.sass'\n\nimport { convertToUnit } from '../../util/helpers'\nimport Themeable from '../../mixins/themeable'\nimport mixins from '../../util/mixins'\nimport { VNode } from 'vue'\n\nexport default mixins(Themeable).extend({\n  name: 'v-simple-table',\n\n  props: {\n    dense: Boolean,\n    fixedHeader: Boolean,\n    height: [Number, String],\n  },\n\n  computed: {\n    classes (): Record<string, boolean> {\n      return {\n        'v-data-table--dense': this.dense,\n        'v-data-table--fixed-height': !!this.height && !this.fixedHeader,\n        'v-data-table--fixed-header': this.fixedHeader,\n        'v-data-table--has-top': !!this.$slots.top,\n        'v-data-table--has-bottom': !!this.$slots.bottom,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  methods: {\n    genWrapper () {\n      return this.$slots.wrapper || this.$createElement('div', {\n        staticClass: 'v-data-table__wrapper',\n        style: {\n          height: convertToUnit(this.height),\n        },\n      }, [\n        this.$createElement('table', this.$slots.default),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-data-table',\n      class: this.classes,\n    }, [\n      this.$slots.top,\n      this.genWrapper(),\n      this.$slots.bottom,\n    ])\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"mb-12\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"8\",\"offset-sm\":\"2\"}},[_c('v-btn',{staticClass:\"mr-0\",attrs:{\"square\":\"\",\"to\":\"/recipes\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1)],1),_c('page-title',[(_vm.isCreate && !_vm.isShared)?[_vm._v(\" Новый рецепт \")]:_vm._e(),(_vm.isCreate && _vm.isShared)?[_c('p',{staticClass:\"text-h4\"},[_vm._v(\" С вами поделились рецептом! \")]),_c('p',{staticClass:\"text-h6 font-weight-regular\"},[_vm._v(\" Посмотрите рецепт, дайте ему название и напишите примечание. После этого можете сохранить его. \")])]:[_vm._v(\" Рецепт \"+_vm._s(_vm.name)+\" \")]],2),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\",\"offset-md\":\"2\"}},[_c('v-form',{ref:\"recipeForm\"},[_c('v-row',[_c('v-col',{staticClass:\"pt-0 mt-8\",attrs:{\"cols\":\"12\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-select',{attrs:{\"items\":_vm.formulas,\"item-text\":\"text\",\"item-value\":\"value\",\"multiple\":\"\",\"label\":\"Реагент\",\"hint\":\"Вы можете выбрать несколько реагентов\",\"persistent-hint\":\"\",\"hide-details\":\"auto\",\"rules\":_vm.rulesReagent},model:{value:(_vm.reagents),callback:function ($$v) {_vm.reagents=$$v},expression:\"reagents\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-select',{attrs:{\"items\":_vm.recipesExamples,\"label\":\"Рецепт\",\"hint\":\"или выбрать один из рецептов\",\"persistent-hint\":\"\",\"hide-details\":\"auto\"},model:{value:(_vm.recipeExampleChosen),callback:function ($$v) {_vm.recipeExampleChosen=$$v},expression:\"recipeExampleChosen\"}})],1),_c('v-col',{staticClass:\"pt-0\",attrs:{\"cols\":\"12\"}},[(_vm.reagents.length > 0)?_c('div',{staticClass:\"mt-3\"},[_vm._l((_vm.reagents),function(reagent){return [_c('div',{key:reagent.value,staticClass:\"d-flex justify-space-between caption\"},[_c('div',[_vm._v(_vm._s(reagent))]),_c('div',[_vm._v(_vm._s(_vm.showComponents(_vm.countPercent(reagent))))])])]})],2):_vm._e(),(_vm.reagents.length > 0)?_c('div',{staticClass:\"mt-3\"},[_c('small',[_vm._v(\" *Так как аквариумисту удобнее работать с нитратом (NO3), а не с азотом (N), далее азот в любой форме будет приведен к нитрату. \")])]):_vm._e()]),_c('v-expand-transition',[(_vm.reagents.length > 0)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-radio-group',{attrs:{\"value\":_vm.isWater,\"row\":\"\",\"hide-details\":\"auto\"},on:{\"change\":_vm.setIsWater}},[_c('v-radio',{attrs:{\"label\":\"Водный раствор\",\"value\":true}}),_c('v-radio',{attrs:{\"label\":\"Безводная смесь\",\"value\":false}})],1)],1):_vm._e()],1),_c('v-expand-transition',[(_vm.reagents.length > 0 && _vm.isWater)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"value\":_vm.volume,\"type\":\"number\",\"label\":\"Введите объем удобрения\",\"suffix\":\"мл\",\"hint\":\"Выбирайте объем, который вы сможете использовать в течении 2-3x месяцев.\\n                            Обычно это 250-300 мл.\",\"hide-details\":\"auto\",\"rules\":[_vm.isWater ? _vm.rulesVolume.isExist() : true]},on:{\"input\":_vm.inputVolume}})],1):_vm._e()],1),_c('v-expand-transition',[(_vm.reagents.length > 0 && (_vm.volume || !_vm.isWater))?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-row',[(_vm.isWater)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"d-flex align-center\"},[_c('v-divider'),_c('span',{staticClass:\"mx-3\"},[_vm._v(\" Введите массу реагента \"),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"max-width\":\"400\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({},on),[_vm._v(\"mdi-help-circle-outline\")])]}}],null,false,2575987712)},[_vm._v(\" Введите массу реагента и калькулятор автоматически рассчитает дозы элементов, которые показаны ниже. \")])],1),_c('v-divider')],1)]):_vm._e(),_vm._l((_vm.reagents),function(reagent){return _c('v-col',{key:reagent,staticClass:\"py-0\",attrs:{\"cols\":\"12\"}},[_c('v-text-field',{key:reagent,attrs:{\"value\":_vm.mass[reagent],\"type\":\"number\",\"label\":reagent,\"suffix\":\"г\",\"hint\":_vm.isWater ? _vm.fertilizerMassHint(reagent) : '',\"hide-details\":\"auto\",\"rules\":[\n                          _vm.rulesMass.isExist() ],\"error\":(_vm.mass[reagent] / _vm.volume) * 1000\n                          > _vm.FORMULAS[reagent].solubilityLimit,\"error-messages\":(_vm.mass[reagent] / _vm.volume) * 1000\n                            > _vm.FORMULAS[reagent].solubilityLimit\n                            ? (\"Достигнута максимальная растворимость -\\n                                    \" + (_vm.FORMULAS[reagent].solubilityLimit) + \" г/л при 20°С!\")\n                            : ''},on:{\"input\":function($event){return _vm.inputMass($event, reagent)}}})],1)}),(_vm.isWater)?_c('v-col',{staticClass:\"mt-2 pb-0\",attrs:{\"cols\":\"12\"}},[_c('v-btn',{staticClass:\"px-0\",attrs:{\"center\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.isShowConcentration = !_vm.isShowConcentration}}},[_vm._v(\" Показать концентрации \"),_c('v-icon',[_vm._v(_vm._s(_vm.isShowConcentration ? 'mdi-chevron-up' : 'mdi-chevron-down'))])],1)],1):_vm._e(),_c('v-expand-transition',[(_vm.isShowConcentration && _vm.isWater)?_c('v-col',{staticClass:\"pt-0\",attrs:{\"cols\":\"12\"}},[_c('elements-table',{attrs:{\"total-ion-concentration\":_vm.totalIonConcentration,\"fertilizer-mass\":_vm.mass,\"concentration\":_vm.concentration}})],1):_vm._e()],1),_c('v-expand-transition',[(!_vm.isWater)?_c('v-col',{staticClass:\"pt-0\",attrs:{\"cols\":\"12\"}},[_c('elements-dry-table',{attrs:{\"total-ion-concentration\":_vm.totalIonConcentration,\"fertilizer-mass\":_vm.mass,\"total-fertilizer-mass\":_vm.totalFertilizerMass}})],1):_vm._e()],1),(_vm.isWater)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"d-flex align-center\"},[_c('v-divider'),_c('span',{staticClass:\"mx-3\"},[_vm._v(\" Или введите дозу элемента \"),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"max-width\":\"400\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                            var on = ref.on;\nreturn [_c('v-icon',_vm._g({},on),[_vm._v(\"mdi-help-circle-outline\")])]}}],null,false,2575987712)},[_vm._v(\" Калькулятор автоматически рассчитает необходимую массу реагента. Доза - это количество элемента, на которую повысится концентрация элемента в заданном объеме аквариума при внесении 1 мл удобрения. Например, вы хотите сделать макро удобрение с нитратом. И для удобства введения его в аквариум вы бы хотели, чтобы на каждый вводимый 1 мл удобрения, нитрат повышался на 0.5 мг/л. 0.5 - это доза. \")])],1),_c('v-divider')],1)]):_vm._e(),_c('v-expand-transition',[(_vm.reagents.length > 0 && _vm.isWater)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-combobox',{attrs:{\"items\":_vm.tanks,\"type\":\"Number\",\"item-text\":\"name\",\"item-value\":\"volume\",\"label\":\"Объем аквариума\",\"persistent-hint\":\"\",\"hide-selected\":\"\",\"hint\":\"Выберите аквариум или введите объем\",\"suffix\":\"л\",\"return-object\":false},model:{value:(_vm.tankVolume),callback:function ($$v) {_vm.tankVolume=_vm._n($$v)},expression:\"tankVolume\"}})],1):_vm._e()],1),(_vm.tankVolume && _vm.isWater)?_c('v-col',{staticClass:\"pb-0\",attrs:{\"cols\":\"12\"}},[_c('v-row',[_vm._l((_vm.reagents),function(reagent){return [_c('v-col',{key:reagent,staticClass:\"py-0\",attrs:{\"cols\":\"12\"}},[_c('v-row',{staticClass:\"mb-3\"},[_vm._l((_vm.FORMULAS[reagent].ions),function(data,ion){return [(data.isNeeded)?_c('v-col',{key:reagent + ion,staticClass:\"py-0\"},[_c('v-text-field',{attrs:{\"value\":_vm.solute[reagent][ion],\"type\":\"number\",\"label\":_vm.convertIonName(ion) + ', мг/л',\"hint\":'из ' + reagent,\"persistent-hint\":\"\"},on:{\"input\":function($event){return _vm.inputIonDose($event, reagent, ion)}}})],1):_vm._e()]})],2)],1)]}),(_vm.reagents.length > 1)?_c('v-col',{staticClass:\"d-flex justify-space-between pb-0\",attrs:{\"cols\":\"12\"}},[_c('div',[_vm._v(\" Общая доза, мг/л \")]),_c('div',{staticClass:\"d-flex flex-column\"},_vm._l((_vm.countTotalIonDose(_vm.solute)),function(value,ionName){return _c('div',{key:ionName,staticClass:\"d-flex justify-space-between\"},[_c('div',[_vm._v(_vm._s(_vm.convertIonName(ionName))+\":\")]),_c('div',{staticClass:\"ml-3\"},[_vm._v(\" \"+_vm._s(value.toFixed(3))+\" \"),(_vm.countTotalDose(_vm.solute))?[_vm._v(\" (\"+_vm._s((value / _vm.countTotalDose(_vm.solute) * 100).toFixed(2))+\"%) \")]:_vm._e()],2)])}),0)]):_vm._e()],2)],1):_vm._e()],2)],1):_vm._e()],1),_c('v-expand-transition',[(_vm.reagents.length > 0 && (_vm.volume || !_vm.isWater))?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Имя рецепта\",\"hide-details\":\"auto\",\"hint\":\"Придумайте имя рецепта, чтобы не путать его с другими рецептами\",\"rules\":_vm.rulesName},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-textarea',{attrs:{\"label\":\"Примечание\",\"hide-details\":\"auto\",\"auto-grow\":\"\",\"rows\":\"1\",\"hint\":\"Вы можете добавить дополнительные сведения к рецепту\"},model:{value:(_vm.note),callback:function ($$v) {_vm.note=$$v},expression:\"note\"}})],1),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"12\"}},[(!_vm.isCreate)?_c('v-btn',{on:{\"click\":_vm.removeRecipe}},[_vm._v(\" Удалить \")]):_vm._e(),(!_vm.isCreate)?_c('v-btn',{staticClass:\"ml-2\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.editRecipe}},[_vm._v(\" Сохранить \")]):_vm._e(),(_vm.isCreate)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.addRecipe}},[_vm._v(\" Добавить \")]):_vm._e()],1)],1)],1):_vm._e()],1)],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * Samomes\n *\n * Copyright (C) 2021 Mikhail Lapshin\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\nexport default [\n  {\n    name: 'Kuban Aquariums Нитрат',\n    reagents: {\n      KNO3: 49.71,\n      '(NH2)2CO': 5.02,\n      NH4NO3: 6.71,\n      C6H7KO2: 0.5,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Рецепт взят с youtube канала Kuban Aquariums (https://www.youtube.com/watch?v=Vyq-R0tv384)',\n  },\n  {\n    name: 'Kuban Aquariums Фосфат',\n    reagents: {\n      KH2PO4: 7.01,\n      C6H7KO2: 0.5,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Рецепт взят с youtube канала Kuban Aquariums (https://www.youtube.com/watch?v=Vyq-R0tv384)',\n  },\n  {\n    name: 'Kuban Aquariums Калий',\n    reagents: {\n      K2SO4: 84.76,\n      C6H7KO2: 0.5,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Рецепт взят с youtube канала Kuban Aquariums (https://www.youtube.com/watch?v=Vyq-R0tv384)',\n  },\n  {\n    name: 'Kuban Aquariums Реминерализатор',\n    reagents: {\n      'CaSO4(H2O)2': 1.88,\n      'MgSO4(H2O)7': 1.28,\n    },\n    note: 'Рецепт взят с youtube канала Kuban Aquariums (https://www.youtube.com/watch?v=Vyq-R0tv384)',\n  },\n  {\n    name: 'Aqua Botanic Нитрат',\n    reagents: {\n      KNO3: 82.88,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Чистая калиевая селитра. Рецепт взят с сайта aqua-botanic.ru'\n    + '(https://web.archive.org/web/20131206073940/http://www.aqua-botanic.ru/index.html)',\n  },\n  {\n    name: 'Aqua Botanic Нитрат+',\n    reagents: {\n      KNO3: 49.71,\n      '(NH2)2CO': 5.02,\n      NH4NO3: 6.71,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Калиевая селитра, разбавленная мочевиной и нитратом аммония. Рецепт взят с сайта aqua-botanic.ru'\n    + '(https://web.archive.org/web/20131206073940/http://www.aqua-botanic.ru/index.html)',\n  },\n  {\n    name: 'Aqua Botanic Фосфат',\n    reagents: {\n      KH2PO4: 7.01,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Чистый монофосфат калия. Рецепт взят с сайта aqua-botanic.ru'\n    + '(https://web.archive.org/web/20131206073940/http://www.aqua-botanic.ru/index.html)',\n  },\n  {\n    name: 'Aqua Botanic Калий',\n    reagents: {\n      K2SO4: 84.76,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Чистый сульфат калия. Рецепт взят с сайта aqua-botanic.ru'\n    + '(https://web.archive.org/web/20131206073940/http://www.aqua-botanic.ru/index.html)',\n  },\n  {\n    name: 'NPK Amania.org 1:15',\n    reagents: {\n      KNO3: 106.45,\n      KH2PO4: 5.77,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Макро в соотношении 1 к 15. Рецепт взят с сайта amania.org',\n  },\n  {\n    name: 'NPK Amania.org 1:15 + амидный азот',\n    reagents: {\n      KNO3: 53.6,\n      '(NH2)2CO': 16,\n      KH2PO4: 5.77,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Макро в соотношении 1 к 15. Калиевая селитра в соотношении 50 на 50 с мочевиной.'\n      + ' Рецепт взят с сайта amania.org',\n  },\n  {\n    name: 'Удо Ермолаева. МИКРО',\n    reagents: {\n      K2SO4: 7.45,\n      'MgSO4(H2O)7': 16.4,\n      'Fe2(SO4)3(H2O)9': 1.45,\n      'CuSO4(H2O)5': 0.1,\n      'ZnSO4(H2O)7': 0.04,\n      H3BO3: 0.1,\n      '(NH4)2MoO4': 0.04,\n      'MnSO4(H2O)5': 0.73,\n      C10H14N2Na2O8: 2.5,\n    },\n    tankVolume: 100,\n    volume: 500,\n    note: 'Микро. Рецепт - https://aquascape-promotion.com/udobreniya-svoimi-rukami',\n  },\n  {\n    name: 'Удо Ермолаева. МИКРО (gh < 7)',\n    reagents: {\n      K2SO4: 7.45,\n      'MgSO4(H2O)7': 16.4,\n      'Fe2(SO4)3(H2O)9': 1.45,\n      'CuSO4(H2O)5': 0.1,\n      'ZnSO4(H2O)7': 0.04,\n      H3BO3: 0.1,\n      '(NH4)2MoO4': 0.04,\n      'MnSO4(H2O)5': 0.73,\n      C10H14N2Na2O8: 1.75,\n    },\n    tankVolume: 100,\n    volume: 500,\n    note: 'Микро. Рецепт - https://aquascape-promotion.com/udobreniya-svoimi-rukami',\n  },\n  {\n    name: 'Удо Ермолаева. МИКРО (Железный купорос)',\n    reagents: {\n      K2SO4: 7.45,\n      'MgSO4(H2O)7': 16.4,\n      'FeSO4(H2O)7': 1.44,\n      'CuSO4(H2O)5': 0.1,\n      'ZnSO4(H2O)7': 0.04,\n      H3BO3: 0.1,\n      '(NH4)2MoO4': 0.04,\n      'MnSO4(H2O)5': 0.73,\n      C10H14N2Na2O8: 1.75,\n      C14H18N3O10Na2Fe: 1,\n    },\n    tankVolume: 100,\n    volume: 500,\n    note: 'Микро. Рецепт - https://aquascape-promotion.com/udobreniya-svoimi-rukami',\n  },\n];\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"d-flex mt-1\",class:{\n      'flex-column': _vm.$vuetify.breakpoint['xs'],\n      'flex-row': _vm.$vuetify.breakpoint['smAndUp']\n    }},[_c('v-switch',{staticClass:\"mr-4\",attrs:{\"label\":\"Показать соотношение\",\"hide-details\":\"auto\"},model:{value:(_vm.isConcentrationPercent),callback:function ($$v) {_vm.isConcentrationPercent=$$v},expression:\"isConcentrationPercent\"}}),_c('v-switch',{staticClass:\"mr-4\",attrs:{\"label\":\"Показать N и P\",\"hide-details\":\"auto\"},model:{value:(_vm.isConvertion),callback:function ($$v) {_vm.isConvertion=$$v},expression:\"isConvertion\"}})],1),_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"pl-0 text-center\"},[_vm._v(\" Реагент \")]),_vm._l((Object.keys(_vm.totalIonConcentration)),function(ion,index){return _c('th',{key:ion,staticClass:\"text-center\",class:{'pr-0': index === Object.keys(_vm.totalIonConcentration).length - 1}},[(_vm.isConvertion && ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s(ion)+\" / \")]:_vm._e(),(ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s(_vm.convertIonName(ion))+\", г/л \")]:[_vm._v(\" \"+_vm._s(ion)+\", г/л \")]],2)})],2)]),_c('tbody',[_vm._l((Object.keys(_vm.concentration)),function(reagent){return _c('tr',{key:reagent},[_c('td',{staticClass:\"pl-0 text-center\"},[_vm._v(\" \"+_vm._s(reagent)+\" \")]),_vm._l((_vm.totalIonConcentration),function(value,ion,index){return _c('td',{key:reagent + ion,staticClass:\"text-center\",class:{'pr-0': index === Object.keys(_vm.concentration).length - 1}},[(Object.keys(_vm.concentration[reagent]).includes(ion))?[(_vm.isConvertion && ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s(_vm.concentration[reagent][ion].toFixed(3))+\" / \")]:_vm._e(),(ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s((_vm.convertIonRatio(ion) * _vm.concentration[reagent][ion]).toFixed(3))+\" \")]:[_vm._v(\" \"+_vm._s(_vm.concentration[reagent][ion].toFixed(3))+\" \")],(value && _vm.isConcentrationPercent)?[_vm._v(\" (\"+_vm._s((_vm.concentration[reagent][ion] / value * 100).toFixed(1))+\"%) \")]:_vm._e()]:[_vm._v(\" - \")]],2)})],2)}),_c('tr',{staticClass:\"font-weight-bold\"},[_c('td',{staticClass:\"pl-0 text-center\"},[_vm._v(\" Сумма \")]),_vm._l((_vm.totalIonConcentration),function(value,ion,index){return [(ion !== _vm.convertIonName(ion))?_c('td',{key:ion,staticClass:\"text-center\",class:{'pr-0': index === Object.keys(_vm.totalIonConcentration).length - 1}},[(_vm.isConvertion && ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s(value.toFixed(3))+\" / \")]:_vm._e(),_vm._v(\" \"+_vm._s((_vm.convertIonRatio(ion) * value).toFixed(3))+\" \")],2):_c('td',{key:ion,staticClass:\"text-center\",class:{'pr-0': index === Object.keys(_vm.totalIonConcentration).length - 1}},[_vm._v(\" \"+_vm._s(value.toFixed(3))+\" \")])]})],2)],2)]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  Samomes\n\n  Copyright (C) 2021 Mikhail Lapshin\n\n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div>\n    <div\n      class=\"d-flex mt-1\"\n      :class=\"{\n        'flex-column': $vuetify.breakpoint['xs'],\n        'flex-row': $vuetify.breakpoint['smAndUp']\n      }\"\n    >\n      <v-switch\n        v-model=\"isConcentrationPercent\"\n        label=\"Показать соотношение\"\n        hide-details=\"auto\"\n        class=\"mr-4\"\n      />\n      <v-switch\n        v-model=\"isConvertion\"\n        label=\"Показать N и P\"\n        hide-details=\"auto\"\n        class=\"mr-4\"\n      />\n    </div>\n    <v-simple-table>\n      <template v-slot:default>\n        <thead>\n          <tr>\n            <th class=\"pl-0 text-center\">\n              Реагент\n            </th>\n            <th\n              v-for=\"(ion, index) in Object.keys(totalIonConcentration)\"\n              :key=\"ion\"\n              class=\"text-center\"\n              :class=\"{'pr-0': index === Object.keys(totalIonConcentration).length - 1}\"\n            >\n              <template v-if=\"isConvertion && ion !== convertIonName(ion)\">\n                {{ ion }} /\n              </template>\n              <template v-if=\"ion !== convertIonName(ion)\">\n                {{ convertIonName(ion) }}, г/л\n              </template>\n              <template v-else>\n                {{ ion }}, г/л\n              </template>\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"reagent in Object.keys(concentration)\"\n            :key=\"reagent\"\n          >\n            <td class=\"pl-0 text-center\">\n              {{ reagent }}\n            </td>\n            <td\n              v-for=\"(value, ion, index) in totalIonConcentration\"\n              :key=\"reagent + ion\"\n              class=\"text-center\"\n              :class=\"{'pr-0': index === Object.keys(concentration).length - 1}\"\n            >\n              <template v-if=\"Object.keys(concentration[reagent]).includes(ion)\">\n                <template v-if=\"isConvertion && ion !== convertIonName(ion)\">\n                  {{ concentration[reagent][ion].toFixed(3) }} /\n                </template>\n                <template v-if=\"ion !== convertIonName(ion)\">\n                  {{ (convertIonRatio(ion) * concentration[reagent][ion]).toFixed(3) }}\n                </template>\n                <template v-else>\n                  {{ concentration[reagent][ion].toFixed(3) }}\n                </template>\n                <template v-if=\"value && isConcentrationPercent\">\n                  ({{ (concentration[reagent][ion] / value * 100).toFixed(1) }}%)\n                </template>\n              </template>\n              <template v-else>\n                -\n              </template>\n            </td>\n          </tr>\n          <tr class=\"font-weight-bold\">\n            <td class=\"pl-0 text-center\">\n              Сумма\n            </td>\n            <template\n              v-for=\"(value, ion, index) in totalIonConcentration\"\n            >\n              <td\n                v-if=\"ion !== convertIonName(ion)\"\n                :key=\"ion\"\n                class=\"text-center\"\n                :class=\"{'pr-0': index === Object.keys(totalIonConcentration).length - 1}\"\n              >\n                <template v-if=\"isConvertion && ion !== convertIonName(ion)\">\n                  {{ value.toFixed(3) }} /\n                </template>\n                {{ (convertIonRatio(ion) * value).toFixed(3) }}\n              </td>\n              <td\n                v-else\n                class=\"text-center\"\n                :class=\"{'pr-0': index === Object.keys(totalIonConcentration).length - 1}\"\n                :key=\"ion\"\n              >\n                {{ value.toFixed(3) }}\n              </td>\n            </template>\n          </tr>\n        </tbody>\n      </template>\n    </v-simple-table>\n  </div>\n</template>\n\n<script>\nimport { convertIonName, convertIonRatio, countPercent } from '@/helpers/funcs';\n\nexport default {\n  name: 'ElementsTable',\n  props: {\n    totalIonConcentration: {\n      type: Object,\n      default: () => {},\n    },\n    fertilizerMass: {\n      type: Object,\n      default: () => {},\n    },\n    concentration: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      isConcentrationPercent: false,\n      isConvertion: false,\n    };\n  },\n  methods: {\n    convertIonRatio,\n    convertIonName,\n    countPercent,\n  },\n};\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElementsTable.vue?vue&type=template&id=4d7df51e&scoped=true&\"\nimport script from \"./ElementsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ElementsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d7df51e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VSimpleTable,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"d-flex mt-2 mb-2\",class:{\n      'flex-column': _vm.$vuetify.breakpoint['xs'],\n      'flex-row': _vm.$vuetify.breakpoint['smAndUp']\n    }},[_c('v-switch',{staticClass:\"mr-4\",attrs:{\"label\":\"Показать соотношение\",\"hide-details\":\"auto\"},model:{value:(_vm.isConcentrationPercent),callback:function ($$v) {_vm.isConcentrationPercent=$$v},expression:\"isConcentrationPercent\"}}),_c('v-switch',{staticClass:\"mr-4\",attrs:{\"label\":\"Показать N и P\",\"hide-details\":\"auto\"},model:{value:(_vm.isConvertion),callback:function ($$v) {_vm.isConvertion=$$v},expression:\"isConvertion\"}})],1),_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"pl-0 text-center\"},[_vm._v(\" Реагент \")]),_vm._l((Object.keys(_vm.totalIonConcentration)),function(ion,index){return _c('th',{key:ion,staticClass:\"text-center\",class:{'pr-0': index === _vm.totalIonConcentration.length - 1}},[(_vm.isConvertion && ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s(ion)+\" / \")]:_vm._e(),(ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s(_vm.convertIonName(ion))+\", г \")]:[_vm._v(\" \"+_vm._s(ion)+\", г \")]],2)})],2)]),_c('tbody',[_vm._l((_vm.fertilizerMass),function(mass,reagent){return _c('tr',{key:reagent},[_c('td',{staticClass:\"pl-0 text-center\"},[_vm._v(\" \"+_vm._s(reagent)+\" \")]),_vm._l((_vm.totalIonConcentration),function(value,ion,index){return _c('td',{key:reagent + ion,staticClass:\"text-center\",class:{'pr-0': index === _vm.totalIonConcentration.length - 1}},[(Object.keys(_vm.countPercent(reagent)).includes(ion))?[(_vm.isConvertion && ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s((mass * _vm.countPercent(reagent)[ion]).toFixed(3))+\" / \")]:_vm._e(),(ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s((_vm.convertIonRatio(ion) * mass * _vm.countPercent(reagent)[ion]).toFixed(3))+\" \")]:[_vm._v(\" \"+_vm._s((mass * _vm.countPercent(reagent)[ion]).toFixed(3))+\" \")],(value && _vm.isConcentrationPercent)?[_vm._v(\" (\"+_vm._s((mass * _vm.countPercent(reagent)[ion] / (value * _vm.totalFertilizerMass) * 100).toFixed(1))+\"%) \")]:_vm._e()]:[_vm._v(\" - \")]],2)})],2)}),_c('tr',{staticClass:\"font-weight-bold\"},[_c('td',{staticClass:\"pl-0 text-center\"},[_vm._v(\" Сумма \")]),_vm._l((_vm.totalIonConcentration),function(value,ion,index){return [(ion !== _vm.convertIonName(ion))?_c('td',{key:ion,staticClass:\"text-center\",class:{'pr-0': index === _vm.totalIonConcentration.length - 1}},[(_vm.isConvertion && ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s((value * _vm.totalFertilizerMass).toFixed(3))+\" / \")]:_vm._e(),_vm._v(\" \"+_vm._s((_vm.convertIonRatio(ion) * value * _vm.totalFertilizerMass).toFixed(3))+\" \")],2):_c('td',{key:ion,staticClass:\"text-center\",class:{'pr-0': index === _vm.totalIonConcentration.length - 1}},[_vm._v(\" \"+_vm._s((value * _vm.totalFertilizerMass).toFixed(3))+\" \")])]})],2)],2)]},proxy:true}])}),_c('div',{staticClass:\"subtitle-2 mt-2\"},[_vm._v(\" Соотношение элементов \"),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"max-width\":\"400\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\nreturn [_c('v-icon',_vm._g({},on),[_vm._v(\" mdi-help-circle-outline \")])]}}])},[_vm._v(\" Учитывает соотношение только между интересующими аквариумиста элементами. Такие элементы как сера, хлор, водород, кислород и т.д. в данном соотношении не участвуют. \")]),_vm._v(\": \")],1),_c('div',_vm._l((_vm.totalIonConcentration),function(value,ion){return _c('span',{key:ion,staticClass:\"mr-2\"},[_vm._v(\" \"+_vm._s(_vm.convertIonName(ion))+\" (\"+_vm._s(value ? (_vm.convertIonRatio(ion) * value / _vm.totalUsefulConcentration).toFixed(5) : '???')+\" %) \")])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  Samomes\n\n  Copyright (C) 2021 Mikhail Lapshin\n\n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div>\n    <div\n      class=\"d-flex mt-2 mb-2\"\n      :class=\"{\n        'flex-column': $vuetify.breakpoint['xs'],\n        'flex-row': $vuetify.breakpoint['smAndUp']\n      }\"\n    >\n      <v-switch\n        v-model=\"isConcentrationPercent\"\n        label=\"Показать соотношение\"\n        hide-details=\"auto\"\n        class=\"mr-4\"\n      />\n      <v-switch\n        v-model=\"isConvertion\"\n        label=\"Показать N и P\"\n        hide-details=\"auto\"\n        class=\"mr-4\"\n      />\n    </div>\n    <v-simple-table>\n      <template v-slot:default>\n        <thead>\n          <tr>\n            <th class=\"pl-0 text-center\">\n              Реагент\n            </th>\n            <th\n              v-for=\"(ion, index) in Object.keys(totalIonConcentration)\"\n              class=\"text-center\"\n              :class=\"{'pr-0': index === totalIonConcentration.length - 1}\"\n              :key=\"ion\"\n            >\n              <template v-if=\"isConvertion && ion !== convertIonName(ion)\">\n                {{ ion }} /\n              </template>\n              <template v-if=\"ion !== convertIonName(ion)\">\n                {{ convertIonName(ion) }}, г\n              </template>\n              <template v-else>\n                {{ ion }}, г\n              </template>\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"(mass, reagent) in fertilizerMass\"\n            :key=\"reagent\"\n          >\n            <td class=\"pl-0 text-center\">\n              {{ reagent }}\n            </td>\n            <td\n              v-for=\"(value, ion, index) in totalIonConcentration\"\n              class=\"text-center\"\n              :class=\"{'pr-0': index === totalIonConcentration.length - 1}\"\n              :key=\"reagent + ion\"\n            >\n              <template v-if=\"Object.keys(countPercent(reagent)).includes(ion)\">\n                <template v-if=\"isConvertion && ion !== convertIonName(ion)\">\n                  {{ (mass * countPercent(reagent)[ion]).toFixed(3) }} /\n                </template>\n                <template v-if=\"ion !== convertIonName(ion)\">\n                  {{ (convertIonRatio(ion) * mass * countPercent(reagent)[ion]).toFixed(3) }}\n                </template>\n                <template v-else>\n                  {{ (mass * countPercent(reagent)[ion]).toFixed(3) }}\n                </template>\n                <template v-if=\"value && isConcentrationPercent\">\n                  ({{ (mass * countPercent(reagent)[ion] / (value * totalFertilizerMass) * 100).toFixed(1) }}%)\n                </template>\n              </template>\n              <template v-else>\n                -\n              </template>\n            </td>\n          </tr>\n          <tr class=\"font-weight-bold\">\n            <td class=\"pl-0 text-center\">\n              Сумма\n            </td>\n            <template v-for=\"(value, ion, index) in totalIonConcentration\">\n              <td\n                v-if=\"ion !== convertIonName(ion)\"\n                class=\"text-center\"\n                :class=\"{'pr-0': index === totalIonConcentration.length - 1}\"\n                :key=\"ion\"\n              >\n                <template v-if=\"isConvertion && ion !== convertIonName(ion)\">\n                  {{ (value * totalFertilizerMass).toFixed(3) }} /\n                </template>\n                {{ (convertIonRatio(ion) * value * totalFertilizerMass).toFixed(3) }}\n              </td>\n              <td\n                v-else\n                class=\"text-center\"\n                :class=\"{'pr-0': index === totalIonConcentration.length - 1}\"\n                :key=\"ion\"\n              >\n                {{ (value * totalFertilizerMass).toFixed(3) }}\n              </td>\n            </template>\n          </tr>\n        </tbody>\n      </template>\n    </v-simple-table>\n    <div class=\"subtitle-2 mt-2\">\n      Соотношение элементов\n      <v-tooltip\n        bottom\n        max-width=\"400\"\n      >\n        <template v-slot:activator=\"{ on }\">\n          <v-icon v-on=\"on\">\n            mdi-help-circle-outline\n          </v-icon>\n        </template>\n        Учитывает соотношение только между интересующими аквариумиста элементами.\n        Такие элементы как сера, хлор, водород, кислород и т.д. в данном соотношении\n        не участвуют.\n      </v-tooltip>:\n    </div>\n    <div>\n      <span\n        v-for=\"(value, ion) in totalIonConcentration\"\n        class=\"mr-2\"\n        :key=\"ion\"\n      >\n        {{ convertIonName(ion) }}\n        ({{ value\n          ? (convertIonRatio(ion) * value / totalUsefulConcentration).toFixed(5)\n          : '???' }} %)\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { convertIonName, convertIonRatio, countPercent } from '@/helpers/funcs';\n\nexport default {\n  name: 'ElementsDryTable',\n  props: {\n    totalIonConcentration: {\n      type: Object,\n      default: () => {},\n    },\n    fertilizerMass: {\n      type: Object,\n      default: () => {},\n    },\n    totalFertilizerMass: {\n      type: Number,\n      default: 0,\n    },\n  },\n  data() {\n    return {\n      isConcentrationPercent: false,\n      isConvertion: false,\n    };\n  },\n  computed: {\n    totalUsefulConcentration() {\n      let sum = 0;\n      Object.entries(this.totalIonConcentration).forEach(([ion, value]) => {\n        sum += this.convertIonRatio(ion) * value;\n      });\n      return sum;\n    },\n  },\n  methods: {\n    convertIonRatio,\n    convertIonName,\n    countPercent,\n  },\n};\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsDryTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsDryTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElementsDryTable.vue?vue&type=template&id=5eadf262&scoped=true&\"\nimport script from \"./ElementsDryTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ElementsDryTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5eadf262\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VIcon,VSimpleTable,VSwitch,VTooltip})\n","<!--\n  Samomes\n\n  Copyright (C) 2021 Mikhail Lapshin\n\n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <v-container class=\"mb-12\">\n    <v-row>\n      <v-col\n        cols=\"12\"\n        sm=\"8\"\n        offset-sm=\"2\"\n      >\n        <v-btn\n          class=\"mr-0\"\n          square\n          to=\"/recipes\"\n        >\n          <v-icon>mdi-chevron-left</v-icon>\n        </v-btn>\n      </v-col>\n      <page-title>\n        <template v-if=\"isCreate && !isShared\">\n          Новый рецепт\n        </template>\n        <template v-if=\"isCreate && isShared\">\n          <p class=\"text-h4\">\n            С вами поделились рецептом!\n          </p>\n          <p class=\"text-h6 font-weight-regular\">\n            Посмотрите рецепт, дайте ему\n            название и напишите примечание. После этого можете сохранить его.\n          </p>\n        </template>\n        <template v-else>\n          Рецепт {{ name }}\n        </template>\n      </page-title>\n      <v-col\n        cols=\"12\"\n        md=\"8\"\n        offset-md=\"2\"\n      >\n        <v-form ref=\"recipeForm\">\n          <v-row>\n            <v-col\n              cols=\"12\"\n              class=\"pt-0 mt-8\"\n            >\n              <v-row>\n                <v-col\n                  cols=\"12\"\n                  sm=\"6\"\n                >\n                  <v-select\n                    :items=\"formulas\"\n                    item-text=\"text\"\n                    item-value=\"value\"\n                    v-model=\"reagents\"\n                    multiple\n                    label=\"Реагент\"\n                    hint=\"Вы можете выбрать несколько реагентов\"\n                    persistent-hint\n                    hide-details=\"auto\"\n                    :rules=\"rulesReagent\"\n                  />\n                </v-col>\n                <v-col\n                  cols=\"12\"\n                  sm=\"6\"\n                >\n                  <v-select\n                    :items=\"recipesExamples\"\n                    v-model=\"recipeExampleChosen\"\n                    label=\"Рецепт\"\n                    hint=\"или выбрать один из рецептов\"\n                    persistent-hint\n                    hide-details=\"auto\"\n                  />\n                </v-col>\n                <v-col\n                  cols=\"12\"\n                  class=\"pt-0\"\n                >\n                  <div\n                    v-if=\"reagents.length > 0\"\n                    class=\"mt-3\"\n                  >\n                    <template v-for=\"reagent in reagents\">\n                      <div\n                        class=\"d-flex justify-space-between caption\"\n                        :key=\"reagent.value\"\n                      >\n                        <div>{{ reagent }}</div>\n                        <div>{{ showComponents(countPercent(reagent)) }}</div>\n                      </div>\n                    </template>\n                  </div>\n                  <div\n                    v-if=\"reagents.length > 0\"\n                    class=\"mt-3\"\n                  >\n                    <small>\n                      *Так как аквариумисту удобнее работать с нитратом (NO3), а не с азотом (N), далее\n                      азот в любой форме будет приведен к нитрату.\n                    </small>\n                  </div>\n                </v-col>\n                <v-expand-transition>\n                  <v-col\n                    v-if=\"reagents.length > 0\"\n                    cols=\"12\"\n                  >\n                    <v-radio-group\n                      :value=\"isWater\"\n                      @change=\"setIsWater\"\n                      row\n                      hide-details=\"auto\"\n                    >\n                      <v-radio\n                        label=\"Водный раствор\"\n                        :value=\"true\"\n                      />\n                      <v-radio\n                        label=\"Безводная смесь\"\n                        :value=\"false\"\n                      />\n                    </v-radio-group>\n                  </v-col>\n                </v-expand-transition>\n                <v-expand-transition>\n                  <v-col\n                    v-if=\"reagents.length > 0 && isWater\"\n                    cols=\"12\"\n                  >\n                    <v-text-field\n                      :value=\"volume\"\n                      @input=\"inputVolume\"\n                      type=\"number\"\n                      label=\"Введите объем удобрения\"\n                      suffix=\"мл\"\n                      hint=\"Выбирайте объем, который вы сможете использовать в течении 2-3x месяцев.\n                              Обычно это 250-300 мл.\"\n                      hide-details=\"auto\"\n                      :rules=\"[isWater ? rulesVolume.isExist() : true]\"\n                    />\n                  </v-col>\n                </v-expand-transition>\n                <v-expand-transition>\n                  <v-col\n                    v-if=\"reagents.length > 0 && (volume || !isWater)\"\n                    cols=\"12\"\n                  >\n                    <v-row>\n                      <v-col\n                        v-if=\"isWater\"\n                        cols=\"12\"\n                      >\n                        <div class=\"d-flex align-center\">\n                          <v-divider />\n                          <span class=\"mx-3\">\n                            Введите массу реагента\n                            <v-tooltip\n                              bottom\n                              max-width=\"400\"\n                            >\n                              <template v-slot:activator=\"{ on }\">\n                                <v-icon v-on=\"on\">mdi-help-circle-outline</v-icon>\n                              </template>\n                              Введите массу реагента и калькулятор автоматически рассчитает\n                              дозы элементов, которые показаны ниже.\n                            </v-tooltip>\n                          </span>\n                          <v-divider />\n                        </div>\n                      </v-col>\n                      <v-col\n                        v-for=\"reagent in reagents\"\n                        cols=\"12\"\n                        :key=\"reagent\"\n                        class=\"py-0\"\n                      >\n                        <v-text-field\n                          :value=\"mass[reagent]\"\n                          @input=\"inputMass($event, reagent)\"\n                          type=\"number\"\n                          :label=\"reagent\"\n                          suffix=\"г\"\n                          :hint=\"isWater ? fertilizerMassHint(reagent) : ''\"\n                          hide-details=\"auto\"\n                          :key=\"reagent\"\n                          :rules=\"[\n                            rulesMass.isExist(),\n                          ]\"\n                          :error=\"(mass[reagent] / volume) * 1000\n                            > FORMULAS[reagent].solubilityLimit\"\n                          :error-messages=\"\n                            (mass[reagent] / volume) * 1000\n                              > FORMULAS[reagent].solubilityLimit\n                              ? `Достигнута максимальная растворимость -\n                                      ${FORMULAS[reagent].solubilityLimit} г/л при 20°С!`\n                              : ''\n                          \"\n                        />\n                      </v-col>\n                      <v-col\n                        v-if=\"isWater\"\n                        cols=\"12\"\n                        class=\"mt-2 pb-0\"\n                      >\n                        <v-btn\n                          center\n                          text\n                          @click=\"isShowConcentration = !isShowConcentration\"\n                          class=\"px-0\"\n                        >\n                          Показать концентрации\n                          <v-icon>{{ isShowConcentration ? 'mdi-chevron-up' : 'mdi-chevron-down' }}</v-icon>\n                        </v-btn>\n                      </v-col>\n                      <v-expand-transition>\n                        <v-col\n                          cols=\"12\"\n                          v-if=\"isShowConcentration && isWater\"\n                          class=\"pt-0\"\n                        >\n                          <elements-table\n                            :total-ion-concentration=\"totalIonConcentration\"\n                            :fertilizer-mass=\"mass\"\n                            :concentration=\"concentration\"\n                          />\n                        </v-col>\n                      </v-expand-transition>\n                      <v-expand-transition>\n                        <v-col\n                          cols=\"12\"\n                          v-if=\"!isWater\"\n                          class=\"pt-0\"\n                        >\n                          <elements-dry-table\n                            :total-ion-concentration=\"totalIonConcentration\"\n                            :fertilizer-mass=\"mass\"\n                            :total-fertilizer-mass=\"totalFertilizerMass\"\n                          />\n                        </v-col>\n                      </v-expand-transition>\n                      <v-col\n                        v-if=\"isWater\"\n                        cols=\"12\"\n                      >\n                        <div class=\"d-flex align-center\">\n                          <v-divider />\n                          <span class=\"mx-3\">\n                            Или введите дозу элемента\n                            <v-tooltip\n                              bottom\n                              max-width=\"400\"\n                            >\n                              <template v-slot:activator=\"{ on }\">\n                                <v-icon v-on=\"on\">mdi-help-circle-outline</v-icon>\n                              </template>\n                              Калькулятор автоматически рассчитает\n                              необходимую массу реагента.\n                              Доза - это количество элемента, на которую повысится концентрация\n                              элемента в заданном объеме аквариума при внесении 1 мл удобрения.\n                              Например, вы хотите сделать макро удобрение с нитратом.\n                              И для удобства введения его в аквариум вы бы хотели, чтобы\n                              на каждый вводимый 1 мл удобрения, нитрат повышался на 0.5 мг/л.\n                              0.5 - это доза.\n                            </v-tooltip>\n                          </span>\n                          <v-divider />\n                        </div>\n                      </v-col>\n                      <v-expand-transition>\n                        <v-col\n                          v-if=\"reagents.length > 0 && isWater\"\n                          cols=\"12\"\n                        >\n                          <v-combobox\n                            :items=\"tanks\"\n                            v-model.number=\"tankVolume\"\n                            type=\"Number\"\n                            item-text=\"name\"\n                            item-value=\"volume\"\n                            label=\"Объем аквариума\"\n                            persistent-hint\n                            hide-selected\n                            hint=\"Выберите аквариум или введите объем\"\n                            suffix=\"л\"\n                            :return-object=\"false\"\n                          />\n                        </v-col>\n                      </v-expand-transition>\n                      <v-col\n                        v-if=\"tankVolume && isWater\"\n                        cols=\"12\"\n                        class=\"pb-0\"\n                      >\n                        <v-row>\n                          <template v-for=\"reagent in reagents\">\n                            <v-col\n                              cols=\"12\"\n                              :key=\"reagent\"\n                              class=\"py-0\"\n                            >\n                              <v-row class=\"mb-3\">\n                                <template v-for=\"(data, ion) in FORMULAS[reagent].ions\">\n                                  <v-col\n                                    v-if=\"data.isNeeded\"\n                                    :key=\"reagent + ion\"\n                                    class=\"py-0\"\n                                  >\n                                    <v-text-field\n                                      :value=\"solute[reagent][ion]\"\n                                      @input=\"inputIonDose($event, reagent, ion)\"\n                                      type=\"number\"\n                                      :label=\"convertIonName(ion) + ', мг/л'\"\n                                      :hint=\"'из ' + reagent\"\n                                      persistent-hint\n                                    />\n                                  </v-col>\n                                </template>\n                              </v-row>\n                            </v-col>\n                          </template>\n                          <v-col\n                            v-if=\"reagents.length > 1\"\n                            cols=\"12\"\n                            class=\"d-flex justify-space-between pb-0\"\n                          >\n                            <div>\n                              Общая доза, мг/л\n                            </div>\n                            <div class=\"d-flex flex-column\">\n                              <div\n                                v-for=\"(value, ionName) in countTotalIonDose(solute)\"\n                                class=\"d-flex justify-space-between\"\n                                :key=\"ionName\"\n                              >\n                                <div>{{ convertIonName(ionName) }}:</div>\n                                <div class=\"ml-3\">\n                                  {{ value.toFixed(3) }}\n                                  <template v-if=\"countTotalDose(solute)\">\n                                    ({{ (value / countTotalDose(solute) * 100).toFixed(2) }}%)\n                                  </template>\n                                </div>\n                              </div>\n                            </div>\n                          </v-col>\n                        </v-row>\n                      </v-col>\n                    </v-row>\n                  </v-col>\n                </v-expand-transition>\n                <v-expand-transition>\n                  <v-col\n                    v-if=\"reagents.length > 0 && (volume || !isWater)\"\n                    cols=\"12\"\n                  >\n                    <v-row>\n                      <v-col cols=\"12\">\n                        <v-text-field\n                          v-model=\"name\"\n                          label=\"Имя рецепта\"\n                          hide-details=\"auto\"\n                          hint=\"Придумайте имя рецепта, чтобы не путать его с другими рецептами\"\n                          :rules=\"rulesName\"\n                        />\n                      </v-col>\n                      <v-col cols=\"12\">\n                        <v-textarea\n                          v-model=\"note\"\n                          label=\"Примечание\"\n                          hide-details=\"auto\"\n                          auto-grow\n                          rows=\"1\"\n                          hint=\"Вы можете добавить дополнительные сведения к рецепту\"\n                        />\n                      </v-col>\n                      <v-col\n                        class=\"text-right\"\n                        cols=\"12\"\n                      >\n                        <v-btn\n                          v-if=\"!isCreate\"\n                          @click=\"removeRecipe\"\n                        >\n                          Удалить\n                        </v-btn>\n                        <v-btn\n                          v-if=\"!isCreate\"\n                          color=\"primary\"\n                          @click=\"editRecipe\"\n                          class=\"ml-2\"\n                        >\n                          Сохранить\n                        </v-btn>\n                        <v-btn\n                          v-if=\"isCreate\"\n                          color=\"primary\"\n                          @click=\"addRecipe\"\n                        >\n                          Добавить\n                        </v-btn>\n                      </v-col>\n                    </v-row>\n                  </v-col>\n                </v-expand-transition>\n              </v-row>\n            </v-col>\n          </v-row>\n        </v-form>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport FORMULAS from '@/constants/formulas';\nimport RECIPES from '@/constants/recipes';\nimport {\n  countTotalIonConcentration,\n  countPercent,\n  isConcentration,\n  countTotalIonDose,\n  countTotalDose,\n  convertIonName,\n  convertIonRatio,\n  OPPOSITE,\n} from '@/helpers/funcs';\nimport { mapState, mapMutations } from 'vuex';\nimport ElementsTable from '@/components/recipes/ElementsTable.vue';\nimport ElementsDryTable from '@/components/recipes/ElementsDryTable.vue';\n\nexport default {\n  name: 'Recipe',\n  components: {\n    ElementsTable,\n    ElementsDryTable,\n  },\n  data() {\n    return {\n      FORMULAS,\n      RECIPES,\n      OPPOSITE,\n      reagents: [],\n      recipeExampleChosen: null,\n      volume: null,\n      tankVolume: null,\n      mass: {},\n      solute: {},\n      name: '',\n      note: null,\n      isShared: false,\n      isWater: true,\n      isShowConcentration: false,\n      rulesReagent: [\n        (v) => v.length > 0 || 'Выберите реагент',\n      ],\n      rulesMass: {\n        isExist() {\n          return (v) => !!v || 'Введите массу';\n        },\n      },\n      rulesVolume: {\n        isExist() {\n          return (v) => !!v || 'Введите объем удобрения';\n        },\n      },\n      rulesName: [\n        (v) => !!v || 'Введите название',\n        () => !this.isExist || 'Рецепт с таким названием уже существует',\n      ],\n    };\n  },\n  mounted() {\n    const { share } = this.$router.currentRoute.query;\n    if (share) {\n      Object.assign(this.$data, JSON.parse(decodeURIComponent(share))[0]);\n      this.isShared = true;\n    } else if (!this.isCreate) {\n      const recipe = { ...this.recipes[this.recipeIndex] };\n      Object.assign(this.$data, recipe);\n      this.isWater = recipe.volume > 0;\n    }\n  },\n  computed: {\n    ...mapState([\n      'tanks',\n      'recipes',\n    ]),\n    isCreate() {\n      return this.$route.params.id === 'create';\n    },\n    recipeIndex() {\n      return this.$route.params.id;\n    },\n    formulas() {\n      const result = [];\n      Object.entries(this.FORMULAS).forEach(([formula, data]) => {\n        result.push({\n          text: `${data.name} - ${formula}`,\n          name: `${data.name}`,\n          value: formula,\n        });\n      });\n      result.sort((a, b) => a.text.localeCompare(b.text));\n      return result;\n    },\n    recipesExamples() {\n      const recipeExamples = [];\n      this.RECIPES.forEach((item) => {\n        recipeExamples.push(item.name);\n      });\n      recipeExamples.sort((a, b) => a.localeCompare(b));\n      return recipeExamples;\n    },\n    totalFertilizerMass() {\n      return Object.values(this.mass).reduce((sum, value) => sum + value);\n    },\n    concentration() {\n      const result = {};\n      if (this.reagents.length > 0 && Object.keys(this.mass).length > 0) {\n        this.reagents.forEach((reagent) => {\n          result[reagent] = {};\n          const { ions } = FORMULAS[reagent];\n          Object.entries(ions).forEach(([ion, data]) => {\n            if (data.isNeeded) {\n              let factor = 1;\n              if (this.volume) {\n                factor = 1 / (this.volume / 1000);\n              } else if (!this.volume) {\n                factor = 1 / this.totalFertilizerMass;\n              }\n              result[reagent][ion] = this.mass[reagent] * this.countPercent(reagent)[ion] * factor;\n            }\n          });\n        });\n      }\n      return result;\n    },\n    totalIonConcentration() {\n      return this.countTotalIonConcentration(this.concentration);\n    },\n    isExist() {\n      const names = this.recipes.map((item) => item.name);\n      const index = names.findIndex((item) => item === this.name);\n      const isExist = index !== -1;\n      const isEdit = index === +this.recipeIndex;\n      return isExist && !isEdit;\n    },\n  },\n  watch: {\n    reagents() {\n      if (!this.name && this.reagents.length === 1) {\n        const reagent = this.reagents[0];\n        this.name = this.FORMULAS[reagent].name;\n      }\n      const solute = {};\n      this.reagents.forEach((reagent) => {\n        const { ions } = this.FORMULAS[reagent];\n        solute[reagent] = {};\n        Object.entries(ions).forEach(([ion, data]) => {\n          if (data.isNeeded) {\n            solute[reagent][ion] = 0;\n          }\n        });\n      });\n      this.solute = { ...solute };\n      const mass = {};\n      this.reagents.forEach((reagent) => {\n        if (!(reagent in this.mass)) {\n          mass[reagent] = 0;\n        } else {\n          mass[reagent] = this.mass[reagent];\n        }\n      });\n      this.mass = { ...mass };\n      if (this.volume) {\n        this.countDose();\n      }\n    },\n    recipeExampleChosen() {\n      const recipe = this.RECIPES.find((item) => item.name === this.recipeExampleChosen);\n      if (recipe) {\n        this.reagents = Object.keys(recipe.reagents);\n        this.name = recipe.name;\n        this.note = recipe.note;\n        this.volume = recipe.volume;\n        this.tankVolume = recipe.tankVolume;\n        Object.entries(recipe.reagents).forEach(([reagent, mass]) => {\n          this.mass[reagent] = mass;\n        });\n        this.isWater = recipe.volume > 0;\n      }\n    },\n    tankVolume() {\n      if (this.volume) {\n        this.countDose();\n      }\n    },\n  },\n  methods: {\n    ...mapMutations([\n      'RECIPE_ADD',\n      'RECIPE_REMOVE',\n      'RECIPE_EDIT',\n      'SNACKBAR_SHOW',\n    ]),\n    countTotalIonConcentration,\n    countTotalIonDose,\n    countTotalDose,\n    isConcentration,\n    countPercent,\n    convertIonName,\n    convertIonRatio,\n    countDose() {\n      this.reagents.forEach((reagent) => {\n        const { ions } = FORMULAS[reagent];\n        const result = {};\n        Object.entries(ions).forEach(([ion, data]) => {\n          if (data.isNeeded) {\n            let value = (\n              (this.mass[reagent] / this.volume / this.tankVolume)\n              * (this.countPercent(reagent)[ion] * this.convertIonRatio(ion) * 1000)\n            );\n            value = parseFloat(value.toFixed(5));\n            result[ion] = value;\n            Vue.set(this.solute, reagent, result);\n          }\n        });\n      });\n    },\n    setIsWater(value) {\n      this.isWater = value;\n      this.volume = null;\n      this.tankVolume = null;\n    },\n    showComponents(ions) {\n      const output = [];\n      Object.entries(ions).forEach(([ion, value]) => {\n        output.push(`${ion}: ${(value * 100).toFixed(1)}%`);\n      });\n      return output.join(' ');\n    },\n    inputMass(value, reagent) {\n      const mass = parseFloat(value);\n      Vue.set(this.mass, reagent, +mass ? mass : '');\n      if (this.tankVolume && +mass) {\n        this.countDose();\n      }\n    },\n    inputVolume(value) {\n      this.volume = parseFloat(value);\n      if (this.tankVolume && +this.volume) {\n        this.countDose();\n      }\n    },\n    inputIonDose(value, reagent, curIon) {\n      const solute = {};\n      const ratio = {};\n      Object.keys(this.solute[reagent]).forEach((ion) => {\n        ratio[ion] = this.convertIonRatio(ion);\n      });\n      Object.keys(this.solute[reagent]).forEach((ion) => {\n        let ionDose = parseFloat(value);\n        if (ion !== curIon) {\n          if (ratio[curIon] > 1) {\n            ionDose /= ratio[curIon];\n          } else {\n            ionDose *= ratio[ion];\n          }\n          ionDose *= (this.countPercent(reagent)[ion] / this.countPercent(reagent)[curIon]);\n        }\n        solute[ion] = parseFloat(ionDose) ? parseFloat(ionDose.toFixed(4)) : 0;\n        Vue.set(this.solute, reagent, solute);\n      });\n      const fertilizerMass = { ...this.mass };\n      let mass;\n      if (!this.solute[reagent][curIon]) {\n        mass = 0;\n      } else {\n        mass = (this.solute[reagent][curIon] * this.tankVolume * this.volume)\n          / 1000 / this.countPercent(reagent)[curIon] / this.convertIonRatio(curIon);\n      }\n      fertilizerMass[reagent] = parseFloat(mass.toFixed(3));\n      this.mass = { ...fertilizerMass };\n    },\n    fertilizerMassHint(reagent) {\n      let hint = '';\n      Object.keys(this.FORMULAS[reagent].ions).forEach((ion) => {\n        const data = this.FORMULAS[reagent].ions[ion];\n        if (data.isNeeded) {\n          if (ion !== this.convertIonName(ion)) {\n            hint += `${ion}/${this.convertIonName(ion)}:\n            ${\n              this.concentration[reagent][ion].toFixed(2)\n            }/${\n              (this.convertIonRatio(ion) * this.concentration[reagent][ion]).toFixed(2)\n            } г/л`;\n          } else {\n            hint += `${ion}:  ${this.concentration[reagent][ion].toFixed(3)} г/л `;\n          }\n        }\n      });\n      return hint;\n    },\n    addRecipe() {\n      if (this.$refs.recipeForm.validate()) {\n        this.RECIPE_ADD({\n          name: this.name,\n          note: this.note,\n          volume: this.volume,\n          reagents: [...this.reagents],\n          mass: { ...this.mass },\n          concentration: { ...this.concentration },\n          tankVolume: this.tankVolume,\n        });\n        this.SNACKBAR_SHOW('Рецепт добавлен');\n        this.$router.push('/recipes');\n      }\n    },\n    editRecipe() {\n      if (this.$refs.recipeForm.validate()) {\n        this.RECIPE_EDIT({\n          index: this.recipeIndex,\n          recipe: {\n            name: this.name,\n            note: this.note,\n            volume: this.volume,\n            tankVolume: this.tankVolume,\n            reagents: [...this.reagents],\n            mass: { ...this.mass },\n            concentration: { ...this.concentration },\n          },\n        });\n        this.SNACKBAR_SHOW('Рецепт изменен');\n        this.$router.push('/recipes');\n      }\n    },\n    removeRecipe() {\n      this.RECIPE_REMOVE(this.recipeIndex);\n      this.SNACKBAR_SHOW('Рецепт удален');\n      this.$router.push('/recipes');\n    },\n  },\n};\n</script>\n\n<style lang=\"sass\">\n.flip-list-move\n  transition: transform 0.5s\n.ghost\n  opacity: 0.5\n  background: #c8ebfb\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recipe.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recipe.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./recipe.vue?vue&type=template&id=296dd882&\"\nimport script from \"./recipe.vue?vue&type=script&lang=js&\"\nexport * from \"./recipe.vue?vue&type=script&lang=js&\"\nimport style0 from \"./recipe.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpandTransition } from 'vuetify/lib/components/transitions';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCol,VCombobox,VContainer,VDivider,VExpandTransition,VForm,VIcon,VRadio,VRadioGroup,VRow,VSelect,VTextField,VTextarea,VTooltip})\n","// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, this.$slots.default)\n  },\n})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recipe.vue?vue&type=style&index=0&lang=sass&\"","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n","// Styles\nimport '../../styles/components/_selection-controls.sass'\nimport './VSwitch.sass'\n\n// Mixins\nimport Selectable from '../../mixins/selectable'\nimport VInput from '../VInput'\n\n// Directives\nimport Touch from '../../directives/touch'\n\n// Components\nimport { VFabTransition } from '../transitions'\nimport VProgressCircular from '../VProgressCircular/VProgressCircular'\n\n// Helpers\nimport { keyCodes } from '../../util/helpers'\n\n// Types\nimport { VNode, VNodeData } from 'vue'\n\n/* @vue/component */\nexport default Selectable.extend({\n  name: 'v-switch',\n\n  directives: { Touch },\n\n  props: {\n    inset: Boolean,\n    loading: {\n      type: [Boolean, String],\n      default: false,\n    },\n    flat: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VInput.options.computed.classes.call(this),\n        'v-input--selection-controls v-input--switch': true,\n        'v-input--switch--flat': this.flat,\n        'v-input--switch--inset': this.inset,\n      }\n    },\n    attrs (): object {\n      return {\n        'aria-checked': String(this.isActive),\n        'aria-disabled': String(this.isDisabled),\n        role: 'switch',\n      }\n    },\n    // Do not return undefined if disabled,\n    // according to spec, should still show\n    // a color when disabled and active\n    validationState (): string | undefined {\n      if (this.hasError && this.shouldValidate) return 'error'\n      if (this.hasSuccess) return 'success'\n      if (this.hasColor !== null) return this.computedColor\n      return undefined\n    },\n    switchData (): VNodeData {\n      return this.setTextColor(this.loading ? undefined : this.validationState, {\n        class: this.themeClasses,\n      })\n    },\n  },\n\n  methods: {\n    genDefaultSlot (): (VNode | null)[] {\n      return [\n        this.genSwitch(),\n        this.genLabel(),\n      ]\n    },\n    genSwitch (): VNode {\n      const { title, ...switchAttrs } = this.attrs$\n\n      return this.$createElement('div', {\n        staticClass: 'v-input--selection-controls__input',\n      }, [\n        this.genInput('checkbox', {\n          ...this.attrs,\n          ...switchAttrs,\n        }),\n        this.genRipple(this.setTextColor(this.validationState, {\n          directives: [{\n            name: 'touch',\n            value: {\n              left: this.onSwipeLeft,\n              right: this.onSwipeRight,\n            },\n          }],\n        })),\n        this.$createElement('div', {\n          staticClass: 'v-input--switch__track',\n          ...this.switchData,\n        }),\n        this.$createElement('div', {\n          staticClass: 'v-input--switch__thumb',\n          ...this.switchData,\n        }, [this.genProgress()]),\n      ])\n    },\n    genProgress (): VNode {\n      return this.$createElement(VFabTransition, {}, [\n        this.loading === false\n          ? null\n          : this.$slots.progress || this.$createElement(VProgressCircular, {\n            props: {\n              color: (this.loading === true || this.loading === '')\n                ? (this.color || 'primary')\n                : this.loading,\n              size: 16,\n              width: 2,\n              indeterminate: true,\n            },\n          }),\n      ])\n    },\n    onSwipeLeft () {\n      if (this.isActive) this.onChange()\n    },\n    onSwipeRight () {\n      if (!this.isActive) this.onChange()\n    },\n    onKeydown (e: KeyboardEvent) {\n      if (\n        (e.keyCode === keyCodes.left && this.isActive) ||\n        (e.keyCode === keyCodes.right && !this.isActive)\n      ) this.onChange()\n    },\n  },\n})\n"],"sourceRoot":""}