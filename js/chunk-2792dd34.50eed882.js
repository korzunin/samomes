(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2792dd34"],{1269:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isSwitchers?a("div",{staticClass:"d-flex align-center mt-2 mb-2"},[a("v-switch",{staticClass:"mt-0 mb-2 mb-sm-0",attrs:{label:"dGh","hide-details":"auto"},model:{value:t.isHardness,callback:function(e){t.isHardness=e},expression:"isHardness"}})],1):t._e(),a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"pl-0 text-center"},[t._v(" Элемент ")]),t.isHardness?a("th",{staticClass:"text-center"},[t._v(" dGh ")]):t._e(),t.fertilizationType===t.FERTILIZATION_EVERY_DAY?[a("th",{staticClass:"text-center"},[t._v(" Общая доза, "),a("span",[t._v("мг/л")])]),a("th",{staticClass:"text-center"},[t._v(" В день ")])]:t._e(),t.fertilizationType===t.FERTILIZATION_IN_TAP_WATER?[a("th",{staticClass:"text-center"},[t._v(" В подмене, "),a("span",[t._v("мг/л")])]),a("th",{staticClass:"text-center"},[t._v(" В аквариуме, "),a("span",[t._v("мг/л")])]),a("th",{staticClass:"text-center"},[t._v(" В день, "),a("span",[t._v("мг/л")])])]:t._e(),t.fertilizationType===t.FERTILIZATION_MIX?[a("th",{staticClass:"text-center"},[t._v(" В подмене/аквариуме, "),a("span",[t._v("мг/л")])]),a("th",{staticClass:"text-center"},[t._v(" В день/неделю ")]),a("th",{staticClass:"text-center"},[t._v(" Общая доза, "),a("span",[t._v("мг/л")])])]:t._e()],2)]),a("tbody",t._l(t.totalElementsSorted,(function(e){var i=e[0],s=e[1];return a("tr",{key:i,class:{caption:t.$vuetify.breakpoint["xs"],regular:t.$vuetify.breakpoint["smAndUp"]}},[void 0!==s.amount?[a("td",{staticClass:"pl-0 text-center"},[t._v(" "+t._s(i)+" "),t.convertIonName(i)!==i&&t.isWithoutConversion?[t._v(" / "+t._s(t.convertIonName(i))+" ")]:t._e()],2),t.isHardness?a("td",{staticClass:"text-center"},[i in t.HARDNESS?[[t.FERTILIZATION_IN_TAP_WATER,t.FERTILIZATION_EVERY_DAY].includes(t.fertilizationType)?[t._v(" +"+t._s((s.amount/t.HARDNESS[i]).toFixed(2))+" ")]:t._e(),t.FERTILIZATION_MIX===t.fertilizationType?[t._v(" +"+t._s((s.total/t.HARDNESS[i]).toFixed(2))+" ")]:t._e()]:t._e()],2):t._e(),t.fertilizationType===t.FERTILIZATION_EVERY_DAY?[a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s(s.amount.toFixed(3))+" ")]),a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s(s.amountDay.toFixed(3))+" ")])]:t._e(),t.fertilizationType===t.FERTILIZATION_IN_TAP_WATER?[a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s((s.waterChange?s.waterChange:0).toFixed(3))+" ")]),a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s(s.amount.toFixed(3))+" ")]),a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s(s.amountDay.toFixed(3))+" ")])]:t._e(),t.fertilizationType===t.FERTILIZATION_MIX?[a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s((s.waterChange?s.waterChange:0).toFixed(3))+" / "+t._s(s.amount.toFixed(3))+" ")]),a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s(s.amountDay.toFixed(3))+" / "+t._s((s.amountDay*t.daysTotal).toFixed(3))+" ")]),a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s(s.total.toFixed(3))+" ")])]:t._e()]:t._e()],2)})),0)]},proxy:!0}])}),t.isHelpful&&t.isHelpfulInfo?a("div",{staticClass:"d-flex flex-column flex-sm-row justify-space-between caption mt-2"},[t.totalElements["P"]>0&&t.totalElements["N"]>0?a("div",{staticClass:"mr-2"},[t._v(" NO3 / PO4 = "+t._s((t.totalElements["N"]*t.convertIonRatio("N")/(t.totalElements["P"]*t.convertIonRatio("P"))).toFixed(2))+" (N / P = "+t._s((t.totalElements["N"]/t.totalElements["P"]).toFixed(2))+") ")]):t._e(),t.totalElements["P"]>0&&t.totalElements["B"]>0?a("div",{staticClass:"mr-2"},[t._v(" P / B = "+t._s((t.totalElements["P"]/t.totalElements["B"]).toFixed(2))+" ")]):t._e(),t.totalElements["Fe"]>0&&t.totalElements["B"]>0?a("div",{staticClass:"mr-2"},[t._v(" Fe / B = "+t._s((t.totalElements["Fe"]/t.totalElements["B"]).toFixed(2))+" ")]):t._e()]):t._e()],1)},s=[],n=(a("a9e3"),a("159b"),a("07ac"),a("b64b"),a("4e827"),a("da53")),o=a("2a18"),l=a("da09"),r={name:"ElementsTable",props:{fertilizationType:{type:Number,default:l["a"]},recipesSelected:{type:Array,default:function(){return[]}},daysTotal:{type:Number,default:1},volume:{type:Number,default:null},waterChange:{type:Number,default:0},isHelpfulInfo:{type:Boolean,default:!1},isSwitchers:{type:Boolean,default:!1}},data:function(){return{HARDNESS:o["a"],FERTILIZATION_IN_TAP_WATER:l["b"],FERTILIZATION_EVERY_DAY:l["a"],FERTILIZATION_MIX:l["c"],isWithoutConversion:!1,isHardness:!1}},computed:{isHelpful:function(){return this.totalElements.P>0&&this.totalElements.N>0||this.totalElements.P>0&&this.totalElements.B>0||this.totalElements.Fe>0&&this.totalElements.B>0},totalElements:function(){var t=this,e={};return this.recipesSelected.forEach((function(a){Object.values(a.concentration).forEach((function(i){Object.keys(i).forEach((function(s){if(s in e||(e[s]={amount:0,amountDay:0,waterChange:0,total:0}),t.fertilizationType===l["a"]){var n=a.amount*i[s]/t.volume;e[s].amount+=n,e[s].amountDay+=n/t.daysTotal,!a.volume&&t.isRecipe(a)&&(e[s].amount*=1e3,e[s].amountDay*=1e3)}else if(t.fertilizationType===l["b"]){var o=a.amount*i[s]/t.volume,r=t.waterChange?a.amount*i[s]/t.waterChange:0;e[s].amount+=o,e[s].amountDay+=o/t.daysTotal,e[s].waterChange+=r,!a.volume&&t.isRecipe(a)&&(e[s].amount*=1e3,e[s].amountDay*=1e3,e[s].waterChange*=1e3)}else if(t.fertilizationType===l["c"]){var c=a.amount*i[s]/t.volume,u=t.waterChange?a.amount*i[s]/t.waterChange:0,d=a.amountDay*i[s]/t.volume,h=c+d*t.daysTotal;e[s].amount+=c,e[s].waterChange+=u,e[s].amountDay+=d,e[s].total+=h,!a.volume&&t.isRecipe(a)&&(e[s].amount*=1e3,e[s].waterChange*=1e3,e[s].amountDay*=1e3,e[s].total*=1e3)}}))}))})),e},totalElementsSorted:function(){var t=this,e=[];return Object.keys(this.totalElements).forEach((function(a){e.push([t.convertIonName(a),{amount:t.convertIonRatio(a)*t.totalElements[a].amount,amountDay:t.convertIonRatio(a)*t.totalElements[a].amountDay,waterChange:t.convertIonRatio(a)*t.totalElements[a].waterChange,total:t.convertIonRatio(a)*t.totalElements[a].total}])})),e.sort((function(t,e){return e[1].amount-t[1].amount})),e}},methods:{convertIonName:n["b"],convertIonRatio:n["c"],isFertilizer:n["i"],isRecipe:n["j"]}},c=r,u=a("2877"),d=a("6544"),h=a.n(d),m=a("1f4f"),p=a("b73d"),f=Object(u["a"])(c,i,s,!1,null,"2a5193fe",null);e["a"]=f.exports;h()(f,{VSimpleTable:m["a"],VSwitch:p["a"]})},"1f4f":function(t,e,a){"use strict";var i=a("5530"),s=(a("a9e3"),a("8b37"),a("80d2")),n=a("7560"),o=a("58df");e["a"]=Object(o["a"])(n["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(i["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(s["f"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"2a18":function(t,e,a){"use strict";e["a"]={Mg:4.346,Ca:7.144}},"421f":function(t,e,a){"use strict";a("b601")},"8b37":function(t,e,a){},"9d01":function(t,e,a){},afdd:function(t,e,a){"use strict";var i=a("8336");e["a"]=i["a"]},b601:function(t,e,a){},b73d:function(t,e,a){"use strict";var i=a("15fd"),s=a("5530"),n=(a("0481"),a("ec29"),a("9d01"),a("fe09")),o=a("c37a"),l=a("c3f0"),r=a("0789"),c=a("490a"),u=a("80d2"),d=["title"];e["a"]=n["a"].extend({name:"v-switch",directives:{Touch:l["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},o["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){var t=this.attrs$,e=(t.title,Object(i["a"])(t,d));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(s["a"])(Object(s["a"])({},this.attrs),e)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(s["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(s["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(r["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(c["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===u["s"].left&&this.isActive||t.keyCode===u["s"].right&&!this.isActive)&&this.onChange()}}})},da09:function(t,e,a){"use strict";a.d(e,"a",(function(){return l})),a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return c}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isFertilizationTypes?a("v-radio-group",{staticClass:"my-2",attrs:{value:t.fertilizationType,row:"","hide-details":"auto"},on:{change:function(e){return t.$emit("change",e)}}},[a("v-radio",{attrs:{label:"Каждый день",value:0}}),a("v-radio",{attrs:{label:"В подменную воду",value:1}}),a("v-radio",{attrs:{label:"Комбинированная подача",value:2}})],1):t._e(),[t.FERTILIZATION_IN_TAP_WATER,t.FERTILIZATION_MIX].includes(t.fertilizationType)&&t.isWaterChange?a("v-text-field",{staticClass:"mt-4",attrs:{value:t.waterChangeVolume,type:"Number",label:"Введите объем подмены",hint:"Это нужно для подсчета дозы на подмену"},on:{input:function(e){return t.$emit("water-change",+e)}}}):t._e(),a("div",{staticClass:"d-flex mt-4"},[[t.FERTILIZATION_IN_TAP_WATER,t.FERTILIZATION_MIX].includes(t.fertilizationType)&&t.isFertilizationTypes?a("div",{staticClass:"text-subtitle-1 font-weight-medium w-50 pr-2",class:{"w-100":t.fertilizationType===t.FERTILIZATION_IN_TAP_WATER}},[t.FERTILIZATION_IN_TAP_WATER===t.fertilizationType?[t._v(" Весь объем удобрений ")]:[t._v(" Доза после подмены ")],a("v-divider")],2):t._e(),[t.FERTILIZATION_EVERY_DAY,t.FERTILIZATION_MIX].includes(t.fertilizationType)?a("div",{staticClass:"text-subtitle-1 w-50 font-weight-medium pr-2",class:{"w-100":t.fertilizationType===t.FERTILIZATION_EVERY_DAY}},[t._v(" Ежедневная доза "),a("v-divider")],1):t._e()]),t._l(t.recipesSelected,(function(e,i){return a("div",{key:i,staticClass:"d-flex justify-space-between align-center"},[[t.FERTILIZATION_IN_TAP_WATER,t.FERTILIZATION_MIX].includes(t.fertilizationType)?a("base-text-field",{staticClass:"w-50 pr-2",attrs:{value:e.amount,type:"number",label:e.name,suffix:e.volume>0||t.isFertilizer(e)?"мл":"г","hide-details":"auto"},on:{input:function(e){return t.inputRecipeAmount(e,i)}}}):t._e(),[t.FERTILIZATION_EVERY_DAY,t.FERTILIZATION_MIX].includes(t.fertilizationType)?a("base-text-field",{staticClass:"w-50 pr-2",attrs:{value:e.amountDay,type:"number",label:e.name,suffix:e.volume>0||t.isFertilizer(e)?"мл/день":"г/день","hide-details":"auto"},on:{input:function(e){return t.inputRecipeAmountDay(e,i)}}}):t._e()],1)}))],2)},s=[],n=a("5530"),o=(a("a9e3"),a("da53")),l=0,r=1,c=2,u={name:"FertilizersDoseTable",props:{fertilizationType:{type:Number,default:l},recipesSelected:{type:Array,default:function(){return[]}},days:{type:Number,default:1},waterChangeVolume:{type:Number,default:0},isFertilizationTypes:{type:Boolean,default:!0},isWaterChange:{type:Boolean,default:!0}},data:function(){return{FERTILIZATION_IN_TAP_WATER:r,FERTILIZATION_EVERY_DAY:l,FERTILIZATION_MIX:c}},methods:{isFertilizer:o["i"],inputRecipeAmount:function(t,e){var a=this.recipesSelected[e],i=""!==t?+t:"";if(this.fertilizationType===r){var s=i/this.days;this.$emit("input",e,Object(n["a"])(Object(n["a"])({},a),{},{amount:i,amountDay:s}))}else this.fertilizationType===c&&this.$emit("input",e,Object(n["a"])(Object(n["a"])({},a),{},{amount:i}))},inputRecipeAmountDay:function(t,e){var a=this.recipesSelected[e],i=""!==t?+t:"";if(this.fertilizationType===l){var s=i*this.days;this.$emit("input",e,Object(n["a"])(Object(n["a"])({},a),{},{amount:s,amountDay:i}))}else this.fertilizationType===c&&this.$emit("input",e,Object(n["a"])(Object(n["a"])({},a),{},{amountDay:i}))}}},d=u,h=(a("421f"),a("2877")),m=a("6544"),p=a.n(m),f=a("ce7e"),_=a("67b6"),v=a("43a6"),I=a("8654"),T=Object(h["a"])(d,i,s,!1,null,"249d425f",null);e["d"]=T.exports;p()(T,{VDivider:f["a"],VRadio:_["a"],VRadioGroup:v["a"],VTextField:I["a"]})}}]);
//# sourceMappingURL=chunk-2792dd34.50eed882.js.map