(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f935b80"],{1648:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"mb-12"},[i("v-row",[i("page-title",[t._v(" Расписание ")]),i("guide",[t._v(" На этой странице можно составить расписание внесения удобрений в аквариум. "),i("br"),i("br"),t._v(" Калькулятор сам рассчитает концентрации элементов, по которым можно прикинуть дозировки вносимых удобрений. А так же предложит составить расписание. ")]),0===t.schedules.length?i("v-col",{attrs:{cols:"12",md:"8","offset-md":"2"}},[i("p",{staticClass:"mb-8",class:{"text-h6":t.$vuetify.breakpoint["xs"],"text-h5":t.$vuetify.breakpoint["smAndUp"]}},[t._v(" У вас нет ни одного расписания ")])]):t._e(),i("v-col",{attrs:{cols:"12",md:"8","offset-md":"2"}},t._l(t.schedules,(function(t,e){return i("Schedule",{key:e,attrs:{"schedule-index":e}})})),1)],1),i("add-button",{attrs:{action:t.openAddSchedule}},[t._v(" Добавить расписание ")])],1)},a=[],n=i("5530"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"mb-2"},[i("v-card-title",{staticClass:"headline d-flex justify-space-between align-start flex-nowrap"},[i("div",{staticClass:"no-break"},[t._v(" "+t._s(t.schedule.tank.name)+" ")])]),i("v-card-subtitle",[i("span",[t._v("Объем: "+t._s(t.schedule.tank.volume)+" л")])]),i("v-card-text",[i("v-stepper",{attrs:{"alt-labels":""},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},[i("v-stepper-items",[[t.FERTILIZATION_IN_TAP_WATER,t.FERTILIZATION_MIX].includes(t.fertilizationType)?i("v-stepper-content",{staticClass:"pa-0 pb-8",attrs:{step:1}},[i("div",{staticClass:"d-flex flex-column text-h4 text-center mb-4"},[i("div",[i("span",{staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(t.schedule.datesColumn[0].weekday))]),t._v(", "),i("span",[t._v(t._s(t.schedule.datesColumn[0].date))])]),i("div",{staticClass:"text-center text-body-1"},[t._v(" Подмена ")])]),[t.FERTILIZATION_IN_TAP_WATER,t.FERTILIZATION_MIX].includes(t.schedule.fertilizationType)?i("div",t._l(t.waterChangeQuotas,(function(e,s){return i("div",{key:"water_change_"+s},[i("v-row",[i("v-col",{staticClass:"py-1",attrs:{cols:"12",sm:"10","offset-sm":"1"}},[i("schedule-button",{attrs:{disabled:null===e,status:t.schedule.completedWaterChange[s],value:e,sum:t.totalSum[s]["sum"],amount:t.totalSum[s]["amount"],"recipe-name":s},on:{click:function(e){return t.clickWaterChangeDay(s)}}},[t._v(" "+t._s(s)+" ")])],1)],1)],1)})),0):t._e()]):t._e(),t.fertilizationType!==t.FERTILIZATION_IN_TAP_WATER?t._l(t.slidesNumbers,(function(e,s){return i("v-stepper-content",{key:e+"-content",staticClass:"pa-0 pb-8",attrs:{step:e}},[i("div",{staticClass:"d-flex flex-column text-h4 text-center mb-4"},[i("div",[i("span",{staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(t.schedule.datesColumn[s].weekday))]),t._v(", "),i("span",[t._v(t._s(t.schedule.datesColumn[s].date))])]),i("div",{staticClass:"text-center text-body-1"},[t._v(" "+t._s(t._f("format")(t.schedule.datesRange[0],"DD MMMM"))+" - "+t._s(t._f("format")(t.schedule.datesRange[1],"DD MMMM"))+" ")])]),t._l(t.daysQuotas,(function(a,n){return i("div",{key:n+e},[i("v-row",[i("v-col",{staticClass:"py-1",attrs:{cols:"12",sm:"10","offset-sm":"1"}},[i("schedule-button",{attrs:{disabled:!t.schedule.selected[n][s]||null===t.daysQuotas[n][s],status:t.schedule.completed[n][s],value:a[s],sum:t.totalSum[n]["sum"],amount:t.totalSum[n]["amount"],"recipe-name":n},on:{click:function(e){return t.clickDay(s,n)}}})],1)],1)],1)}))],2)})):t._e()],2)],1)],1),i("v-card-actions",[t.fertilizationType!==t.FERTILIZATION_IN_TAP_WATER?i("v-btn",{staticClass:"ml-auto",attrs:{text:"",disabled:t.activeIndex<=1},on:{click:t.prevStep}},[t._v(" Назад ")]):t._e(),t.fertilizationType!==t.FERTILIZATION_IN_TAP_WATER?i("v-btn",{staticClass:"ml-0 ml-sm-3",attrs:{text:"",disabled:t.activeIndex===t.slidesTotal},on:{click:t.nextStep}},[t._v(" Далее ")]):t._e(),i("v-btn",{class:{"ml-auto":t.fertilizationType===t.FERTILIZATION_IN_TAP_WATER,"ml-0 ml-sm-3":t.fertilizationType!==t.FERTILIZATION_IN_TAP_WATER},attrs:{text:""},on:{click:function(e){return t.$router.push("/schedules/"+t.scheduleIndex)}}},[t._v(" Открыть ")])],1),i("v-progress-linear",{attrs:{value:t.progressValue}})],1)},o=[],l=i("2909"),c=(i("a9e3"),i("fb6a"),i("b64b"),i("159b"),i("b0c0"),i("4de4"),i("cb29"),i("07ac"),i("c740"),i("da09")),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-btn",t._g({staticClass:"mb-2 px-3",staticStyle:{"max-width":"100%"},attrs:{disabled:t.disabled,block:"","x-large":"",tile:"",color:["primary","primary","grey"][t.status],outlined:[!0,!1,!0][t.status]},scopedSlots:t._u([{key:"default",fn:function(){return[i("div",{staticClass:"d-flex align-center w-100"},[i("v-icon",{attrs:{color:["primary","white","grey"][t.status]}},[t._v(" "+t._s(["far fa-circle","far fa-check-circle","far fa-times-circle"][t.status])+" ")]),i("div",{staticClass:"d-flex justify-start justify-sm-center text-truncate flex-grow-1 text-subtitle-2\n               text-sm-h6 font-weight-regular mx-2"},[i("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis",position:"relative",top:"1px"}},[t._v(" "+t._s(t.recipeName)+" ")])]),i("div",{staticClass:"d-flex flex-column align-end flex-shrink-1 ml-auto"},[""!==t.value?i("div",{staticClass:"text-h6 text-sm-h5"},[t._v(" "+t._s(+t.value?t.value.toFixed(1):"")+" ")]):i("div",{staticClass:"text-h6 text-sm-h5"},[t._v(" - ")]),i("div",{staticClass:"d-none d-sm-block caption mt-n2"},[t._v(" "+t._s(t.sum)+" / "+t._s(t.amount)+" ")])])],1)]},proxy:!0}])},t.$listeners))},h=[],d={name:"ScheduleButton",props:{recipeName:{type:String,default:""},disabled:{type:Boolean,default:!1},status:{type:Number,default:0},value:{type:[String,Number],default:0},sum:{type:Number,default:0},amount:{type:[String,Number],default:0}}},p=d,f=i("2877"),v=i("6544"),m=i.n(v),b=i("8336"),y=i("132d"),_=Object(f["a"])(p,u,h,!1,null,"5656b56d",null),g=_.exports;m()(_,{VBtn:b["a"],VIcon:y["a"]});var T=i("2f62"),I={name:"Schedule",components:{ScheduleButton:g},props:{scheduleIndex:{type:[String,Number],default:0}},data:function(){return{activeIndex:1,FERTILIZATION_IN_TAP_WATER:c["b"],FERTILIZATION_EVERY_DAY:c["a"],FERTILIZATION_MIX:c["c"]}},created:function(){this.fertilizationType!==c["b"]&&(this.activeIndex=this.findCurActiveDay())},computed:Object(n["a"])(Object(n["a"])({},Object(T["d"])(["schedules"])),{},{schedule:function(){return this.schedules[this.scheduleIndex]},fertilizationType:function(){return this.schedule.fertilizationType||c["a"]},slidesTotal:function(){var t=this.schedule.daysTotal;return this.fertilizationType===c["c"]&&(t+=1),t},slidesNumbers:function(){var t,e=this.schedule.daysTotal;return t=this.fertilizationType===c["c"]?Object.keys(Object(l["a"])(Array(e+2))).slice(2):Object.keys(Object(l["a"])(Array(e+1))).slice(1),t},waterChangeQuotas:function(){var t={};return this.schedule.recipesSelected.forEach((function(e){t[e.name]=e.amount||null})),t},daysQuotas:function(){var t=this;if(this.fertilizationType===c["b"])return{};var e={};return this.schedule.recipesSelected.forEach((function(i){var s=[],a=t.schedule.selected[i.name],n=t.schedule.completed[i.name],r=a.filter((function(t){return!1===t})).length,o=t.schedule.daysTotal-r,c=i.amountDay*t.schedule.daysTotal,u=c/(t.schedule.daysTotal-r);Object.keys(Object(l["a"])(Array(t.schedule.daysTotal))).forEach((function(t){if(c){switch(!0){case 1===n[t]:u=c/o,c-=u,o-=1;break;case!a[t]:u=0;break;case 2===n[t]:u=0,o-=1;break;default:u=c/o}s.push(u)}else s.push(null)})),e[i.name]=s})),e},totalSum:function(){var t=this,e={};return this.schedule.recipesSelected.forEach((function(i){var s,a=0;if(t.fertilizationType!==c["b"]&&Object.keys(t.daysQuotas[i.name]).forEach((function(e){if(t.schedule.completed[i.name][e]){var s=t.daysQuotas[i.name][e];null!==s&&(a+=s)}})),t.fertilizationType!==c["a"]&&t.schedule.completedWaterChange[i.name]){var n=t.waterChangeQuotas[i.name];null!==n&&(a+=n)}switch(!0){case t.fertilizationType===c["c"]:s=i.amount+i.amountDay*t.schedule.daysTotal;break;case t.fertilizationType===c["b"]:s=i.amount;break;default:s=i.amountDay*t.schedule.daysTotal}e[i.name]={sum:a,amount:s}})),e},isCompletedDay:function(){var t=this,e=Array(this.schedule.daysTotal).fill(!1),i=!0;return this.fertilizationType===c["c"]&&(i=Object.values(this.schedule.completedWaterChange).some((function(t){return 1===t}))),e.forEach((function(s,a){var n=!0;Object.keys(t.schedule.selected).forEach((function(i){var s=t.schedule.completed[i][a],r=t.schedule.selected[i][a];1!==s&&2!==s||(e[a]=!0),n=n&&!r})),(n&&0===a&&i||n&&e[a-1])&&(e[a]=!0)})),this.fertilizationType===c["c"]&&e.unshift(i),e},progressValue:function(){var t=this,e=0,i=0;return Object.keys(this.totalSum).forEach((function(s){i+=parseFloat(t.totalSum[s].amount),e+=parseFloat(t.totalSum[s].sum)})),e/i*100}}),methods:Object(n["a"])(Object(n["a"])({},Object(T["c"])(["SCHEDULE_COMPLETE","SCHEDULE_COMPLETE_WATER_CHANGE"])),{},{clickDay:function(t,e){this.SCHEDULE_COMPLETE({scheduleIndex:this.scheduleIndex,dayIndex:t,recipeName:e})},clickWaterChangeDay:function(t){this.SCHEDULE_COMPLETE_WATER_CHANGE({scheduleIndex:this.scheduleIndex,recipeName:t})},prevStep:function(){this.activeIndex>1&&(this.activeIndex-=1)},nextStep:function(){this.activeIndex<this.slidesTotal&&(this.activeIndex+=1)},findCurActiveDay:function(){var t=Object(l["a"])(this.isCompletedDay);t.reverse();var e=t.findIndex((function(t){return!0===t}));e=-1===e?t.length:e;var i=t.length-e+1;return i>t.length&&(i=t.length),i}})},C=I,A=(i("9a92"),i("b0af")),E=i("99d9"),x=i("62ad"),O=i("8e36"),S=i("0fd9"),w=(i("0481"),i("8836"),i("10d2")),R=i("3206"),j=i("a452"),k=i("58df"),N=i("d9bd"),V=Object(k["a"])(w["a"],Object(R["b"])("stepper"),j["a"]),D=V.extend({name:"v-stepper",provide:function(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{altLabels:Boolean,nonLinear:Boolean,flat:Boolean,vertical:Boolean},data:function(){var t={isBooted:!1,steps:[],content:[],isReverse:!1};return t.internalLazyValue=null!=this.value?this.value:(t[0]||{}).step||1,t},computed:{classes:function(){return Object(n["a"])({"v-stepper--flat":this.flat,"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear},w["a"].options.computed.classes.call(this))},styles:function(){return Object(n["a"])({},w["a"].options.computed.styles.call(this))}},watch:{internalValue:function(t,e){this.isReverse=Number(t)<Number(e),e&&(this.isBooted=!0),this.updateView()}},created:function(){this.$listeners.input&&Object(N["a"])("@input","@change",this)},mounted:function(){this.updateView()},methods:{register:function(t){"v-stepper-step"===t.$options.name?this.steps.push(t):"v-stepper-content"===t.$options.name&&(t.isVertical=this.vertical,this.content.push(t))},unregister:function(t){"v-stepper-step"===t.$options.name?this.steps=this.steps.filter((function(e){return e!==t})):"v-stepper-content"===t.$options.name&&(t.isVertical=this.vertical,this.content=this.content.filter((function(e){return e!==t})))},stepClick:function(t){var e=this;this.$nextTick((function(){return e.internalValue=t}))},updateView:function(){for(var t=this.steps.length;--t>=0;)this.steps[t].toggle(this.internalValue);for(var e=this.content.length;--e>=0;)this.content[e].toggle(this.internalValue,this.isReverse)}},render:function(t){return t(this.tag,{staticClass:"v-stepper",class:this.classes,style:this.styles},this.$slots.default)}}),L=(i("d3b7"),i("25f0"),i("0789")),$=i("80d2"),F=Object(k["a"])(Object(R["a"])("stepper","v-stepper-content","v-stepper")),z=F.extend().extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data:function(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{computedTransition:function(){var t=this.$vuetify.rtl?!this.isReverse:this.isReverse;return t?L["g"]:L["h"]},styles:function(){return this.isVertical?{height:Object($["f"])(this.height)}:{}}},watch:{isActive:function(t,e){t&&null==e?this.height="auto":this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted:function(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition:function(t){this.isActive&&"height"===t.propertyName&&(this.height="auto")},enter:function(){var t=this,e=0;requestAnimationFrame((function(){e=t.$refs.wrapper.scrollHeight})),this.height=0,setTimeout((function(){return t.isActive&&(t.height=e||"auto")}),450)},leave:function(){var t=this;this.height=this.$refs.wrapper.clientHeight,setTimeout((function(){return t.height=0}),10)},toggle:function(t,e){this.isActive=t.toString()===this.step.toString(),this.isReverse=e}},render:function(t){var e={staticClass:"v-stepper__content"},i={staticClass:"v-stepper__wrapper",style:this.styles,ref:"wrapper"};this.isVertical||(e.directives=[{name:"show",value:this.isActive}]);var s=t("div",i,[this.$slots.default]),a=t("div",e,[s]);return t(this.computedTransition,{on:this.$listeners},[a])}}),Z=i("9d26"),B=i("a9ad"),M=i("5607"),P=Object(k["a"])(B["a"],Object(R["a"])("stepper","v-stepper-step","v-stepper")),W=(P.extend().extend({name:"v-stepper-step",directives:{ripple:M["a"]},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},errorIcon:{type:String,default:"$error"},rules:{type:Array,default:function(){return[]}},step:[Number,String]},data:function(){return{isActive:!1,isInactive:!0}},computed:{classes:function(){return{"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error error--text":this.hasError,"v-stepper__step--complete":this.complete}},hasError:function(){return this.rules.some((function(t){return!0!==t()}))}},mounted:function(){this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.stepper&&this.stepper.unregister(this)},methods:{click:function(t){t.stopPropagation(),this.$emit("click",t),this.editable&&this.stepClick(this.step)},genIcon:function(t){return this.$createElement(Z["a"],t)},genLabel:function(){return this.$createElement("div",{staticClass:"v-stepper__label"},this.$slots.default)},genStep:function(){var t=!(this.hasError||!this.complete&&!this.isActive)&&this.color;return this.$createElement("span",this.setBackgroundColor(t,{staticClass:"v-stepper__step__step"}),this.genStepContent())},genStepContent:function(){var t=[];return this.hasError?t.push(this.genIcon(this.errorIcon)):this.complete?this.editable?t.push(this.genIcon(this.editIcon)):t.push(this.genIcon(this.completeIcon)):t.push(String(this.step)),t},toggle:function(t){this.isActive=t.toString()===this.step.toString(),this.isInactive=Number(t)<Number(this.step)}},render:function(t){return t("div",{staticClass:"v-stepper__step",class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click}},[this.genStep(),this.genLabel()])}}),Object($["h"])("v-stepper__header"),Object($["h"])("v-stepper__items")),G=Object(f["a"])(C,r,o,!1,null,null,null),Y=G.exports;m()(G,{VBtn:b["a"],VCard:A["a"],VCardActions:E["a"],VCardSubtitle:E["b"],VCardText:E["c"],VCardTitle:E["d"],VCol:x["a"],VProgressLinear:O["a"],VRow:S["a"],VStepper:D,VStepperContent:z,VStepperItems:W});var X={name:"Schedules",components:{Schedule:Y},computed:Object(n["a"])({},Object(T["d"])(["schedules"])),methods:{openAddSchedule:function(){return this.$router.push("/schedules/create")}}},H=X,Q=i("a523"),U=Object(f["a"])(H,s,a,!1,null,"29079bd4",null);e["default"]=U.exports;m()(U,{VCol:x["a"],VContainer:Q["a"],VRow:S["a"]})},"18bc":function(t,e,i){},"2c64":function(t,e,i){},"3d86":function(t,e,i){},"43a6":function(t,e,i){"use strict";var s=i("5530"),a=(i("a9e3"),i("ec29"),i("3d86"),i("c37a")),n=i("604c"),r=i("8547"),o=i("58df"),l=Object(o["a"])(r["a"],n["a"],a["a"]);e["a"]=l.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},a["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},a["a"].options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var t=a["a"].options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel:function(){var t=a["a"].options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="legend",t):null},onClick:n["a"].options.methods.onClick}})},5311:function(t,e,i){"use strict";var s=i("5607"),a=i("2b0e");e["a"]=a["a"].extend({name:"rippleable",directives:{ripple:s["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}})},"67b6":function(t,e,i){"use strict";var s=i("15fd"),a=i("5530"),n=(i("b0c0"),i("2c64"),i("ba87")),r=i("9d26"),o=i("c37a"),l=i("7e2b"),c=i("a9ad"),u=i("4e82"),h=i("5311"),d=i("7560"),p=i("fe09"),f=i("80d2"),v=i("58df"),m=i("d9f7"),b=["title"],y=Object(v["a"])(l["a"],c["a"],h["a"],Object(u["a"])("radioGroup"),d["a"]);e["a"]=y.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return p["a"].options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return o["a"].options.computed.computedId.call(this)},hasLabel:o["a"].options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return p["a"].options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(t){return p["a"].options.methods.genInput.call(this,"radio",t)},genLabel:function(){return this.hasLabel?this.$createElement(n["a"],{on:{click:p["b"]},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(f["o"])(this,"label")||this.label):null},genRadio:function(){var t=this.attrs$,e=(t.title,Object(s["a"])(t,b));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(r["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(Object(a["a"])({name:this.computedName,value:this.value},e)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(t){var e={staticClass:"v-radio",class:this.classes,on:Object(m["b"])({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return t("div",e,[this.genRadio(),this.genLabel()])}})},"6f19":function(t,e,i){"use strict";i("da1b")},8547:function(t,e,i){"use strict";var s=i("2b0e"),a=i("80d2");e["a"]=s["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:a["i"]}}})},8836:function(t,e,i){},"9a92":function(t,e,i){"use strict";i("18bc")},"9d01":function(t,e,i){},b73d:function(t,e,i){"use strict";var s=i("15fd"),a=i("5530"),n=(i("0481"),i("ec29"),i("9d01"),i("fe09")),r=i("c37a"),o=i("c3f0"),l=i("0789"),c=i("490a"),u=i("80d2"),h=["title"];e["a"]=n["a"].extend({name:"v-switch",directives:{Touch:o["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){var t=this.attrs$,e=(t.title,Object(s["a"])(t,h));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(a["a"])(Object(a["a"])({},this.attrs),e)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(a["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(a["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(l["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(c["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===u["s"].left&&this.isActive||t.keyCode===u["s"].right&&!this.isActive)&&this.onChange()}}})},da09:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return c}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isFertilizationTypes?i("v-radio-group",{staticClass:"my-2",attrs:{value:t.fertilizationType,row:"","hide-details":"auto"},on:{change:function(e){return t.$emit("change",e)}}},[i("v-radio",{attrs:{label:"Каждый день",value:0}}),i("v-radio",{attrs:{label:"В подменную воду",value:1}}),i("v-radio",{attrs:{label:"Комбинированная подача",value:2}})],1):t._e(),[t.FERTILIZATION_IN_TAP_WATER,t.FERTILIZATION_MIX].includes(t.fertilizationType)&&t.isWaterChange?i("v-text-field",{staticClass:"mt-4",attrs:{value:t.waterChangeVolume,type:"Number",label:"Введите объем подмены",hint:"Это нужно для подсчета дозы на подмену"},on:{input:function(e){return t.$emit("water-change",+e)}}}):t._e(),i("div",{staticClass:"d-flex mt-4"},[[t.FERTILIZATION_IN_TAP_WATER,t.FERTILIZATION_MIX].includes(t.fertilizationType)&&t.isFertilizationTypes?i("div",{staticClass:"text-subtitle-1 font-weight-medium w-50 pr-2",class:{"w-100":t.fertilizationType===t.FERTILIZATION_IN_TAP_WATER}},[t.FERTILIZATION_IN_TAP_WATER===t.fertilizationType?[t._v(" Весь объем удобрений ")]:[t._v(" Подмена ")],i("v-divider")],2):t._e(),[t.FERTILIZATION_EVERY_DAY,t.FERTILIZATION_MIX].includes(t.fertilizationType)?i("div",{staticClass:"text-subtitle-1 w-50 font-weight-medium pr-2",class:{"w-100":t.fertilizationType===t.FERTILIZATION_EVERY_DAY}},[i("div",{staticClass:"d-flex justify-space-between align-center"},[i("v-switch",{staticClass:"mt-0 mb-0 mb-sm-0",attrs:{label:t.isTotal?"Всего":"Ежедневно","hide-details":"auto"},model:{value:t.isTotal,callback:function(e){t.isTotal=e},expression:"isTotal"}})],1),i("v-divider")],1):t._e()]),t._l(t.recipesSelected,(function(e,s){return i("div",{key:s,staticClass:"d-flex justify-space-between align-center"},[[t.FERTILIZATION_IN_TAP_WATER,t.FERTILIZATION_MIX].includes(t.fertilizationType)?i("base-text-field",{staticClass:"pr-2",class:{"w-50":t.fertilizationType===t.FERTILIZATION_MIX},attrs:{value:e.amount,type:"number",label:e.name,suffix:e.volume>0||t.isFertilizer(e)?"мл":"г","hide-details":"auto"},on:{input:function(e){return t.inputRecipeAmount(e,s)}}}):t._e(),[t.FERTILIZATION_EVERY_DAY,t.FERTILIZATION_MIX].includes(t.fertilizationType)?i("div",{staticClass:"d-flex",class:{"w-100":t.fertilizationType===t.FERTILIZATION_EVERY_DAY,"w-50":t.FERTILIZATION_MIX||t.isTotal}},[t.isTotal?t._e():i("base-text-field",{staticClass:"pr-2",attrs:{value:e.amountDay,type:"number",label:e.name,suffix:e.volume>0||t.isFertilizer(e)?"мл/день":"г/день","hide-details":"auto"},on:{input:function(e){return t.inputRecipeAmountDay(e,s)}}}),t.isTotal?i("base-text-field",{staticClass:"pr-2",attrs:{value:t.amountDayTotal[s],type:"number",label:e.name,suffix:e.volume>0||t.isFertilizer(e)?"мл":"г","hide-details":"auto"},on:{input:function(e){return t.inputRecipeAmountDayTotal(e,s)}}}):t._e()],1):t._e()],1)}))],2)},a=[],n=i("5530"),r=(i("a9e3"),i("159b"),i("da53")),o=0,l=1,c=2,u={name:"FertilizersDoseTable",props:{fertilizationType:{type:Number,default:o},recipesSelected:{type:Array,default:function(){return[]}},days:{type:Number,default:1},waterChangeVolume:{type:Number,default:0},isFertilizationTypes:{type:Boolean,default:!0},isWaterChange:{type:Boolean,default:!0}},data:function(){return{FERTILIZATION_IN_TAP_WATER:l,FERTILIZATION_EVERY_DAY:o,FERTILIZATION_MIX:c,isTotal:!1,amountDayTotal:[]}},watch:{isTotal:function(t){var e=this;t&&this.recipesSelected.forEach((function(t,i){t.amountDay&&(e.amountDayTotal[i]=t.amountDay*e.days)}))}},methods:{isFertilizer:r["i"],inputRecipeAmount:function(t,e){var i=this.recipesSelected[e],s=""!==t?+t:"";if(this.fertilizationType===l){var a=s/this.days;this.$emit("input",e,Object(n["a"])(Object(n["a"])({},i),{},{amount:s,amountDay:a}))}else this.fertilizationType===c&&this.$emit("input",e,Object(n["a"])(Object(n["a"])({},i),{},{amount:s}))},inputRecipeAmountDay:function(t,e){var i=this.recipesSelected[e],s=""!==t?+t:"";if(this.fertilizationType===o){var a=s*this.days;this.$emit("input",e,Object(n["a"])(Object(n["a"])({},i),{},{amount:a,amountDay:s}))}else this.fertilizationType===c&&this.$emit("input",e,Object(n["a"])(Object(n["a"])({},i),{},{amountDay:s}))},inputRecipeAmountDayTotal:function(t,e){var i=this.recipesSelected[e],s=""!==t?+t:"";this.amountDayTotal[e]=s;var a=s/this.days;if(this.fertilizationType===o){var r=s;this.$emit("input",e,Object(n["a"])(Object(n["a"])({},i),{},{amount:r,amountDay:a}))}else this.fertilizationType===c&&this.$emit("input",e,Object(n["a"])(Object(n["a"])({},i),{},{amountDay:a}))}}},h=u,d=(i("6f19"),i("2877")),p=i("6544"),f=i.n(p),v=i("ce7e"),m=i("67b6"),b=i("43a6"),y=i("b73d"),_=i("8654"),g=Object(d["a"])(h,s,a,!1,null,"2fbac831",null);e["d"]=g.exports;f()(g,{VDivider:v["a"],VRadio:m["a"],VRadioGroup:b["a"],VSwitch:y["a"],VTextField:_["a"]})},da1b:function(t,e,i){},ec29:function(t,e,i){},fe09:function(t,e,i){"use strict";i.d(e,"b",(function(){return o}));i("d3b7"),i("25f0"),i("4de4");var s=i("c37a"),a=i("5311"),n=i("8547"),r=i("58df");function o(t){t.preventDefault()}e["a"]=Object(r["a"])(s["a"],a["a"],n["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,i=this.internalValue;return this.isMultiple?!!Array.isArray(i)&&i.some((function(i){return t.valueComparator(i,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,i):Boolean(i):this.valueComparator(i,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=s["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:o},t):t},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:o},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var e=this.value,i=this.internalValue;if(this.isMultiple){Array.isArray(i)||(i=[]);var s=i.length;i=i.filter((function(i){return!t.valueComparator(i,e)})),i.length===s&&i.push(e)}else i=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(i,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(i,e)?null:e:!i;this.validate(!0,i),this.internalValue=i,this.hasColor=i}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}})}}]);
//# sourceMappingURL=chunk-1f935b80.0871f3e2.js.map