{"version":3,"sources":["webpack:///./src/views/recipe.vue?132b","webpack:///./src/constants/recipes.js","webpack:///./src/components/recipes/ElementsTable.vue?4657","webpack:///src/components/recipes/ElementsTable.vue","webpack:///./src/components/recipes/ElementsTable.vue?c58a","webpack:///./src/components/recipes/ElementsTable.vue","webpack:///./src/components/recipes/ElementsDryTable.vue?df43","webpack:///src/components/recipes/ElementsDryTable.vue","webpack:///./src/components/recipes/ElementsDryTable.vue?2601","webpack:///./src/components/recipes/ElementsDryTable.vue","webpack:///./src/components/recipes/HardnessTable.vue?b5e5","webpack:///src/components/recipes/HardnessTable.vue","webpack:///./src/components/recipes/HardnessTable.vue?1aef","webpack:///./src/components/recipes/HardnessTable.vue","webpack:///src/views/recipe.vue","webpack:///./src/views/recipe.vue?a573","webpack:///./src/views/recipe.vue?f2cc","webpack:///./src/constants/compounds.js","webpack:///../../../src/components/VForm/VForm.ts","webpack:///./src/views/recipe.vue?47dc","webpack:///../../../src/components/VTextarea/VTextarea.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_e","_s","name","ref","formulas","rulesReagent","model","value","callback","$$v","reagents","expression","recipesExamples","recipeExampleChosen","compoundsList","compounds","_l","reagent","key","text","showComponents","countPercent","compound","ions","isWater","on","setIsWater","isReagents","massG","volume","rulesVolume","isExist","inputVolume","scopedSlots","_u","fn","_g","mass","density","rulesMass","FORMULAS","solubilityLimit","$event","inputMass","_f","totalFertilizerMass","isLiquid","totalIonConcentration","concentration","tanks","tankVolume","_n","data","ion","solute","convertIonName","inputIonDose","Object","keys","countTotalDose","rulesName","note","isCreate","isShared","removeRecipe","editRecipe","addRecipe","staticRenderFns","KNO3","NH4NO3","C6H7KO2","KH2PO4","K2SO4","H3BO3","C6H8O6","AgroMicsT","C6H8O7","C63H88CoN14O14P","Citovit","Ferovit","C10H14N2Na2O8","C14H18N3O10Na2Fe","C4H6O4","PlantexCMM","PlantexCSM","CaCl2","K2CO3","NaHCO3","class","$vuetify","breakpoint","isConcentrationPercent","isConvertion","index","totalIonConcentrationSorted","length","staticStyle","includes","toFixed","convertIonRatio","proxy","props","type","default","fertilizerMass","computed","result","sort","methods","component","VSimpleTable","VSwitch","totalUsefulConcentration","Number","forEach","sum","isVolume","amount","totalGh","totalKh","Ca","Mg","Boolean","VTextField","components","ElementsTable","ElementsDryTable","HardnessTable","COMPOUNDS","RECIPES","OPPOSITE","mounted","share","recipe","JSON","parse","stringify","formula","push","assign","$data","$route","params","id","recipeIndex","entries","recipeExamples","item","values","reduce","isNeeded","factor","HCO3","countTotalIonConcentration","isEdit","ionTotalDoseSorted","isHardness","watch","newValue","oldValue","reagentsToRemove","countDose","compoundsToRemove","countTotalIonDose","isConcentration","output","join","isFormula","ratio","curIon","ionDose","$refs","recipeForm","validate","RECIPE_ADD","SNACKBAR_SHOW","$router","RECIPE_EDIT","RECIPE_REMOVE","VBtn","VCol","VCombobox","VContainer","VDivider","VExpandTransition","VForm","VIcon","VRadio","VRadioGroup","VRow","VSelect","VTextarea","VTooltip","Fe","Mn","Zn","Cu","Mo","B","Co","N","P","K","S","provide","form","inheritAttrs","disabled","lazyValidation","readonly","inputs","watchers","errorBag","handler","errors","deep","immediate","watchInput","watcher","input","val","_uid","valid","shouldValidate","filter","reset","resetErrorBag","setTimeout","resetValidation","register","unregister","found","find","i","unwatch","h","novalidate","attrs$","submit","e","$slots","baseMixins","autoGrow","noResize","rowHeight","validator","v","isNaN","parseFloat","rows","parseInt","classes","noResizeHandle","lazyValue","$nextTick","calculateInputHeight","height","minHeight","Math","genInput","onInput","onKeyDown","isFocused"],"mappings":"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","file":"js/chunk-9eeceb9e.a191c557.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"mb-12\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"8\",\"offset-sm\":\"2\"}},[_c('v-btn',{staticClass:\"mr-0\",attrs:{\"square\":\"\",\"to\":\"/recipes\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1)],1),_c('page-title',[(_vm.isCreate)?[_vm._v(\" Новый рецепт \")]:_vm._e(),(_vm.isShared)?[_c('p',{staticClass:\"text-h4\"},[_vm._v(\" С вами поделились рецептом! \")]),_c('p',{staticClass:\"text-h6 font-weight-regular\"},[_vm._v(\" Посмотрите рецепт, дайте ему название и напишите примечание. После этого можете сохранить его. \")])]:[_vm._v(\" Рецепт \"+_vm._s(_vm.name)+\" \")]],2),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\",\"offset-md\":\"2\"}},[_c('v-form',{ref:\"recipeForm\"},[_c('v-row',[_c('v-col',{staticClass:\"pt-0 mt-8\",attrs:{\"cols\":\"12\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-select',{attrs:{\"items\":_vm.formulas,\"item-text\":\"text\",\"multiple\":\"\",\"label\":\"Формула\",\"hint\":\"Вы можете выбрать несколько реагентов\",\"persistent-hint\":\"\",\"hide-details\":\"auto\",\"rules\":_vm.rulesReagent,\"return-object\":true},model:{value:(_vm.reagents),callback:function ($$v) {_vm.reagents=$$v},expression:\"reagents\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-select',{attrs:{\"items\":_vm.recipesExamples,\"label\":\"Рецепт\",\"hint\":\"или выбрать один из рецептов\",\"persistent-hint\":\"\",\"hide-details\":\"auto\"},model:{value:(_vm.recipeExampleChosen),callback:function ($$v) {_vm.recipeExampleChosen=$$v},expression:\"recipeExampleChosen\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-select',{attrs:{\"items\":_vm.compoundsList,\"item-text\":\"text\",\"multiple\":\"\",\"label\":\"Готовая смесь\",\"hint\":\"Вы можете выбрать несколько смесей\",\"persistent-hint\":\"\",\"hide-details\":\"auto\",\"rules\":_vm.rulesReagent,\"return-object\":true},model:{value:(_vm.compounds),callback:function ($$v) {_vm.compounds=$$v},expression:\"compounds\"}})],1),(_vm.isReagents)?_c('v-col',{staticClass:\"pt-0\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"mt-3\"},[_vm._l((_vm.reagents),function(reagent){return [_c('div',{key:reagent.value,staticClass:\"d-flex justify-space-between caption\"},[_c('div',[_vm._v(_vm._s(reagent.text))]),_c('div',[_vm._v(_vm._s(_vm.showComponents(_vm.countPercent(reagent.key))))])])]}),_vm._l((_vm.compounds),function(compound){return [_c('div',{key:compound.name,staticClass:\"d-flex justify-space-between caption\"},[_c('div',[_vm._v(_vm._s(compound.name))]),_c('div',[_vm._v(_vm._s(_vm.showComponents(compound.ions)))])])]})],2),_c('div',{staticClass:\"mt-3\"},[_c('small',[_vm._v(\" *Так как аквариумисту удобнее работать с нитратом (NO3), а не с азотом (N), далее азот в любой форме будет приведен к нитрату. \")])])]):_vm._e(),_c('v-expand-transition',[(_vm.isReagents)?_c('v-col',{attrs:{\"cols\":_vm.isWater ? 12 : 9}},[_c('v-radio-group',{attrs:{\"value\":_vm.isWater,\"row\":\"\",\"hide-details\":\"auto\"},on:{\"change\":_vm.setIsWater}},[_c('v-radio',{attrs:{\"label\":\"Водный раствор\",\"value\":true}}),_c('v-radio',{attrs:{\"label\":\"Безводная смесь\",\"value\":false}})],1)],1):_vm._e()],1),_c('v-expand-transition',[(_vm.isReagents && !_vm.isWater)?_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('number-field',{attrs:{\"type\":\"number\",\"suffix\":\"г\",\"hint\":(\"Массы реагентов в пересчете на \" + _vm.massG + \" г смеси\"),\"persistent-hint\":\"\"},model:{value:(_vm.massG),callback:function ($$v) {_vm.massG=$$v},expression:\"massG\"}})],1):_vm._e()],1),_c('v-expand-transition',[(_vm.isReagents && _vm.isWater)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('number-field',{attrs:{\"value\":_vm.volume,\"precision-show\":0,\"label\":\"Введите объем удобрения\",\"suffix\":\"мл\",\"hint\":\"Выбирайте объем, который вы сможете использовать в течении 2-3x месяцев.\\n                            Обычно это 250-300 мл.\",\"hide-details\":\"auto\",\"rules\":[_vm.isWater ? _vm.rulesVolume.isExist() : true]},on:{\"input\":_vm.inputVolume}})],1):_vm._e()],1),_c('v-expand-transition',[(_vm.isReagents && (_vm.volume || !_vm.isWater))?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-row',[(_vm.isWater)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"d-flex align-center\"},[_c('v-divider'),_c('span',{staticClass:\"mx-3\"},[_vm._v(\" Введите массу реагента \"),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"max-width\":\"400\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({},on),[_vm._v(\"mdi-help-circle-outline\")])]}}],null,false,2575987712)},[_vm._v(\" Введите массу реагента и калькулятор автоматически рассчитает дозы элементов, которые показаны ниже. \")])],1),_c('v-divider')],1)]):_vm._e(),_vm._l((_vm.reagents),function(reagent){return [_c('v-col',{key:reagent.key,staticClass:\"d-flex py-0\",attrs:{\"cols\":_vm.isWater ? 12 : 9}},[_c('number-field',{key:reagent.key,attrs:{\"value\":_vm.mass[reagent.key],\"label\":reagent.text,\"precision-show\":3,\"suffix\":reagent.density ? 'мл' : 'г',\"hide-details\":\"auto\",\"rules\":[\n                            _vm.rulesMass.isExist() ],\"error\":_vm.isWater && (_vm.mass[reagent.key] / _vm.volume) * 1000\n                            > _vm.FORMULAS[reagent.key].solubilityLimit,\"error-messages\":_vm.isWater && (_vm.mass[reagent.key] / _vm.volume) * 1000\n                              > _vm.FORMULAS[reagent.key].solubilityLimit\n                              ? (\"Достигнута максимальная растворимость -\\n                                      \" + (_vm.FORMULAS[reagent.key].solubilityLimit) + \" г/л при 20°С!\")\n                              : ''},on:{\"input\":function($event){return _vm.inputMass($event, reagent.key)}}})],1),(!_vm.isWater)?_c('v-col',{key:reagent.key + 'g',staticClass:\"text-end\",attrs:{\"cols\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"precision\")((_vm.mass[reagent.key] / _vm.totalFertilizerMass * _vm.massG),2))+\" г \")]):_vm._e()]}),_vm._l((_vm.compounds),function(compound){return _c('v-col',{key:compound.key,staticClass:\"py-0\",attrs:{\"cols\":\"12\"}},[_c('number-field',{key:compound.key,attrs:{\"value\":_vm.mass[compound.key],\"precision-show\":3,\"label\":compound.text,\"suffix\":compound.isLiquid ? 'мл' : 'г',\"hide-details\":\"auto\",\"rules\":[\n                          _vm.rulesMass.isExist() ]},on:{\"input\":function($event){return _vm.inputMass($event, compound.key)}}})],1)}),_c('v-expand-transition',[(_vm.isWater)?_c('v-col',{staticClass:\"pt-0\",attrs:{\"cols\":\"12\"}},[_c('elements-table',{attrs:{\"total-ion-concentration\":_vm.totalIonConcentration,\"fertilizer-mass\":_vm.mass,\"concentration\":_vm.concentration}})],1):_vm._e()],1),_c('v-expand-transition',[(!_vm.isWater)?_c('v-col',{staticClass:\"pt-0\",attrs:{\"cols\":\"12\"}},[_c('elements-dry-table',{attrs:{\"total-ion-concentration\":_vm.totalIonConcentration,\"fertilizer-mass\":_vm.mass,\"total-fertilizer-mass\":_vm.totalFertilizerMass}})],1):_vm._e()],1),_c('v-expand-transition',[(_vm.isHardness)?_c('v-col',{staticClass:\"pt-0\",attrs:{\"cols\":\"12\"}},[_c('hardness-table',{staticClass:\"mt-4\",attrs:{\"total-ion-concentration\":_vm.totalIonConcentration,\"is-volume\":!!_vm.volume}})],1):_vm._e()],1),(_vm.isWater)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"d-flex align-center\"},[_c('v-divider'),_c('span',{staticClass:\"mx-3\"},[_vm._v(\" Или введите дозу элемента \"),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"max-width\":\"400\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                        var on = ref.on;\nreturn [_c('v-icon',_vm._g({},on),[_vm._v(\"mdi-help-circle-outline\")])]}}],null,false,2575987712)},[_vm._v(\" Калькулятор автоматически рассчитает необходимую массу реагента. Доза - это количество элемента, на которую повысится концентрация элемента в заданном объеме аквариума при внесении 1 мл удобрения. Например, вы хотите сделать макро удобрение с нитратом. И для удобства введения его в аквариум вы бы хотели, чтобы на каждый вводимый 1 мл удобрения, нитрат повышался на 0.5 мг/л. 0.5 - это доза. \")])],1),_c('v-divider')],1)]):_vm._e(),_c('v-expand-transition',[(_vm.isReagents && _vm.isWater)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-combobox',{attrs:{\"items\":_vm.tanks,\"type\":\"number\",\"item-text\":\"name\",\"item-value\":\"volume\",\"label\":\"Объем аквариума\",\"persistent-hint\":\"\",\"hide-selected\":\"\",\"hint\":\"Выберите аквариум или введите объем\",\"suffix\":\"л\",\"return-object\":false},model:{value:(_vm.tankVolume),callback:function ($$v) {_vm.tankVolume=_vm._n($$v)},expression:\"tankVolume\"}})],1):_vm._e()],1),(_vm.tankVolume && _vm.isWater)?_c('v-col',{staticClass:\"pb-0\",attrs:{\"cols\":\"12\"}},[_c('v-row',[_vm._l((_vm.reagents),function(reagent){return [_c('v-col',{key:reagent.key,staticClass:\"py-0\",attrs:{\"cols\":\"12\"}},[_c('v-row',{staticClass:\"mb-3\"},[_vm._l((_vm.FORMULAS[reagent.key].ions),function(data,ion){return [(data.isNeeded)?_c('v-col',{key:reagent.key + ion,staticClass:\"py-0\"},[_c('number-field',{attrs:{\"value\":_vm.solute[reagent.key][ion],\"precision-show\":3,\"precision-value\":5,\"label\":_vm.convertIonName(ion) + ', мг/л',\"hint\":'из ' + reagent.key,\"persistent-hint\":\"\"},on:{\"input\":function($event){return _vm.inputIonDose($event, reagent.key, ion)}}})],1):_vm._e()]})],2)],1)]}),_vm._l((_vm.compounds),function(compound){return [_c('v-col',{key:compound.key,staticClass:\"py-0\",attrs:{\"cols\":\"12\"}},[_c('v-row',{staticClass:\"mb-3\"},[_vm._l((Object.keys(compound.ions)),function(ion){return [_c('v-col',{key:compound.key + ion,staticClass:\"py-0\"},[_c('number-field',{attrs:{\"value\":_vm.solute[compound.key][ion],\"precision-show\":3,\"precision-value\":5,\"label\":_vm.convertIonName(ion) + ', мг/л',\"hint\":'из ' + compound.key,\"persistent-hint\":\"\"},on:{\"input\":function($event){return _vm.inputIonDose($event, compound.key, ion)}}})],1)]})],2)],1)]}),(_vm.isReagents)?_c('v-col',{staticClass:\"d-flex justify-space-between pb-0\",attrs:{\"cols\":\"12\"}},[_c('div',[_vm._v(\" Общая доза, мг/л \")]),_c('div',{staticClass:\"d-flex flex-column\"},_vm._l((_vm.ionTotalDoseSorted),function(ref){\n                        var ion = ref[0];\n                        var value = ref[1];\nreturn _c('div',{key:ion,staticClass:\"d-flex justify-space-between\"},[_c('div',[_vm._v(_vm._s(_vm.convertIonName(ion))+\":\")]),_c('div',{staticClass:\"ml-3\"},[_vm._v(\" \"+_vm._s(_vm._f(\"precision\")(value,3))+\" \"),(_vm.countTotalDose(_vm.solute))?[_vm._v(\" (\"+_vm._s(_vm._f(\"precision\")((value / _vm.countTotalDose(_vm.solute) * 100),2))+\"%) \")]:_vm._e()],2)])}),0)]):_vm._e()],2)],1):_vm._e()],2)],1):_vm._e()],1),_c('v-expand-transition',[(_vm.isReagents && (_vm.volume || !_vm.isWater))?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Имя рецепта\",\"hide-details\":\"auto\",\"hint\":\"Придумайте имя рецепта, чтобы не путать его с другими рецептами\",\"rules\":_vm.rulesName},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-textarea',{attrs:{\"label\":\"Примечание\",\"hide-details\":\"auto\",\"auto-grow\":\"\",\"rows\":\"1\",\"hint\":\"Вы можете добавить дополнительные сведения к рецепту\"},model:{value:(_vm.note),callback:function ($$v) {_vm.note=$$v},expression:\"note\"}})],1),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"12\"}},[(!_vm.isCreate && !_vm.isShared)?_c('v-btn',{on:{\"click\":_vm.removeRecipe}},[_vm._v(\" Удалить \")]):_vm._e(),(!_vm.isCreate && !_vm.isShared)?_c('v-btn',{staticClass:\"ml-2\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.editRecipe}},[_vm._v(\" Сохранить \")]):_vm._e(),(_vm.isCreate || _vm.isShared)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.addRecipe}},[_vm._v(\" Добавить \")]):_vm._e()],1)],1)],1):_vm._e()],1)],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * Samomes\n *\n * Copyright (C) 2021 Mikhail Lapshin\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\nexport default [\n  {\n    name: 'Kuban Aquariums Нитрат',\n    reagents: {\n      KNO3: 49.71,\n      '(NH2)2CO': 5.02,\n      NH4NO3: 6.71,\n      C6H7KO2: 0.5,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Рецепт взят с youtube канала Kuban Aquariums (https://www.youtube.com/watch?v=Vyq-R0tv384)',\n  },\n  {\n    name: 'Kuban Aquariums Фосфат',\n    reagents: {\n      KH2PO4: 7.01,\n      C6H7KO2: 0.5,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Рецепт взят с youtube канала Kuban Aquariums (https://www.youtube.com/watch?v=Vyq-R0tv384)',\n  },\n  {\n    name: 'Kuban Aquariums Калий',\n    reagents: {\n      K2SO4: 84.76,\n      C6H7KO2: 0.5,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Рецепт взят с youtube канала Kuban Aquariums (https://www.youtube.com/watch?v=Vyq-R0tv384)',\n  },\n  {\n    name: 'Kuban Aquariums Реминерализатор',\n    reagents: {\n      'CaSO4(H2O)2': 1.88,\n      'MgSO4(H2O)7': 1.28,\n    },\n    note: 'Рецепт взят с youtube канала Kuban Aquariums (https://www.youtube.com/watch?v=Vyq-R0tv384)',\n  },\n  {\n    name: 'Kuban Aquariums Микро',\n    reagents: {\n      H3BO3: 0.7,\n      'C10H14N2Na2O8(H2O)2': 3,\n      'MgSO4(H2O)7': 30,\n      K2SO4: 20,\n      C6H8O6: 3,\n      C6H7KO2: 0.5,\n    },\n    compounds: {\n      AgroMicsT: 11,\n      'Fe-EDTA13': 5.6,\n    },\n    volume: 1000,\n    note: 'Рецепт взят с youtube канала Kuban Aquariums (https://www.youtube.com/watch?v=Vyq-R0tv384)',\n  },\n  {\n    name: 'Aqua Botanic Нитрат',\n    reagents: {\n      KNO3: 82.88,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Чистая калиевая селитра. Рецепт взят с сайта aqua-botanic.ru'\n    + '(https://web.archive.org/web/20131206073940/http://www.aqua-botanic.ru/index.html)',\n  },\n  {\n    name: 'Aqua Botanic Нитрат+',\n    reagents: {\n      KNO3: 49.71,\n      '(NH2)2CO': 5.02,\n      NH4NO3: 6.71,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Калиевая селитра, разбавленная мочевиной и нитратом аммония. Рецепт взят с сайта aqua-botanic.ru'\n    + '(https://web.archive.org/web/20131206073940/http://www.aqua-botanic.ru/index.html)',\n  },\n  {\n    name: 'Aqua Botanic Фосфат',\n    reagents: {\n      KH2PO4: 7.01,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Чистый монофосфат калия. Рецепт взят с сайта aqua-botanic.ru'\n    + '(https://web.archive.org/web/20131206073940/http://www.aqua-botanic.ru/index.html)',\n  },\n  {\n    name: 'Aqua Botanic Калий',\n    reagents: {\n      K2SO4: 84.76,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Чистый сульфат калия. Рецепт взят с сайта aqua-botanic.ru'\n    + '(https://web.archive.org/web/20131206073940/http://www.aqua-botanic.ru/index.html)',\n  },\n  {\n    name: 'Aqua Botanic Микро',\n    reagents: {\n      C6H8O7: 30,\n      'FeSO4(H2O)7': 10,\n      'MnSO4(H2O)5': 0.5,\n      'CuSO4(H2O)5': 0.05,\n      'ZnSO4(H2O)7': 0.6,\n      'MgSO4(H2O)7': 10.54,\n      H3BO3: 0.3,\n      K2SO4: 8.6,\n      C63H88CoN14O14P: 0.001,\n      // H2SO4: 20,\n    },\n    compounds: {\n      Citovit: 6,\n      Ferovit: 6,\n    },\n    volume: 1000,\n    note: `\n      Рецепт взят с сайта aqua-botanic.ru\n      (https://web.archive.org/web/20131206073940/http://www.aqua-botanic.ru/index.html):\n\n      С помощью мерного стакана отмеряем 700 мл дистиллированной воды или воды из фильтра с обратным осмосом.\n      Воду предварительно кипятим и растворяем\n\n      * Лимонную кислоту 30 грамм\n      * Сульфат железа - 10 грамм\n      * Сульфат марганца - 0.5 грамм\n      * Сульфат меди - 0.05 грамм\n      * Сульфат цинка - 0.6 грамм\n      * Сульфат магния - 10.54 грамма\n      * сделать паузу в 1 час.\n      * Борная кислота - 0.3 грамма\n      * Сульфат калия - 8.6 грамма\n      * Цитовит 4 ампулы\n      * Феровит - 4 ампулы\n      * Витамин B12 2 ампулы\n      * Серная кислота - 20 мл.\n\n      Важно! Можно вливать только кислоту в воду, а не наоборот.\n      При желании, серную кислоту можно заменить на Сайдекс (2.5% раствор глутарового альдегида) в\n      количестве 200-250 мл. Долить воду в раствор с удобрением до отметки 1 литр. Воду можно не кипятить.\n\n      Растворять каждый последующий реактив можно только после того, как полностью растворится предыдущий.\n    `,\n  },\n  {\n    name: 'NPK Amania.org 1:15',\n    reagents: {\n      KNO3: 106.45,\n      KH2PO4: 5.77,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Макро в соотношении 1 к 15. Рецепт взят с сайта amania.org',\n  },\n  {\n    name: 'NPK Amania.org 1:15 + амидный азот',\n    reagents: {\n      KNO3: 53.6,\n      '(NH2)2CO': 16,\n      KH2PO4: 5.77,\n    },\n    tankVolume: 100,\n    volume: 1000,\n    note: 'Макро в соотношении 1 к 15. Калиевая селитра в соотношении 50 на 50 с мочевиной.'\n      + ' Рецепт взят с сайта amania.org',\n  },\n  {\n    name: 'Удо Ермолаева. МИКРО',\n    reagents: {\n      K2SO4: 7.45,\n      'MgSO4(H2O)7': 16.4,\n      'Fe2(SO4)3(H2O)9': 1.45,\n      'CuSO4(H2O)5': 0.1,\n      'ZnSO4(H2O)7': 0.04,\n      H3BO3: 0.1,\n      '(NH4)2MoO4': 0.04,\n      'MnSO4(H2O)5': 0.73,\n      C10H14N2Na2O8: 2.5,\n    },\n    tankVolume: 100,\n    volume: 500,\n    note: 'Микро. Рецепт - https://aquascape-promotion.com/udobreniya-svoimi-rukami',\n  },\n  {\n    name: 'Удо Ермолаева. МИКРО (gh < 7)',\n    reagents: {\n      K2SO4: 7.45,\n      'MgSO4(H2O)7': 16.4,\n      'Fe2(SO4)3(H2O)9': 1.45,\n      'CuSO4(H2O)5': 0.1,\n      'ZnSO4(H2O)7': 0.04,\n      H3BO3: 0.1,\n      '(NH4)2MoO4': 0.04,\n      'MnSO4(H2O)5': 0.73,\n      C10H14N2Na2O8: 1.75,\n    },\n    tankVolume: 100,\n    volume: 500,\n    note: 'Микро. Рецепт - https://aquascape-promotion.com/udobreniya-svoimi-rukami',\n  },\n  {\n    name: 'Удо Ермолаева. МИКРО (Железный купорос)',\n    reagents: {\n      K2SO4: 7.45,\n      'MgSO4(H2O)7': 16.4,\n      'FeSO4(H2O)7': 1.44,\n      'CuSO4(H2O)5': 0.1,\n      'ZnSO4(H2O)7': 0.04,\n      H3BO3: 0.1,\n      '(NH4)2MoO4': 0.04,\n      'MnSO4(H2O)5': 0.73,\n      C10H14N2Na2O8: 1.75,\n      C14H18N3O10Na2Fe: 1,\n    },\n    tankVolume: 100,\n    volume: 500,\n    note: 'Микро. Рецепт - https://aquascape-promotion.com/udobreniya-svoimi-rukami',\n  },\n  {\n    name: 'Simple Aqua Micro',\n    reagents: {\n      C6H8O7: 15,\n      H3BO3: 0.3,\n      C4H6O4: 0.05,\n      C63H88CoN14O14P: 0.0005,\n      '(NH4)2MoO4': 0.1,\n    },\n    compounds: {\n      'Fe-EDTA13': 5,\n      'Mn-EDTA13': 0.5,\n      'Cu-EDTA15': 0.03,\n      'Zn-EDTA15': 0.6,\n      'Mg-EDTA6': 5,\n    },\n    volume: 1000,\n    note: `\n      Рецепт от Simple Aqua (https://vk.com/simpleaqua1):\n\n      * нагреть 1 литр осмоса;\n      * растворить реагенты последовательно:\n\n        15 г лимонная кислота,\n        5 г хелат железа,\n        0.5 г хелат марганца,\n        0.03 г хелат меди,\n        0.6 г хелат цинка,\n        5 г хелат магния,\n        0.1 молибдат аммония\n        0.3 г борная кислота,\n        0.05 г янтарная кислота;\n\n      * остудить;\n      * добавить 1 мл (500 мкг) цианокобаламин.\n    `,\n  },\n  {\n    name: 'Pps-pro Macro',\n    reagents: {\n      K2SO4: 29.3,\n      KNO3: 32.6,\n      KH2PO4: 2.9,\n      'MgSO4(H2O)7': 20.2,\n    },\n    volume: 500,\n    note: 'Рецепт взят с сайта https://sites.google.com/site/aquaticplantfertilizer/pps-pro. Методика там же',\n  },\n  {\n    name: 'Pps-pro Micro',\n    compounds: {\n      PlantexCMM: 28.6,\n    },\n    volume: 500,\n    note: 'Рецепт взят с сайта https://sites.google.com/site/aquaticplantfertilizer/pps-pro. Методика там же',\n  },\n  {\n    name: 'PMDD CMM',\n    reagents: {\n      K2SO4: 33,\n      KNO3: 15,\n      'MgSO4(H2O)7': 15,\n    },\n    compounds: {\n      PlantexCMM: 9.93,\n    },\n    volume: 500,\n    note: 'http://www.amania.org/Tech/liqfert-mikom.html',\n  },\n  {\n    name: 'PMDD CSM + B',\n    reagents: {\n      K2SO4: 33,\n      KNO3: 15,\n      'MgSO4(H2O)7': 15,\n      H3BO3: 0.714,\n    },\n    compounds: {\n      PlantexCSM: 9.93,\n    },\n    volume: 500,\n    note: 'http://www.amania.org/Tech/liqfert-mikom.html',\n  },\n  {\n    name: 'Реминерализатор от Романа Че',\n    reagents: {\n      'CaSO4(H2O)2': 5,\n      'MgSO4(H2O)7': 7,\n      CaCl2: 3,\n      K2CO3: 0.5,\n      NaHCO3: 1,\n    },\n    note: 'Рецепт Романа Че',\n  },\n];\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"d-flex mt-1\",class:{\n      'flex-column': _vm.$vuetify.breakpoint['xs'],\n      'flex-row': _vm.$vuetify.breakpoint['smAndUp']\n    }},[_c('v-switch',{staticClass:\"mr-4\",attrs:{\"label\":\"Показать соотношение\",\"hide-details\":\"auto\"},model:{value:(_vm.isConcentrationPercent),callback:function ($$v) {_vm.isConcentrationPercent=$$v},expression:\"isConcentrationPercent\"}}),_c('v-switch',{staticClass:\"mr-4\",attrs:{\"label\":\"Показать N и P\",\"hide-details\":\"auto\"},model:{value:(_vm.isConvertion),callback:function ($$v) {_vm.isConvertion=$$v},expression:\"isConvertion\"}})],1),_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"pl-0 text-center\"},[_vm._v(\" Реагент \")]),_vm._l((_vm.totalIonConcentrationSorted),function(ref,index){\n    var ion = ref[0];\nreturn _c('th',{key:ion,staticClass:\"text-center\",class:{'pr-0': index === _vm.totalIonConcentrationSorted.length - 1}},[_c('div',{staticStyle:{\"white-space\":\"nowrap\"}},[(_vm.isConvertion && ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s(ion)+\" / \")]:_vm._e(),(ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s(_vm.convertIonName(ion))+\", г/л \")]:[_vm._v(\" \"+_vm._s(ion)+\", г/л \")]],2)])})],2)]),_c('tbody',[_vm._l((Object.keys(_vm.concentration)),function(reagent){return _c('tr',{key:reagent},[_c('td',{staticClass:\"pl-0 text-center\"},[_vm._v(\" \"+_vm._s(reagent)+\" \")]),_vm._l((_vm.totalIonConcentrationSorted),function(ref,index){\n    var ion = ref[0];\n    var value = ref[1];\nreturn _c('td',{key:reagent + ion,staticClass:\"text-center\",class:{'pr-0': index === Object.keys(_vm.concentration).length - 1}},[(Object.keys(_vm.concentration[reagent]).includes(ion))?[(_vm.isConvertion && ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s(_vm.concentration[reagent][ion].toFixed(3))+\" / \")]:_vm._e(),(ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s((_vm.convertIonRatio(ion) * _vm.concentration[reagent][ion]).toFixed(3))+\" \")]:[_vm._v(\" \"+_vm._s(_vm.concentration[reagent][ion].toFixed(3))+\" \")],(value && _vm.isConcentrationPercent)?[_vm._v(\" (\"+_vm._s((_vm.concentration[reagent][ion] / value * 100).toFixed(1))+\"%) \")]:_vm._e()]:[_vm._v(\" - \")]],2)})],2)}),_c('tr',{staticClass:\"font-weight-bold\"},[_c('td',{staticClass:\"pl-0 text-center\"},[_vm._v(\" Сумма \")]),_vm._l((_vm.totalIonConcentrationSorted),function(ref,index){\n    var ion = ref[0];\n    var value = ref[1];\nreturn [(ion !== _vm.convertIonName(ion))?_c('td',{key:ion,staticClass:\"text-center\",class:{'pr-0': index === _vm.totalIonConcentrationSorted.length - 1}},[(_vm.isConvertion && ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s(value.toFixed(3))+\" / \")]:_vm._e(),_vm._v(\" \"+_vm._s((_vm.convertIonRatio(ion) * value).toFixed(3))+\" \")],2):_c('td',{key:ion,staticClass:\"text-center\",class:{'pr-0': index === _vm.totalIonConcentration.length - 1}},[_vm._v(\" \"+_vm._s(value.toFixed(3))+\" \")])]})],2)],2)]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  Samomes\n\n  Copyright (C) 2021 Mikhail Lapshin\n\n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div>\n    <div\n      class=\"d-flex mt-1\"\n      :class=\"{\n        'flex-column': $vuetify.breakpoint['xs'],\n        'flex-row': $vuetify.breakpoint['smAndUp']\n      }\"\n    >\n      <v-switch\n        v-model=\"isConcentrationPercent\"\n        label=\"Показать соотношение\"\n        hide-details=\"auto\"\n        class=\"mr-4\"\n      />\n      <v-switch\n        v-model=\"isConvertion\"\n        label=\"Показать N и P\"\n        hide-details=\"auto\"\n        class=\"mr-4\"\n      />\n    </div>\n    <v-simple-table>\n      <template v-slot:default>\n        <thead>\n          <tr>\n            <th class=\"pl-0 text-center\">\n              Реагент\n            </th>\n            <th\n              v-for=\"([ion], index) in totalIonConcentrationSorted\"\n              :key=\"ion\"\n              class=\"text-center\"\n              :class=\"{'pr-0': index === totalIonConcentrationSorted.length - 1}\"\n            >\n              <div style=\"white-space: nowrap;\">\n                <template v-if=\"isConvertion && ion !== convertIonName(ion)\">\n                  {{ ion }} /\n                </template>\n                <template v-if=\"ion !== convertIonName(ion)\">\n                  {{ convertIonName(ion) }}, г/л\n                </template>\n                <template v-else>\n                  {{ ion }}, г/л\n                </template>\n              </div>\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"reagent in Object.keys(concentration)\"\n            :key=\"reagent\"\n          >\n            <td class=\"pl-0 text-center\">\n              {{ reagent }}\n            </td>\n            <td\n              v-for=\"([ion, value], index) in totalIonConcentrationSorted\"\n              :key=\"reagent + ion\"\n              class=\"text-center\"\n              :class=\"{'pr-0': index === Object.keys(concentration).length - 1}\"\n            >\n              <template v-if=\"Object.keys(concentration[reagent]).includes(ion)\">\n                <template v-if=\"isConvertion && ion !== convertIonName(ion)\">\n                  {{ concentration[reagent][ion].toFixed(3) }} /\n                </template>\n                <template v-if=\"ion !== convertIonName(ion)\">\n                  {{ (convertIonRatio(ion) * concentration[reagent][ion]).toFixed(3) }}\n                </template>\n                <template v-else>\n                  {{ concentration[reagent][ion].toFixed(3) }}\n                </template>\n                <template v-if=\"value && isConcentrationPercent\">\n                  ({{ (concentration[reagent][ion] / value * 100).toFixed(1) }}%)\n                </template>\n              </template>\n              <template v-else>\n                -\n              </template>\n            </td>\n          </tr>\n          <tr class=\"font-weight-bold\">\n            <td class=\"pl-0 text-center\">\n              Сумма\n            </td>\n            <template\n              v-for=\"([ion, value], index) in totalIonConcentrationSorted\"\n            >\n              <td\n                v-if=\"ion !== convertIonName(ion)\"\n                :key=\"ion\"\n                class=\"text-center\"\n                :class=\"{'pr-0': index === totalIonConcentrationSorted.length - 1}\"\n              >\n                <template v-if=\"isConvertion && ion !== convertIonName(ion)\">\n                  {{ value.toFixed(3) }} /\n                </template>\n                {{ (convertIonRatio(ion) * value).toFixed(3) }}\n              </td>\n              <td\n                v-else\n                class=\"text-center\"\n                :class=\"{'pr-0': index === totalIonConcentration.length - 1}\"\n                :key=\"ion\"\n              >\n                {{ value.toFixed(3) }}\n              </td>\n            </template>\n          </tr>\n        </tbody>\n      </template>\n    </v-simple-table>\n  </div>\n</template>\n\n<script>\nimport { convertIonName, convertIonRatio, countPercent } from '@/helpers/funcs';\n\nexport default {\n  name: 'ElementsTable',\n  props: {\n    totalIonConcentration: {\n      type: Object,\n      default: () => {},\n    },\n    fertilizerMass: {\n      type: Object,\n      default: () => {},\n    },\n    concentration: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      isConcentrationPercent: false,\n      isConvertion: false,\n    };\n  },\n  computed: {\n    totalIonConcentrationSorted() {\n      const result = Object.entries(this.totalIonConcentration);\n      result.sort((a, b) => b[1] - a[1]);\n      return result;\n    },\n  },\n  methods: {\n    convertIonRatio,\n    convertIonName,\n    countPercent,\n  },\n};\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElementsTable.vue?vue&type=template&id=391eed62&scoped=true&\"\nimport script from \"./ElementsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ElementsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"391eed62\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VSimpleTable,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"d-flex mt-2 mb-2\",class:{\n      'flex-column': _vm.$vuetify.breakpoint['xs'],\n      'flex-row': _vm.$vuetify.breakpoint['smAndUp']\n    }},[_c('v-switch',{staticClass:\"mr-4\",attrs:{\"label\":\"Показать соотношение\",\"hide-details\":\"auto\"},model:{value:(_vm.isConcentrationPercent),callback:function ($$v) {_vm.isConcentrationPercent=$$v},expression:\"isConcentrationPercent\"}}),_c('v-switch',{staticClass:\"mr-4\",attrs:{\"label\":\"Показать N и P\",\"hide-details\":\"auto\"},model:{value:(_vm.isConvertion),callback:function ($$v) {_vm.isConvertion=$$v},expression:\"isConvertion\"}})],1),_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"pl-0 text-center\"},[_vm._v(\" Реагент \")]),_vm._l((Object.keys(_vm.totalIonConcentration)),function(ion,index){return _c('th',{key:ion,staticClass:\"text-center\",class:{'pr-0': index === _vm.totalIonConcentration.length - 1}},[(_vm.isConvertion && ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s(ion)+\" / \")]:_vm._e(),(ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s(_vm.convertIonName(ion))+\", г \")]:[_vm._v(\" \"+_vm._s(ion)+\", г \")]],2)})],2)]),_c('tbody',[_vm._l((_vm.fertilizerMass),function(mass,reagent){return _c('tr',{key:reagent},[_c('td',{staticClass:\"pl-0 text-center\"},[_vm._v(\" \"+_vm._s(reagent)+\" \")]),_vm._l((_vm.totalIonConcentration),function(value,ion,index){return _c('td',{key:reagent + ion,staticClass:\"text-center\",class:{'pr-0': index === _vm.totalIonConcentration.length - 1}},[(Object.keys(_vm.countPercent(reagent)).includes(ion))?[(_vm.isConvertion && ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s((mass * _vm.countPercent(reagent)[ion]).toFixed(3))+\" / \")]:_vm._e(),(ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s((_vm.convertIonRatio(ion) * mass * _vm.countPercent(reagent)[ion]).toFixed(3))+\" \")]:[_vm._v(\" \"+_vm._s((mass * _vm.countPercent(reagent)[ion]).toFixed(3))+\" \")],(value && _vm.isConcentrationPercent)?[_vm._v(\" (\"+_vm._s((mass * _vm.countPercent(reagent)[ion] / (value * _vm.totalFertilizerMass) * 100).toFixed(1))+\"%) \")]:_vm._e()]:[_vm._v(\" - \")]],2)})],2)}),_c('tr',{staticClass:\"font-weight-bold\"},[_c('td',{staticClass:\"pl-0 text-center\"},[_vm._v(\" Сумма \")]),_vm._l((_vm.totalIonConcentration),function(value,ion,index){return [(ion !== _vm.convertIonName(ion))?_c('td',{key:ion,staticClass:\"text-center\",class:{'pr-0': index === _vm.totalIonConcentration.length - 1}},[(_vm.isConvertion && ion !== _vm.convertIonName(ion))?[_vm._v(\" \"+_vm._s((value * _vm.totalFertilizerMass).toFixed(3))+\" / \")]:_vm._e(),_vm._v(\" \"+_vm._s((_vm.convertIonRatio(ion) * value * _vm.totalFertilizerMass).toFixed(3))+\" \")],2):_c('td',{key:ion,staticClass:\"text-center\",class:{'pr-0': index === _vm.totalIonConcentration.length - 1}},[_vm._v(\" \"+_vm._s((value * _vm.totalFertilizerMass).toFixed(3))+\" \")])]})],2)],2)]},proxy:true}])}),_c('div',_vm._l((_vm.totalIonConcentration),function(value,ion){return _c('span',{key:ion,staticClass:\"mr-2\"},[_vm._v(\" \"+_vm._s(_vm.convertIonName(ion))+\" (\"+_vm._s(value ? (_vm.convertIonRatio(ion) * value / _vm.totalUsefulConcentration * 100).toFixed(3) : '???')+\" %) \")])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  Samomes\n\n  Copyright (C) 2021 Mikhail Lapshin\n\n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div>\n    <div\n      class=\"d-flex mt-2 mb-2\"\n      :class=\"{\n        'flex-column': $vuetify.breakpoint['xs'],\n        'flex-row': $vuetify.breakpoint['smAndUp']\n      }\"\n    >\n      <v-switch\n        v-model=\"isConcentrationPercent\"\n        label=\"Показать соотношение\"\n        hide-details=\"auto\"\n        class=\"mr-4\"\n      />\n      <v-switch\n        v-model=\"isConvertion\"\n        label=\"Показать N и P\"\n        hide-details=\"auto\"\n        class=\"mr-4\"\n      />\n    </div>\n    <v-simple-table>\n      <template v-slot:default>\n        <thead>\n          <tr>\n            <th class=\"pl-0 text-center\">\n              Реагент\n            </th>\n            <th\n              v-for=\"(ion, index) in Object.keys(totalIonConcentration)\"\n              class=\"text-center\"\n              :class=\"{'pr-0': index === totalIonConcentration.length - 1}\"\n              :key=\"ion\"\n            >\n              <template v-if=\"isConvertion && ion !== convertIonName(ion)\">\n                {{ ion }} /\n              </template>\n              <template v-if=\"ion !== convertIonName(ion)\">\n                {{ convertIonName(ion) }}, г\n              </template>\n              <template v-else>\n                {{ ion }}, г\n              </template>\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"(mass, reagent) in fertilizerMass\"\n            :key=\"reagent\"\n          >\n            <td class=\"pl-0 text-center\">\n              {{ reagent }}\n            </td>\n            <td\n              v-for=\"(value, ion, index) in totalIonConcentration\"\n              class=\"text-center\"\n              :class=\"{'pr-0': index === totalIonConcentration.length - 1}\"\n              :key=\"reagent + ion\"\n            >\n              <template v-if=\"Object.keys(countPercent(reagent)).includes(ion)\">\n                <template v-if=\"isConvertion && ion !== convertIonName(ion)\">\n                  {{ (mass * countPercent(reagent)[ion]).toFixed(3) }} /\n                </template>\n                <template v-if=\"ion !== convertIonName(ion)\">\n                  {{ (convertIonRatio(ion) * mass * countPercent(reagent)[ion]).toFixed(3) }}\n                </template>\n                <template v-else>\n                  {{ (mass * countPercent(reagent)[ion]).toFixed(3) }}\n                </template>\n                <template v-if=\"value && isConcentrationPercent\">\n                  ({{ (mass * countPercent(reagent)[ion] / (value * totalFertilizerMass) * 100).toFixed(1) }}%)\n                </template>\n              </template>\n              <template v-else>\n                -\n              </template>\n            </td>\n          </tr>\n          <tr class=\"font-weight-bold\">\n            <td class=\"pl-0 text-center\">\n              Сумма\n            </td>\n            <template v-for=\"(value, ion, index) in totalIonConcentration\">\n              <td\n                v-if=\"ion !== convertIonName(ion)\"\n                class=\"text-center\"\n                :class=\"{'pr-0': index === totalIonConcentration.length - 1}\"\n                :key=\"ion\"\n              >\n                <template v-if=\"isConvertion && ion !== convertIonName(ion)\">\n                  {{ (value * totalFertilizerMass).toFixed(3) }} /\n                </template>\n                {{ (convertIonRatio(ion) * value * totalFertilizerMass).toFixed(3) }}\n              </td>\n              <td\n                v-else\n                class=\"text-center\"\n                :class=\"{'pr-0': index === totalIonConcentration.length - 1}\"\n                :key=\"ion\"\n              >\n                {{ (value * totalFertilizerMass).toFixed(3) }}\n              </td>\n            </template>\n          </tr>\n        </tbody>\n      </template>\n    </v-simple-table>\n    <div>\n      <span\n        v-for=\"(value, ion) in totalIonConcentration\"\n        class=\"mr-2\"\n        :key=\"ion\"\n      >\n        {{ convertIonName(ion) }}\n        ({{ value\n          ? (convertIonRatio(ion) * value / totalUsefulConcentration * 100).toFixed(3)\n          : '???' }} %)\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { convertIonName, convertIonRatio, countPercent } from '@/helpers/funcs';\n\nexport default {\n  name: 'ElementsDryTable',\n  props: {\n    totalIonConcentration: {\n      type: Object,\n      default: () => {},\n    },\n    fertilizerMass: {\n      type: Object,\n      default: () => {},\n    },\n    totalFertilizerMass: {\n      type: Number,\n      default: 0,\n    },\n  },\n  data() {\n    return {\n      isConcentrationPercent: false,\n      isConvertion: false,\n    };\n  },\n  computed: {\n    totalIonConcentrationSorted() {\n      const result = Object.entries(this.totalIonConcentration);\n      result.sort((a, b) => b[1] - a[1]);\n      return result;\n    },\n    totalUsefulConcentration() {\n      let sum = 0;\n      this.totalIonConcentrationSorted.forEach(([ion, value]) => {\n        sum += this.convertIonRatio(ion) * value;\n      });\n      return sum;\n    },\n  },\n  methods: {\n    convertIonRatio,\n    convertIonName,\n    countPercent,\n  },\n};\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsDryTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsDryTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElementsDryTable.vue?vue&type=template&id=71fbe60d&scoped=true&\"\nimport script from \"./ElementsDryTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ElementsDryTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71fbe60d\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VSimpleTable,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"text-subtitle-2 mb-4\"},[_vm._v(\" Данный рецепт повышает жесткость \")]),_c('div',{staticClass:\"d-flex align-center mb-2\"},[_c('number-field',{attrs:{\"label\":\"Введите количество\",\"hint\":\"То количество, которое будет внесено на объем подмены или весь объем аквариума\",\"suffix\":_vm.isVolume ? 'мл' : 'г'},model:{value:(_vm.amount),callback:function ($$v) {_vm.amount=$$v},expression:\"amount\"}}),_c('number-field',{staticClass:\"ml-2\",attrs:{\"label\":\"Введите объем\",\"hint\":\"Объем подмены или весь объем аквариума\",\"suffix\":\"л\"},model:{value:(_vm.volume),callback:function ($$v) {_vm.volume=$$v},expression:\"volume\"}})],1),_c('div',{staticClass:\"d-flex\"},[_c('v-text-field',{staticClass:\"mb-2\",attrs:{\"value\":_vm.totalGh.toFixed(2),\"label\":\"Общая жесткость\",\"suffix\":\"dGh\",\"hide-details\":\"auto\",\"readonly\":\"\",\"outlined\":\"\",\"persistent-hint\":\"\"}}),_c('v-text-field',{staticClass:\"mb-2 ml-2\",attrs:{\"value\":_vm.totalKh.toFixed(2),\"label\":\"Карбонатная жесткость\",\"suffix\":\"dKh\",\"hide-details\":\"auto\",\"readonly\":\"\",\"outlined\":\"\",\"persistent-hint\":\"\"}})],1),(_vm.totalIonConcentration.Ca && _vm.totalIonConcentration.Mg)?_c('div',{staticClass:\"text-subtitle-2 mt-2\"},[_vm._v(\" Соотношение Ca / Mg = \"+_vm._s((_vm.totalIonConcentration.Ca / _vm.totalIonConcentration.Mg).toFixed(2))+\" \")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  Samomes\n\n  Copyright (C) 2021 Mikhail Lapshin\n\n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div>\n    <div class=\"text-subtitle-2 mb-4\">\n      Данный рецепт повышает жесткость\n    </div>\n    <div class=\"d-flex align-center mb-2\">\n      <number-field\n        v-model=\"amount\"\n        label=\"Введите количество\"\n        hint=\"То количество, которое будет внесено на объем подмены или весь объем аквариума\"\n        :suffix=\"isVolume ? 'мл' : 'г'\"\n      />\n      <number-field\n        v-model=\"volume\"\n        label=\"Введите объем\"\n        hint=\"Объем подмены или весь объем аквариума\"\n        suffix=\"л\"\n        class=\"ml-2\"\n      />\n    </div>\n    <div class=\"d-flex\">\n      <v-text-field\n        :value=\"totalGh.toFixed(2)\"\n        label=\"Общая жесткость\"\n        suffix=\"dGh\"\n        hide-details=\"auto\"\n        readonly\n        outlined\n        persistent-hint\n        class=\"mb-2\"\n      />\n      <v-text-field\n        :value=\"totalKh.toFixed(2)\"\n        label=\"Карбонатная жесткость\"\n        suffix=\"dKh\"\n        hide-details=\"auto\"\n        readonly\n        outlined\n        persistent-hint\n        class=\"mb-2 ml-2\"\n      />\n    </div>\n    <div\n      v-if=\"totalIonConcentration.Ca && totalIonConcentration.Mg\"\n      class=\"text-subtitle-2 mt-2\"\n    >\n      Соотношение Ca / Mg = {{ (totalIonConcentration.Ca / totalIonConcentration.Mg).toFixed(2) }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport { countPercent } from '@/helpers/funcs';\nimport { GH, countKh } from '@/constants/hardness';\n\nexport default {\n  name: 'HardnessTable',\n  props: {\n    totalIonConcentration: {\n      type: Object,\n      default: () => {},\n    },\n    isVolume: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      volume: 10,\n      amount: 1,\n    };\n  },\n  computed: {\n    totalGh() {\n      let result = 0;\n      if ('Ca' in this.totalIonConcentration) {\n        result += this.totalIonConcentration.Ca * this.amount / (GH.Ca * this.volume);\n      }\n      if ('Mg' in this.totalIonConcentration) {\n        result += this.totalIonConcentration.Mg * this.amount / (GH.Mg * this.volume);\n      }\n      if (!this.isVolume) {\n        result *= 1000;\n      }\n      return result;\n    },\n    totalKh() {\n      let result = 0;\n      if ('CO3' in this.totalIonConcentration) {\n        result += countKh(this.totalIonConcentration.CO3, this.volume) * this.amount;\n        if (!this.isVolume) {\n          result *= 1000;\n        }\n      }\n      return result;\n    },\n  },\n  methods: {\n    countPercent,\n  },\n};\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HardnessTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HardnessTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HardnessTable.vue?vue&type=template&id=6f5e97d4&scoped=true&\"\nimport script from \"./HardnessTable.vue?vue&type=script&lang=js&\"\nexport * from \"./HardnessTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f5e97d4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n","<!--\n  Samomes\n\n  Copyright (C) 2021 Mikhail Lapshin\n\n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <v-container class=\"mb-12\">\n    <v-row>\n      <v-col\n        cols=\"12\"\n        sm=\"8\"\n        offset-sm=\"2\"\n      >\n        <v-btn\n          class=\"mr-0\"\n          square\n          to=\"/recipes\"\n        >\n          <v-icon>mdi-chevron-left</v-icon>\n        </v-btn>\n      </v-col>\n      <page-title>\n        <template v-if=\"isCreate\">\n          Новый рецепт\n        </template>\n        <template v-if=\"isShared\">\n          <p class=\"text-h4\">\n            С вами поделились рецептом!\n          </p>\n          <p class=\"text-h6 font-weight-regular\">\n            Посмотрите рецепт, дайте ему\n            название и напишите примечание. После этого можете сохранить его.\n          </p>\n        </template>\n        <template v-else>\n          Рецепт {{ name }}\n        </template>\n      </page-title>\n      <v-col\n        cols=\"12\"\n        md=\"8\"\n        offset-md=\"2\"\n      >\n        <v-form ref=\"recipeForm\">\n          <v-row>\n            <v-col\n              cols=\"12\"\n              class=\"pt-0 mt-8\"\n            >\n              <v-row>\n                <v-col\n                  cols=\"12\"\n                  sm=\"6\"\n                >\n                  <v-select\n                    :items=\"formulas\"\n                    item-text=\"text\"\n                    v-model=\"reagents\"\n                    multiple\n                    label=\"Формула\"\n                    hint=\"Вы можете выбрать несколько реагентов\"\n                    persistent-hint\n                    hide-details=\"auto\"\n                    :rules=\"rulesReagent\"\n                    :return-object=\"true\"\n                  />\n                </v-col>\n                <v-col\n                  cols=\"12\"\n                  sm=\"6\"\n                >\n                  <v-select\n                    :items=\"recipesExamples\"\n                    v-model=\"recipeExampleChosen\"\n                    label=\"Рецепт\"\n                    hint=\"или выбрать один из рецептов\"\n                    persistent-hint\n                    hide-details=\"auto\"\n                  />\n                </v-col>\n                <v-col\n                  cols=\"12\"\n                  sm=\"6\"\n                >\n                  <v-select\n                    :items=\"compoundsList\"\n                    item-text=\"text\"\n                    v-model=\"compounds\"\n                    multiple\n                    label=\"Готовая смесь\"\n                    hint=\"Вы можете выбрать несколько смесей\"\n                    persistent-hint\n                    hide-details=\"auto\"\n                    :rules=\"rulesReagent\"\n                    :return-object=\"true\"\n                  />\n                </v-col>\n                <v-col\n                  v-if=\"isReagents\"\n                  cols=\"12\"\n                  class=\"pt-0\"\n                >\n                  <div\n                    class=\"mt-3\"\n                  >\n                    <template v-for=\"reagent in reagents\">\n                      <div\n                        class=\"d-flex justify-space-between caption\"\n                        :key=\"reagent.value\"\n                      >\n                        <div>{{ reagent.text }}</div>\n                        <div>{{ showComponents(countPercent(reagent.key)) }}</div>\n                      </div>\n                    </template>\n                    <template v-for=\"compound in compounds\">\n                      <div\n                        class=\"d-flex justify-space-between caption\"\n                        :key=\"compound.name\"\n                      >\n                        <div>{{ compound.name }}</div>\n                        <div>{{ showComponents(compound.ions) }}</div>\n                      </div>\n                    </template>\n                  </div>\n                  <div class=\"mt-3\">\n                    <small>\n                      *Так как аквариумисту удобнее работать с нитратом (NO3), а не с азотом (N), далее\n                      азот в любой форме будет приведен к нитрату.\n                    </small>\n                  </div>\n                </v-col>\n                <v-expand-transition>\n                  <v-col\n                    v-if=\"isReagents\"\n                    :cols=\"isWater ? 12 : 9\"\n                  >\n                    <v-radio-group\n                      :value=\"isWater\"\n                      @change=\"setIsWater\"\n                      row\n                      hide-details=\"auto\"\n                    >\n                      <v-radio\n                        label=\"Водный раствор\"\n                        :value=\"true\"\n                      />\n                      <v-radio\n                        label=\"Безводная смесь\"\n                        :value=\"false\"\n                      />\n                    </v-radio-group>\n                  </v-col>\n                </v-expand-transition>\n                <v-expand-transition>\n                  <v-col\n                    v-if=\"isReagents && !isWater\"\n                    cols=\"3\"\n                  >\n                    <number-field\n                      v-model=\"massG\"\n                      type=\"number\"\n                      suffix=\"г\"\n                      :hint=\"`Массы реагентов в пересчете на ${massG} г смеси`\"\n                      persistent-hint\n                    />\n                  </v-col>\n                </v-expand-transition>\n                <v-expand-transition>\n                  <v-col\n                    v-if=\"isReagents && isWater\"\n                    cols=\"12\"\n                  >\n                    <number-field\n                      :value=\"volume\"\n                      @input=\"inputVolume\"\n                      :precision-show=\"0\"\n                      label=\"Введите объем удобрения\"\n                      suffix=\"мл\"\n                      hint=\"Выбирайте объем, который вы сможете использовать в течении 2-3x месяцев.\n                              Обычно это 250-300 мл.\"\n                      hide-details=\"auto\"\n                      :rules=\"[isWater ? rulesVolume.isExist() : true]\"\n                    />\n                  </v-col>\n                </v-expand-transition>\n                <v-expand-transition>\n                  <v-col\n                    v-if=\"isReagents && (volume || !isWater)\"\n                    cols=\"12\"\n                  >\n                    <v-row>\n                      <v-col\n                        v-if=\"isWater\"\n                        cols=\"12\"\n                      >\n                        <div class=\"d-flex align-center\">\n                          <v-divider />\n                          <span class=\"mx-3\">\n                            Введите массу реагента\n                            <v-tooltip\n                              bottom\n                              max-width=\"400\"\n                            >\n                              <template v-slot:activator=\"{ on }\">\n                                <v-icon v-on=\"on\">mdi-help-circle-outline</v-icon>\n                              </template>\n                              Введите массу реагента и калькулятор автоматически рассчитает\n                              дозы элементов, которые показаны ниже.\n                            </v-tooltip>\n                          </span>\n                          <v-divider />\n                        </div>\n                      </v-col>\n                      <template\n                        v-for=\"reagent in reagents\"\n                      >\n                        <v-col\n                          :cols=\"isWater ? 12 : 9\"\n                          :key=\"reagent.key\"\n                          class=\"d-flex py-0\"\n                        >\n                          <number-field\n                            :value=\"mass[reagent.key]\"\n                            @input=\"inputMass($event, reagent.key)\"\n                            :label=\"reagent.text\"\n                            :precision-show=\"3\"\n                            :key=\"reagent.key\"\n                            :suffix=\"reagent.density ? 'мл' : 'г'\"\n                            hide-details=\"auto\"\n                            :rules=\"[\n                              rulesMass.isExist(),\n                            ]\"\n                            :error=\"isWater && (mass[reagent.key] / volume) * 1000\n                              > FORMULAS[reagent.key].solubilityLimit\"\n                            :error-messages=\"\n                              isWater && (mass[reagent.key] / volume) * 1000\n                                > FORMULAS[reagent.key].solubilityLimit\n                                ? `Достигнута максимальная растворимость -\n                                        ${FORMULAS[reagent.key].solubilityLimit} г/л при 20°С!`\n                                : ''\n                            \"\n                          />\n                        </v-col>\n                        <v-col\n                          v-if=\"!isWater\"\n                          :key=\"reagent.key + 'g'\"\n                          cols=\"3\"\n                          class=\"text-end\"\n                        >\n                          {{ (mass[reagent.key] / totalFertilizerMass * massG) | precision(2) }} г\n                        </v-col>\n                      </template>\n                      <v-col\n                        v-for=\"compound in compounds\"\n                        cols=\"12\"\n                        :key=\"compound.key\"\n                        class=\"py-0\"\n                      >\n                        <number-field\n                          :value=\"mass[compound.key]\"\n                          @input=\"inputMass($event, compound.key)\"\n                          :precision-show=\"3\"\n                          :label=\"compound.text\"\n                          :key=\"compound.key\"\n                          :suffix=\"compound.isLiquid ? 'мл' : 'г'\"\n                          hide-details=\"auto\"\n                          :rules=\"[\n                            rulesMass.isExist(),\n                          ]\"\n                        />\n                      </v-col>\n                      <v-expand-transition>\n                        <v-col\n                          cols=\"12\"\n                          v-if=\"isWater\"\n                          class=\"pt-0\"\n                        >\n                          <elements-table\n                            :total-ion-concentration=\"totalIonConcentration\"\n                            :fertilizer-mass=\"mass\"\n                            :concentration=\"concentration\"\n                          />\n                        </v-col>\n                      </v-expand-transition>\n                      <v-expand-transition>\n                        <v-col\n                          cols=\"12\"\n                          v-if=\"!isWater\"\n                          class=\"pt-0\"\n                        >\n                          <elements-dry-table\n                            :total-ion-concentration=\"totalIonConcentration\"\n                            :fertilizer-mass=\"mass\"\n                            :total-fertilizer-mass=\"totalFertilizerMass\"\n                          />\n                        </v-col>\n                      </v-expand-transition>\n                      <v-expand-transition>\n                        <v-col\n                          v-if=\"isHardness\"\n                          cols=\"12\"\n                          class=\"pt-0\"\n                        >\n                          <hardness-table\n                            :total-ion-concentration=\"totalIonConcentration\"\n                            :is-volume=\"!!volume\"\n                            class=\"mt-4\"\n                          />\n                        </v-col>\n                      </v-expand-transition>\n                      <v-col\n                        v-if=\"isWater\"\n                        cols=\"12\"\n                      >\n                        <div class=\"d-flex align-center\">\n                          <v-divider />\n                          <span class=\"mx-3\">\n                            Или введите дозу элемента\n                            <v-tooltip\n                              bottom\n                              max-width=\"400\"\n                            >\n                              <template v-slot:activator=\"{ on }\">\n                                <v-icon v-on=\"on\">mdi-help-circle-outline</v-icon>\n                              </template>\n                              Калькулятор автоматически рассчитает\n                              необходимую массу реагента.\n                              Доза - это количество элемента, на которую повысится концентрация\n                              элемента в заданном объеме аквариума при внесении 1 мл удобрения.\n                              Например, вы хотите сделать макро удобрение с нитратом.\n                              И для удобства введения его в аквариум вы бы хотели, чтобы\n                              на каждый вводимый 1 мл удобрения, нитрат повышался на 0.5 мг/л.\n                              0.5 - это доза.\n                            </v-tooltip>\n                          </span>\n                          <v-divider />\n                        </div>\n                      </v-col>\n                      <v-expand-transition>\n                        <v-col\n                          v-if=\"isReagents && isWater\"\n                          cols=\"12\"\n                        >\n                          <v-combobox\n                            :items=\"tanks\"\n                            v-model.number=\"tankVolume\"\n                            type=\"number\"\n                            item-text=\"name\"\n                            item-value=\"volume\"\n                            label=\"Объем аквариума\"\n                            persistent-hint\n                            hide-selected\n                            hint=\"Выберите аквариум или введите объем\"\n                            suffix=\"л\"\n                            :return-object=\"false\"\n                          />\n                        </v-col>\n                      </v-expand-transition>\n                      <v-col\n                        v-if=\"tankVolume && isWater\"\n                        cols=\"12\"\n                        class=\"pb-0\"\n                      >\n                        <v-row>\n                          <template v-for=\"reagent in reagents\">\n                            <v-col\n                              cols=\"12\"\n                              :key=\"reagent.key\"\n                              class=\"py-0\"\n                            >\n                              <v-row class=\"mb-3\">\n                                <template v-for=\"(data, ion) in FORMULAS[reagent.key].ions\">\n                                  <v-col\n                                    v-if=\"data.isNeeded\"\n                                    :key=\"reagent.key + ion\"\n                                    class=\"py-0\"\n                                  >\n                                    <number-field\n                                      :value=\"solute[reagent.key][ion]\"\n                                      @input=\"inputIonDose($event, reagent.key, ion)\"\n                                      :precision-show=\"3\"\n                                      :precision-value=\"5\"\n                                      :label=\"convertIonName(ion) + ', мг/л'\"\n                                      :hint=\"'из ' + reagent.key\"\n                                      persistent-hint\n                                    />\n                                  </v-col>\n                                </template>\n                              </v-row>\n                            </v-col>\n                          </template>\n                          <template v-for=\"compound in compounds\">\n                            <v-col\n                              cols=\"12\"\n                              :key=\"compound.key\"\n                              class=\"py-0\"\n                            >\n                              <v-row class=\"mb-3\">\n                                <template v-for=\"ion in Object.keys(compound.ions)\">\n                                  <v-col\n                                    :key=\"compound.key + ion\"\n                                    class=\"py-0\"\n                                  >\n                                    <number-field\n                                      :value=\"solute[compound.key][ion]\"\n                                      @input=\"inputIonDose($event, compound.key, ion)\"\n                                      :precision-show=\"3\"\n                                      :precision-value=\"5\"\n                                      :label=\"convertIonName(ion) + ', мг/л'\"\n                                      :hint=\"'из ' + compound.key\"\n                                      persistent-hint\n                                    />\n                                  </v-col>\n                                </template>\n                              </v-row>\n                            </v-col>\n                          </template>\n                          <v-col\n                            v-if=\"isReagents\"\n                            cols=\"12\"\n                            class=\"d-flex justify-space-between pb-0\"\n                          >\n                            <div>\n                              Общая доза, мг/л\n                            </div>\n                            <div class=\"d-flex flex-column\">\n                              <div\n                                v-for=\"[ion, value] in ionTotalDoseSorted\"\n                                class=\"d-flex justify-space-between\"\n                                :key=\"ion\"\n                              >\n                                <div>{{ convertIonName(ion) }}:</div>\n                                <div class=\"ml-3\">\n                                  {{ value | precision(3) }}\n                                  <template v-if=\"countTotalDose(solute)\">\n                                    ({{ (value / countTotalDose(solute) * 100) | precision(2) }}%)\n                                  </template>\n                                </div>\n                              </div>\n                            </div>\n                          </v-col>\n                        </v-row>\n                      </v-col>\n                    </v-row>\n                  </v-col>\n                </v-expand-transition>\n                <v-expand-transition>\n                  <v-col\n                    v-if=\"isReagents && (volume || !isWater)\"\n                    cols=\"12\"\n                  >\n                    <v-row>\n                      <v-col cols=\"12\">\n                        <v-text-field\n                          v-model=\"name\"\n                          label=\"Имя рецепта\"\n                          hide-details=\"auto\"\n                          hint=\"Придумайте имя рецепта, чтобы не путать его с другими рецептами\"\n                          :rules=\"rulesName\"\n                        />\n                      </v-col>\n                      <v-col cols=\"12\">\n                        <v-textarea\n                          v-model=\"note\"\n                          label=\"Примечание\"\n                          hide-details=\"auto\"\n                          auto-grow\n                          rows=\"1\"\n                          hint=\"Вы можете добавить дополнительные сведения к рецепту\"\n                        />\n                      </v-col>\n                      <v-col\n                        class=\"text-right\"\n                        cols=\"12\"\n                      >\n                        <v-btn\n                          v-if=\"!isCreate && !isShared\"\n                          @click=\"removeRecipe\"\n                        >\n                          Удалить\n                        </v-btn>\n                        <v-btn\n                          v-if=\"!isCreate && !isShared\"\n                          color=\"primary\"\n                          @click=\"editRecipe\"\n                          class=\"ml-2\"\n                        >\n                          Сохранить\n                        </v-btn>\n                        <v-btn\n                          v-if=\"isCreate || isShared\"\n                          color=\"primary\"\n                          @click=\"addRecipe\"\n                        >\n                          Добавить\n                        </v-btn>\n                      </v-col>\n                    </v-row>\n                  </v-col>\n                </v-expand-transition>\n              </v-row>\n            </v-col>\n          </v-row>\n        </v-form>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport FORMULAS from '@/constants/formulas';\nimport COMPOUNDS from '@/constants/compounds';\nimport RECIPES from '@/constants/recipes';\nimport {\n  countTotalIonConcentration,\n  countPercent,\n  isConcentration,\n  countTotalIonDose,\n  countTotalDose,\n  convertIonName,\n  convertIonRatio,\n  OPPOSITE,\n} from '@/helpers/funcs';\nimport { KH, GH } from '@/constants/hardness';\nimport { mapState, mapMutations } from 'vuex';\nimport ElementsTable from '@/components/recipes/ElementsTable.vue';\nimport ElementsDryTable from '@/components/recipes/ElementsDryTable.vue';\nimport HardnessTable from '@/components/recipes/HardnessTable.vue';\n\nexport default {\n  name: 'Recipe',\n  components: {\n    ElementsTable,\n    ElementsDryTable,\n    HardnessTable,\n  },\n  data() {\n    return {\n      FORMULAS,\n      COMPOUNDS,\n      RECIPES,\n      OPPOSITE,\n      reagents: [],\n      compounds: [],\n      recipeExampleChosen: null,\n      volume: null,\n      tankVolume: null,\n      mass: {},\n      solute: {},\n      name: '',\n      note: null,\n      isShared: false,\n      isWater: true,\n      massG: 1,\n      rulesReagent: [\n        () => (this.reagents.length > 0 || this.compounds.length > 0) || 'Выберите реагент',\n      ],\n      rulesMass: {\n        isExist() {\n          return (v) => !!v || 'Введите массу';\n        },\n      },\n      rulesVolume: {\n        isExist() {\n          return (v) => !!v || 'Введите объем удобрения';\n        },\n      },\n      rulesName: [\n        (v) => !!v || 'Введите название',\n        () => !this.isExist || 'Рецепт с таким названием уже существует',\n      ],\n    };\n  },\n  mounted() {\n    const { share } = this.$router.currentRoute.query;\n    if (this.isCreate) {\n      return;\n    }\n    let recipe;\n    if (share) {\n      this.isShared = true;\n      [recipe] = JSON.parse(decodeURIComponent(share));\n    } else if (!this.isCreate) {\n      recipe = JSON.parse(JSON.stringify({ ...this.recipes[this.recipeIndex] }));\n    }\n    const reagents = [];\n    const compounds = [];\n    this.formulas.forEach((formula) => {\n      if (recipe.reagents && recipe.reagents.includes(formula.key)) {\n        reagents.push(formula);\n      }\n    });\n    this.compoundsList.forEach((compound) => {\n      if (recipe.compounds && recipe.compounds.includes(compound.key)) {\n        compounds.push(compound);\n      }\n    });\n    delete recipe.reagents;\n    delete recipe.compounds;\n    Object.assign(this.$data, recipe);\n    this.reagents = reagents;\n    this.compounds = compounds;\n    this.isWater = recipe.volume > 0;\n  },\n  computed: {\n    ...mapState([\n      'tanks',\n      'recipes',\n    ]),\n    isCreate() {\n      return this.$route.params.id === 'create';\n    },\n    recipeIndex() {\n      return this.$route.params.id;\n    },\n    formulas() {\n      const result = [];\n      Object.entries(FORMULAS).forEach(([formula, data]) => {\n        result.push({\n          key: formula,\n          text: `${data.name} - ${formula}`,\n          ...data,\n        });\n      });\n      result.sort((a, b) => a.text.localeCompare(b.text));\n      return result;\n    },\n    compoundsList() {\n      const result = [];\n      Object.entries(COMPOUNDS).forEach(([name, data]) => {\n        result.push({\n          key: name,\n          text: data.name,\n          ...data,\n        });\n      });\n      result.sort((a, b) => a.text.localeCompare(b.name));\n      return result;\n    },\n    recipesExamples() {\n      const recipeExamples = [];\n      RECIPES.forEach((item) => {\n        recipeExamples.push(item.name);\n      });\n      recipeExamples.sort((a, b) => a.localeCompare(b));\n      return recipeExamples;\n    },\n    isReagents() {\n      return this.reagents.length > 0 || this.compounds.length > 0;\n    },\n    totalFertilizerMass() {\n      return Object.values(this.mass).reduce((sum, value) => sum + +value);\n    },\n    concentration() {\n      const result = {};\n      if (this.isReagents && Object.keys(this.mass).length > 0) {\n        this.reagents.forEach((reagent) => {\n          result[reagent.key] = {};\n          const { ions, HCO3 } = reagent;\n          Object.entries(ions).forEach(([ion, data]) => {\n            if (data.isNeeded) {\n              let factor = 1;\n              if (this.volume) {\n                factor = 1 / (this.volume / 1000);\n              } else if (!this.volume) {\n                factor = 1 / this.totalFertilizerMass;\n              }\n              if (ion === 'CO3' && HCO3) {\n                factor *= HCO3;\n              }\n              result[reagent.key][ion] = this.mass[reagent.key] * this.countPercent(reagent.key)[ion] * factor;\n            }\n          });\n        });\n        this.compounds.forEach((compound) => {\n          result[compound.key] = {};\n          const { ions } = compound;\n          Object.entries(ions).forEach(([ion, value]) => {\n            let factor = 1;\n            if (this.volume) {\n              factor = 1 / (this.volume / 1000);\n            } else if (!this.volume) {\n              factor = 1 / this.totalFertilizerMass;\n            }\n            result[compound.key][ion] = this.mass[compound.key] * value * factor;\n          });\n        });\n      }\n      return result;\n    },\n    totalIonConcentration() {\n      return this.countTotalIonConcentration(this.concentration);\n    },\n    isExist() {\n      const names = this.recipes.map((item) => item.name);\n      const index = names.findIndex((item) => item === this.name);\n      const isExist = index !== -1;\n      const isEdit = index === +this.recipeIndex;\n      return isExist && !isEdit;\n    },\n    ionTotalDoseSorted() {\n      const result = Object.entries(countTotalIonDose(this.solute));\n      result.sort((a, b) => b[1] - a[1]);\n      return result;\n    },\n    isHardness() {\n      let result = false;\n      Object.keys(this.totalIonConcentration).forEach((ion) => {\n        if ([...Object.keys(GH), ...Object.keys(KH)].includes(ion)) {\n          result = true;\n        }\n      });\n      return result;\n    },\n  },\n  watch: {\n    reagents(newValue, oldValue) {\n      if (newValue.length < oldValue.length) {\n        const reagentsToRemove = oldValue.filter((item) => !newValue.includes(item));\n        reagentsToRemove.forEach((item) => {\n          delete this.mass[item.key];\n        });\n      }\n      if (!this.name && this.reagents.length === 1) {\n        const reagent = this.reagents[0];\n        this.name = reagent.key;\n      }\n      const solute = {};\n      this.reagents.forEach((reagent) => {\n        const { ions } = reagent;\n        solute[reagent.key] = {};\n        Object.entries(ions).forEach(([ion, data]) => {\n          if (data.isNeeded) {\n            solute[reagent.key][ion] = 0;\n          }\n        });\n      });\n      this.solute = { ...solute };\n      const mass = { ...this.mass };\n      this.reagents.forEach((reagent) => {\n        if (!(reagent.key in mass)) {\n          mass[reagent.key] = 0;\n        }\n      });\n      this.mass = { ...mass };\n      if (this.volume) {\n        this.countDose();\n      }\n    },\n    compounds(newValue, oldValue) {\n      if (newValue.length < oldValue.length) {\n        const compoundsToRemove = oldValue.filter((item) => !newValue.includes(item));\n        compoundsToRemove.forEach((item) => {\n          delete this.mass[item.key];\n        });\n      }\n      if (!this.name && this.compounds.length === 1) {\n        this.name = this.compounds[0].key;\n      }\n      const solute = {};\n      this.compounds.forEach((compound) => {\n        const { ions } = compound;\n        solute[compound.key] = {};\n        Object.keys(ions).forEach((ion) => {\n          solute[compound.key][ion] = 0;\n        });\n      });\n      this.solute = { ...solute };\n      const mass = { ...this.mass };\n      this.compounds.forEach((compound) => {\n        if (!(compound.key in mass)) {\n          mass[compound.key] = 0;\n        }\n      });\n      this.mass = { ...mass };\n      if (this.volume) {\n        this.countDose();\n      }\n    },\n    recipeExampleChosen() {\n      const recipe = this.RECIPES.find((item) => item.name === this.recipeExampleChosen);\n      this.mass = {};\n      if (recipe) {\n        const reagents = [];\n        this.formulas.forEach((formula) => {\n          if (recipe.reagents && formula.key in recipe.reagents) {\n            reagents.push(formula);\n          }\n        });\n        const compounds = [];\n        this.compoundsList.forEach((compound) => {\n          if (recipe.compounds && compound.key in recipe.compounds) {\n            compounds.push(compound);\n          }\n        });\n        this.reagents = reagents;\n        this.compounds = compounds;\n        this.name = recipe.name;\n        this.note = recipe.note;\n        this.volume = recipe.volume;\n        this.tankVolume = recipe.tankVolume;\n        if (recipe.reagents) {\n          Object.entries(recipe.reagents).forEach(([reagent, mass]) => {\n            this.mass[reagent] = mass;\n          });\n        }\n        if (recipe.compounds) {\n          Object.entries(recipe.compounds).forEach(([compound, mass]) => {\n            this.mass[compound] = mass;\n          });\n        }\n        this.isWater = recipe.volume > 0;\n      }\n    },\n    tankVolume() {\n      if (this.volume) {\n        this.countDose();\n      }\n    },\n  },\n  methods: {\n    ...mapMutations([\n      'RECIPE_ADD',\n      'RECIPE_REMOVE',\n      'RECIPE_EDIT',\n      'SNACKBAR_SHOW',\n    ]),\n    countTotalIonConcentration,\n    countTotalIonDose,\n    countTotalDose,\n    isConcentration,\n    countPercent,\n    convertIonName,\n    convertIonRatio,\n    countDose() {\n      this.reagents.forEach((reagent) => {\n        const { ions } = reagent;\n        const result = {};\n        Object.entries(ions).forEach(([ion, data]) => {\n          if (data.isNeeded) {\n            result[ion] = (\n              (this.mass[reagent.key] / this.volume / this.tankVolume)\n              * (this.countPercent(reagent.key)[ion] * this.convertIonRatio(ion) * 1000)\n            );\n            Vue.set(this.solute, reagent.key, result);\n          }\n        });\n      });\n      this.compounds.forEach((compound) => {\n        const { ions } = compound;\n        const result = {};\n        Object.entries(ions).forEach(([ion, value]) => {\n          result[ion] = (\n            (this.mass[compound.key] / this.volume / this.tankVolume) * (value * this.convertIonRatio(ion) * 1000)\n          );\n          Vue.set(this.solute, compound.key, result);\n        });\n      });\n    },\n    setIsWater(value) {\n      this.isWater = value;\n      this.volume = null;\n      this.tankVolume = null;\n    },\n    showComponents(ions) {\n      const output = [];\n      Object.entries(ions).forEach(([ion, value]) => {\n        output.push(`${ion}: ${(value * 100).toFixed(2)}%`);\n      });\n      return output.join(' ');\n    },\n    inputMass(value, key) {\n      const mass = +value;\n      Vue.set(this.mass, key, mass || '');\n      if (this.tankVolume && +mass) {\n        this.countDose();\n      }\n    },\n    inputVolume(value) {\n      this.volume = +value;\n      if (this.tankVolume && +value) {\n        this.countDose();\n      }\n    },\n    isFormula(name) {\n      return name in FORMULAS;\n    },\n    inputIonDose(value, key, curIon) {\n      const solute = {};\n      const ratio = {};\n      Object.keys(this.solute[key]).forEach((ion) => {\n        ratio[ion] = this.convertIonRatio(ion);\n      });\n      Object.keys(this.solute[key]).forEach((ion) => {\n        let ionDose = parseFloat(value);\n        if (ion !== curIon) {\n          if (ratio[curIon] > 1) {\n            ionDose /= ratio[curIon];\n          } else {\n            ionDose *= ratio[ion];\n          }\n          if (this.isFormula(key)) {\n            ionDose *= (this.countPercent(key)[ion] / this.countPercent(key)[curIon]);\n          } else {\n            ionDose *= (COMPOUNDS[key].ions[ion] / COMPOUNDS[key].ions[curIon]);\n          }\n        }\n        solute[ion] = +ionDose || 0;\n        Vue.set(this.solute, key, solute);\n      });\n      const fertilizerMass = { ...this.mass };\n      let mass = 0;\n      if (!this.solute[key][curIon]) {\n        mass = 0;\n      } else if (this.isFormula(key)) {\n        mass = (this.solute[key][curIon] * this.tankVolume * this.volume)\n          / 1000 / this.countPercent(key)[curIon] / this.convertIonRatio(curIon);\n      } else {\n        mass = (this.solute[key][curIon] * this.tankVolume * this.volume)\n          / 1000 / COMPOUNDS[key].ions[curIon] / this.convertIonRatio(curIon);\n      }\n      fertilizerMass[key] = mass;\n      this.mass = { ...fertilizerMass };\n    },\n    addRecipe() {\n      if (this.$refs.recipeForm.validate()) {\n        this.RECIPE_ADD({\n          name: this.name,\n          note: this.note,\n          volume: this.volume,\n          tankVolume: this.tankVolume,\n          reagents: [...this.reagents.map((reagent) => reagent.key)],\n          compounds: [...this.compounds.map((compound) => compound.key)],\n          mass: { ...this.mass },\n          concentration: { ...this.concentration },\n        });\n        this.SNACKBAR_SHOW('Рецепт добавлен');\n        this.$router.push('/recipes');\n      }\n    },\n    editRecipe() {\n      if (this.$refs.recipeForm.validate()) {\n        this.RECIPE_EDIT({\n          index: this.recipeIndex,\n          recipe: {\n            name: this.name,\n            note: this.note,\n            volume: this.volume,\n            tankVolume: this.tankVolume,\n            reagents: [...this.reagents.map((reagent) => reagent.key)],\n            compounds: [...this.compounds.map((compound) => compound.key)],\n            mass: { ...this.mass },\n            concentration: { ...this.concentration },\n          },\n        });\n        this.SNACKBAR_SHOW('Рецепт изменен');\n        this.$router.push('/recipes');\n      }\n    },\n    removeRecipe() {\n      this.RECIPE_REMOVE(this.recipeIndex);\n      this.SNACKBAR_SHOW('Рецепт удален');\n      this.$router.push('/recipes');\n    },\n  },\n};\n</script>\n\n<style lang=\"sass\">\n.flip-list-move\n  transition: transform 0.5s\n.ghost\n  opacity: 0.5\n  background: #c8ebfb\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recipe.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recipe.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./recipe.vue?vue&type=template&id=670c9024&\"\nimport script from \"./recipe.vue?vue&type=script&lang=js&\"\nexport * from \"./recipe.vue?vue&type=script&lang=js&\"\nimport style0 from \"./recipe.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpandTransition } from 'vuetify/lib/components/transitions';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCol,VCombobox,VContainer,VDivider,VExpandTransition,VForm,VIcon,VRadio,VRadioGroup,VRow,VSelect,VTextField,VTextarea,VTooltip})\n","/**\n * Samomes\n *\n * Copyright (C) 2021 Mikhail Lapshin\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\nexport default {\n  PlantexCSM: {\n    ions: {\n      Fe: 0.07,\n      Mn: 0.02,\n      Mg: 0.015,\n      Zn: 0.004,\n      Cu: 0.001,\n      Mo: 0.0006,\n    },\n    name: 'Plantex® C.S.M.',\n  },\n  PlantexCMM: {\n    ions: {\n      Fe: 0.07,\n      Mn: 0.02,\n      B: 0.013,\n      Zn: 0.004,\n      Cu: 0.001,\n      Mo: 0.0006,\n    },\n    name: 'Plantex® C.M.M.',\n  },\n  AgroMicsT: {\n    ions: {\n      Fe: 0.07,\n      Mn: 0.033,\n      B: 0.0065,\n      Zn: 0.006,\n      Cu: 0.0027,\n      Mo: 0.002,\n    },\n    name: 'АгроМикс T',\n  },\n  'Fe-EDTA13': {\n    ions: {\n      Fe: 0.13,\n    },\n    name: 'ЭДТА Железо 13%',\n  },\n  'Fe-EDDGA6': {\n    ions: {\n      Fe: 0.06,\n    },\n    name: 'ЭДДГА Железо 6%',\n  },\n  'Fe-DTPA11': {\n    ions: {\n      Fe: 0.11,\n    },\n    name: 'ДТПА Железо 11%',\n  },\n  'Mn-EDTA13': {\n    ions: {\n      Mn: 0.13,\n    },\n    name: 'ЭДТА Марганец 13%',\n  },\n  'Ca-EDTA10': {\n    ions: {\n      Ca: 0.10,\n    },\n    name: 'ЭДТА Кальций 10%',\n  },\n  'Mg-EDTA6': {\n    ions: {\n      Mg: 0.06,\n    },\n    name: 'ЭДТА Магний 6%',\n  },\n  'Co-EDTA13': {\n    ions: {\n      Co: 0.13,\n    },\n    name: 'ЭДТА Кобальт 13%',\n  },\n  'Zn-EDTA15': {\n    ions: {\n      Zn: 0.15,\n    },\n    name: 'ЭДТА Цинк 15%',\n  },\n  'Cu-EDTA15': {\n    ions: {\n      Cu: 0.15,\n    },\n    name: 'ЭДТА Медь 15%',\n  },\n  'B12-liquid': {\n    ions: {},\n    isLiquid: true,\n    name: 'Цианокобаламин B12 (жидкий)',\n  },\n  'B12-solid': {\n    ions: {},\n    name: 'Цианокобаламин B12 (порошок)',\n  },\n  Ferovit: {\n    ions: {\n      Fe: 0.075,\n      N: 0.04,\n    },\n    isLiquid: true,\n    name: 'Феровит',\n  },\n  Citovit: {\n    ions: {\n      N: 0.03,\n      P: 0.005,\n      K: 0.025,\n      Mg: 0.01,\n      S: 0.04,\n      Fe: 0.035,\n      Mn: 0.03,\n      B: 0.008,\n      Zn: 0.006,\n      Cu: 0.006,\n      Mo: 0.004,\n      Co: 0.002,\n    },\n    isLiquid: true,\n    name: 'Цитовит',\n  },\n};\n","// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, this.$slots.default)\n  },\n})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recipe.vue?vue&type=style&index=0&lang=sass&\"","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n"],"sourceRoot":""}