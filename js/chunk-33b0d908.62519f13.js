(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33b0d908"],{"08d6":function(t,s,i){"use strict";i("57dd")},"57dd":function(t,s,i){},5967:function(t,s,i){"use strict";i.r(s);var n=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("v-container",{staticClass:"mb-12"},[i("v-row",[i("page-title",[t._v(" Аквариумы ")]),i("guide",[t._v(" На этой странице можно рассчитать объем аквариума по линейным размерам и добавить аквариум в список. "),i("br"),i("br"),t._v(" Список аквариумов упрощает выбор объема при составлении "),i("router-link",{attrs:{to:"/recipes"}},[t._v(" рецепта ")]),t._v(" или "),i("router-link",{attrs:{to:"/schedules"}},[t._v(" расписания ")]),t._v(" внесения удобрений. ")],1),0===t.tanks.length?i("v-col",{attrs:{cols:"12",md:"8","offset-md":"2"}},[i("p",{staticClass:"mb-8",class:{"text-h6":t.$vuetify.breakpoint["xs"],"text-h5":t.$vuetify.breakpoint["smAndUp"]}},[t._v(" У вас нет ни одного аквариума ")])]):t._e(),i("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[i("v-expansion-panels",{attrs:{multiple:""}},[i("draggable",t._b({staticStyle:{width:"100%"},attrs:{handle:".handle"},on:{start:function(s){t.drag=!0},end:function(s){t.drag=!1}},model:{value:t.tanks,callback:function(s){t.tanks=s},expression:"tanks"}},"draggable",t.dragOptions,!1),[i("transition-group",{attrs:{type:"transition",name:t.drag?null:"flip-list"}},t._l(t.tanks,(function(s,n){return i("v-expansion-panel",{key:s.name},[i("v-expansion-panel-header",{staticClass:"pa-3 py-sm-4 px-sm-6"},[i("div",{staticClass:"d-flex align-center",staticStyle:{width:"100%"}},[i("div",{staticClass:"no-break font-weight-regular mr-auto",class:{"subtitle-1":t.$vuetify.breakpoint["xs"],title:t.$vuetify.breakpoint["smAndUp"]}},[t._v(" "+t._s(s.name)+" ")]),i("div",{staticClass:"mr-1 mx-sm-4",staticStyle:{"white-space":"nowrap"}},[t._v(" "+t._s(s.volume.toFixed(1))+" "+t._s(t.$t("units.l"))+" ")]),i("div",[i("v-tooltip",{attrs:{bottom:"","max-width":"400"},scopedSlots:t._u([{key:"activator",fn:function(s){var n=s.on;return[i("v-icon",t._g({staticClass:"handle"},n),[t._v(" mdi mdi-drag ")])]}}],null,!0)},[t._v(" "+t._s(t.$t("tanks.panels.header.pull"))+" ")])],1)])]),i("v-expansion-panel-content",[s.length?i("div",{staticClass:"body-2"},[i("div",{staticClass:"d-flex justify-space-between"},[i("div",[t._v(t._s(t.$t("tanks.dialog.length")))]),i("div",[t._v(t._s(s.length)+" "+t._s(t.$t("units.cm")))])]),i("div",{staticClass:"d-flex justify-space-between"},[i("div",[t._v(t._s(t.$t("tanks.dialog.width")))]),i("div",[t._v(t._s(s.width)+" "+t._s(t.$t("units.cm")))])]),i("div",{staticClass:"d-flex justify-space-between"},[i("div",[t._v(t._s(t.$t("tanks.dialog.height")))]),i("div",[t._v(t._s(s.height)+" "+t._s(t.$t("units.cm")))])]),i("div",{staticClass:"d-flex justify-space-between"},[i("div",[t._v(t._s(t.$t("tanks.dialog.glassThickness")))]),i("div",[t._v(t._s(s.glassThickness)+" "+t._s(t.$t("units.mm")))])])]):i("div",{staticClass:"body-2"},[t._v(" "+t._s(t.$t("tanks.panels.body.noSizes"))+" ")]),i("div",{staticClass:"d-flex justify-end mt-4"},[i("v-btn",{staticClass:"mr-n4",attrs:{text:"",right:""},on:{click:function(s){return s.stopPropagation(),t.setComponent(n)}}},[t._v(" "+t._s(t.$t("buttons.open"))+" ")])],1)])],1)})),1)],1)],1)],1)],1),i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(s){t.dialog=s},expression:"dialog"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[t.isEditing?i("v-toolbar-title",[t._v(" "+t._s(t.$t("tanks.dialog.tankEdit"))+" ")]):i("v-toolbar-title",[t._v(" "+t._s(t.$t("tanks.dialog.tankNew"))+" ")]),i("v-btn",{staticClass:"ml-auto",attrs:{icon:"",dark:""},on:{click:function(s){t.dialog=!1}}},[i("v-icon",[t._v("mdi-close")])],1)],1),i("v-card-text",{staticClass:"px-2"},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",md:"8","offset-md":"2"}},[i("v-form",{ref:"tankForm"},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{label:t.$t("tanks.dialog.name"),"hide-details":"auto",clearable:"",hint:t.$t("tanks.dialog.nameHint"),rules:t.nameRules},model:{value:t.name,callback:function(s){t.name=s},expression:"name"}})],1),i("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[i("v-text-field",{attrs:{type:"Number",label:t.$t("tanks.dialog.volume"),suffix:t.$t("units.l"),"hide-details":"auto",hint:t.$t("tanks.dialog.volumeHint"),rules:t.volumeRules},model:{value:t.volume,callback:function(s){t.volume=t._n(s)},expression:"volume"}})],1),i("v-col",{staticClass:"text-center pb-0",attrs:{cols:"12"}},[i("div",{staticClass:"d-flex align-center my-3"},[i("v-divider"),i("div",{staticClass:"mx-2"},[t._v(" "+t._s(t.$t("tanks.dialog.orSizes"))+" ")]),i("v-divider")],1)]),i("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[i("v-text-field",{attrs:{type:"number",label:t.$t("tanks.dialog.length"),suffix:t.$t("units.cm"),"hide-details":"auto"},model:{value:t.length,callback:function(s){t.length=t._n(s)},expression:"length"}}),i("v-text-field",{attrs:{type:"number",label:t.$t("tanks.dialog.width"),suffix:t.$t("units.cm"),"hide-details":"auto"},model:{value:t.width,callback:function(s){t.width=t._n(s)},expression:"width"}}),i("v-text-field",{attrs:{type:"number",label:t.$t("tanks.dialog.height"),suffix:t.$t("units.cm"),hint:t.$t("tanks.dialog.heightHint"),"hide-details":"auto"},model:{value:t.height,callback:function(s){t.height=t._n(s)},expression:"height"}}),i("v-text-field",{attrs:{type:"number",label:t.$t("tanks.dialog.glassThickness"),suffix:t.$t("units.mm"),"hide-details":"auto"},model:{value:t.glassThickness,callback:function(s){t.glassThickness=t._n(s)},expression:"glassThickness"}})],1),i("v-expand-transition",[i("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[t.isEditing?i("v-btn",{on:{click:t.removeTank}},[t._v(" "+t._s(t.$t("buttons.remove"))+" ")]):t._e(),t.isEditing?i("v-btn",{staticClass:"ml-2",attrs:{color:"primary"},on:{click:t.editTank}},[t._v(" "+t._s(t.$t("buttons.save"))+" ")]):t._e(),t.isEditing?t._e():i("v-btn",{attrs:{color:"primary"},on:{click:t.addTank}},[t._v(" "+t._s(t.$t("buttons.add"))+" ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),i("add-button",{attrs:{action:t.openAddTank}},[t._v(" "+t._s(t.$t("tanks.addButton"))+" ")])],1)},e=[],a=i("5530"),l=(i("99af"),i("d81d"),i("b0c0"),i("c740"),i("2f62")),o=i("b76a"),d=i.n(o),r={name:"Tank",components:{draggable:d.a},data:function(){var t=this;return{drag:!1,name:null,volume:null,length:null,height:null,width:null,glassThickness:null,filter:0,soil:0,curTankIndex:null,dialog:this.$route.params.open,nameRules:[function(s){return!!s||t.$t("tanks.dialog.nameRules.require")},function(){return!t.isExist||t.isSame||t.$t("tanks.dialog.nameRules.exists")}],volumeRules:[function(s){return!!s||t.$t("tanks.dialog.volumeRules.require")}]}},computed:Object(a["a"])(Object(a["a"])({},Object(l["d"])(["tanks"])),{},{dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},dimensions:function(){return"".concat(this.length).concat(this.height).concat(this.width).concat(this.glassThickness)},tanks:{get:function(){return this.$store.state.tanks},set:function(t){this.TANK_MOVE(t)}},isExist:function(){var t=this,s=this.tanks.map((function(t){return t.name}));return-1!==s.findIndex((function(s){return s===t.name}))},isSame:function(){var t=this,s=this.tanks.map((function(t){return t.name}));return s.findIndex((function(s){return s===t.name}))===this.curTankIndex},isEditing:function(){return null!==this.curTankIndex}}),watch:{dimensions:function(){console.log(this.length,this.height,this.width),this.length&&this.height&&this.width?this.volume=Math.round((this.length-2*this.glassThickness/10)*this.height*(this.width-2*this.glassThickness/10)/1e3*100)/100:this.volume=0}},methods:Object(a["a"])(Object(a["a"])({},Object(l["c"])(["TANK_ADD","TANK_REMOVE","TANK_EDIT","TANK_MOVE","SNACKBAR_SHOW"])),{},{resetComponent:function(){this.name=null,this.volume=null,this.length=null,this.height=null,this.width=null,this.glassThickness=null,this.curTankIndex=null,this.dialog=!1},setComponent:function(t){var s=this.tanks[t];this.name=s.name,this.volume=s.volume,this.length=s.length,this.height=s.height,this.width=s.width,this.glassThickness=s.glassThickness,this.curTankIndex=t,this.dialog=!0},openAddTank:function(){this.resetComponent(),this.dialog=!this.dialog,this.$refs.tankForm&&this.$refs.tankForm.resetValidation()},addTank:function(){this.$refs.tankForm.validate()&&(this.TANK_ADD({name:this.name,volume:this.volume,length:this.length,height:this.height,width:this.width,glassThickness:this.glassThickness}),this.resetComponent(),this.SNACKBAR_SHOW(this.$t("tanks.dialog.messageTankAdd")))},editTank:function(){this.$refs.tankForm.validate()&&(this.TANK_EDIT({index:this.curTankIndex,tank:{name:this.name,volume:this.volume,length:this.length,height:this.height,width:this.width,glassThickness:this.glassThickness}}),this.resetComponent(),this.SNACKBAR_SHOW(this.$t("tanks.dialog.messageTankEdit")))},removeTank:function(){this.TANK_REMOVE(this.curTankIndex),this.resetComponent(),this.SNACKBAR_SHOW(this.$t("tanks.dialog.messageTankRemove"))}})},c=r,h=(i("08d6"),i("2877")),u=i("6544"),v=i.n(u),m=i("8336"),g=i("b0af"),k=i("99d9"),f=i("62ad"),p=i("a523"),_=i("169a"),b=i("ce7e"),x=i("0789"),T=i("cd55"),$=i("49e2"),C=i("c865"),w=i("0393"),y=i("4bd4"),V=i("132d"),A=i("0fd9"),E=i("8654"),O=i("71d9"),S=i("2a7f"),R=i("3a2f"),N=Object(h["a"])(c,n,e,!1,null,"40f6866d",null);s["default"]=N.exports;v()(N,{VBtn:m["a"],VCard:g["a"],VCardText:k["c"],VCol:f["a"],VContainer:p["a"],VDialog:_["a"],VDivider:b["a"],VExpandTransition:x["a"],VExpansionPanel:T["a"],VExpansionPanelContent:$["a"],VExpansionPanelHeader:C["a"],VExpansionPanels:w["a"],VForm:y["a"],VIcon:V["a"],VRow:A["a"],VTextField:E["a"],VToolbar:O["a"],VToolbarTitle:S["a"],VTooltip:R["a"]})}}]);
//# sourceMappingURL=chunk-33b0d908.62519f13.js.map