(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59d8bbe4"],{"3e20":function(e,t,n){},f680:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"mb-12"},[n("v-row",[n("page-title",[e._v(" Удобрения ")]),n("guide",[e._v(" На этой странице можно добавить готовые удобрения (самодельные или фирменные удобрения с известным составом). А так же можно добавить удобрение с неизвестным составом, чтобы была возможность учесть его в расписании. "),n("br"),n("br"),e._v(" Готовые удобрения можно использовать при составлении "),n("router-link",{attrs:{to:"/schedules"}},[e._v(" расписания ")]),e._v(" внесения удобрений. ")],1),0===e.fertilizers.length?n("v-col",{attrs:{cols:"12",md:"8","offset-md":"2"}},[n("p",{staticClass:"mb-8",class:{"text-h6":e.$vuetify.breakpoint["xs"],"text-h5":e.$vuetify.breakpoint["smAndUp"]}},[e._v(" У вас нет ни одного удобрения ")])]):e._e(),n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-expansion-panels",{attrs:{multiple:""}},[n("draggable",e._b({staticStyle:{width:"100%"},attrs:{handle:".handle"},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.fertilizers,callback:function(t){e.fertilizers=t},expression:"fertilizers"}},"draggable",e.dragOptions,!1),[n("transition-group",{attrs:{type:"transition",name:e.drag?null:"flip-list"}},e._l(e.fertilizers,(function(t,i){return n("v-expansion-panel",{key:t.name},[n("v-expansion-panel-header",{staticClass:"pa-3 py-sm-4 px-sm-6"},[n("div",{staticClass:"d-flex justify-space-between align-center",staticStyle:{width:"100%"}},[n("span",{staticClass:"no-break font-weight-regular d-flex flex-column flex-sm-row align-start",class:{"subtitle-1":e.$vuetify.breakpoint["xs"],title:e.$vuetify.breakpoint["smAndUp"]}},[n("span",{staticStyle:{"line-height":"1.25rem"}},[e._v(" "+e._s(t.name)+" ")])]),n("span",{staticClass:"mr-3"},[n("v-tooltip",{attrs:{bottom:"","max-width":"400"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-icon",e._g({staticClass:"handle ml-2"},i),[e._v("mdi mdi-drag")])]}}],null,!0)},[e._v(" "+e._s(e.$t("fertilizers.panel.header.pull"))+" ")])],1)])]),n("v-expansion-panel-content",[n("recipe",{attrs:{recipe:t}}),n("div",{staticClass:"d-flex justify-end mt-4"},[n("v-btn",{staticClass:"mr-n4",attrs:{text:""},on:{click:function(t){return e.openEditFertilizer(i)}}},[e._v(" "+e._s(e.$t("buttons.open"))+" ")])],1)],1)],1)})),1)],1)],1)],1)],1),n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[(e.isEditing,n("v-toolbar-title",[e._v(" "+e._s(e.$t("fertilizers.dialog.fertilizerEdit"))+" ")])),n("v-btn",{staticClass:"ml-auto",attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("v-card-text",{staticClass:"px-2"},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"8","offset-md":"2"}},[n("v-form",{ref:"fertilizerForm"},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6"}},[e._v(" Выберите единицы и введите концентрации элементов, которые указаны в составе удобрения. Элементы, которые есть в списке, но нет в составе удобрения, можно пропустить. ")]),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-combobox",{attrs:{items:e.fertilizerExamples,label:"Удобрение",hint:"или выберите удобрение из списка","persistent-hint":"","hide-details":"auto"},model:{value:e.fertilizerExampleChosen,callback:function(t){e.fertilizerExampleChosen=t},expression:"fertilizerExampleChosen"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-radio-group",{staticClass:"mt-0",attrs:{row:"","hide-details":"auto"},model:{value:e.isPercent,callback:function(t){e.isPercent=t},expression:"isPercent"}},[n("v-radio",{attrs:{label:"г/л",value:!1}}),n("v-radio",{attrs:{label:"%",value:!0}})],1)],1),n("v-col",{attrs:{cols:"12"}},[n("v-row",e._l(e.elements,(function(t,i){return n("v-col",{key:i,staticClass:"py-0",attrs:{cols:["N","NO3","P","PO4"].includes(i)?6:12}},[n("v-text-field",{attrs:{type:"number",label:i,value:t,suffix:e.isPercent?"%":"г/л","persistent-hint":"","hide-details":"auto",disabled:!!e.OPPOSITE[i]&&Boolean(e.elements[e.OPPOSITE[i]])},model:{value:e.elements[i],callback:function(t){e.$set(e.elements,i,e._n(t))},expression:"elements[el]"}})],1)})),1)],1),n("v-expand-transition",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Имя рецепта","hide-details":"auto",hint:"Придумайте имя рецепта, чтобы не путать его с другими рецептами",rules:e.rulesName},model:{value:e.fertilizerName,callback:function(t){e.fertilizerName=t},expression:"fertilizerName"}})],1)],1),n("v-expand-transition",[n("v-col",{attrs:{cols:"12"}},[n("v-textarea",{attrs:{label:"Примечание","hide-details":"auto","auto-grow":"",rows:"1",hint:"Вы можете добавить дополнительные сведения к рецепту"},model:{value:e.fertilizerNote,callback:function(t){e.fertilizerNote=t},expression:"fertilizerNote"}})],1)],1),n("v-expand-transition",[n("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[e.isEditing?n("v-btn",{on:{click:e.removeFertilizer}},[e._v(" Удалить ")]):e._e(),e.isEditing?n("v-btn",{staticClass:"ml-2",attrs:{color:"primary"},on:{click:e.editFertilizer}},[e._v(" Сохранить ")]):e._e(),e.isEditing?e._e():n("v-btn",{attrs:{color:"primary"},on:{click:e.addFertilizer}},[e._v(" Сохранить ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),n("add-button",{attrs:{action:e.openAddSolution}},[e._v(" "+e._s(e.$t("fertilizers.addButton"))+" ")])],1)},r=[],a=n("3835"),s=n("5530"),l=(n("159b"),n("b0c0"),n("4e827"),n("4fad"),n("caad"),n("d81d"),n("c740"),n("e8d1")),o=[{name:"Prestige NPK",isPercent:!1,elements:{N:10.7,K:32,P:1.5},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Aquabalance NPK",isPercent:!0,elements:{NO3:4.65,PO4:.45,K:1.45,Ca:.14,Mg:.17},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Aquabalance Нитрат",isPercent:!0,elements:{NO3:4.65,K:1.45,Ca:.14,Mg:.17},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Aquabalance Фосфат",isPercent:!0,elements:{PO4:.45,K:.095},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Aquabalance Micro",isPercent:!0,elements:{Fe:.2,Mn:.05,Zn:.01,B:.009,Cu:.003,Mo:.003},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Aquabalance Micro Premium (KH<4)",isPercent:!0,elements:{Fe:.2,Mn:.08,B:.008,Zn:.005,Cu:.01,Mo:.006},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Aquabalance Ферро Баланс",isPercent:!0,elements:{Fe:.7,Mn:.1},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Prestige Micro",isPercent:!1,elements:{K:12,Fe:1.5,Mg:.8,Mn:.5,B:.06,Mo:.036,Zn:.0185},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Aquayer Macro+",isPercent:!1,elements:{N:8.21,P:1.2,K:20.43},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Aquayer Micro+",isPercent:!1,elements:{K:6.93,Fe:1.2,Mg:.8,Mn:.4,B:.072,Mo:.03,Cu:.045,Zn:.015,Co:.007},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Aquayer Железо+",isPercent:!1,elements:{Fe:7,Mg:1.3},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Aquayer Калий+",isPercent:!1,elements:{K:50},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Aquayer Smart Macro (Нитрат)",isPercent:!1,elements:{NO3:72,K:45.3},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Aquayer Smart Macro (Фосфат)",isPercent:!1,elements:{PO4:7.2,K:3},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Aqua Botanic Micro",isPercent:!1,elements:{K:4,Fe:2.67,Mg:1.1,Mn:.3,Zn:.17,B:.1,Cu:.05,Mo:.02,Co:.01204},note:"Рецепт взят с сайта aqua-botanic.ru"},{name:"Seachem Nitrogen",isPercent:!0,elements:{N:1.5,K:2},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Seachem Phosphorus",isPercent:!0,elements:{PO4:.45,K:.2},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Seachem Potassium",isPercent:!0,elements:{K:5},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Seachem Flourish",isPercent:!0,elements:{N:.07,PO4:.01,K:.37,Ca:.14,Mg:.11,S:.2773,B:.009,Cl:1.15,Co:4e-4,Cu:1e-4,Fe:.32,Mn:.0118,Mo:9e-4,Na:.13,Zn:7e-4},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Seachem Fe",isPercent:!0,elements:{Fe:1},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Seachem Equilibrium",isPercent:!0,elements:{K:19.5,Ca:8.06,Mg:2.41,Fe:.11,Mn:.06},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Аквапозитив Азот+",isPercent:!0,elements:{NO3:6,K:2.2,Ca:.3,Mg:.1}},{name:"Аквапозитив Фосфор+",isPercent:!0,elements:{PO4:.5,K:.5,Mg:.1},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Аквапозитив Калий+",isPercent:!0,elements:{K:5},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Аквапозитив Микро+",isPercent:!0,elements:{Fe:.13,Mn:.042,B:.01,Co:5e-4,Cu:.0025,Mo:.0015,Zn:.007,Ni:2e-4},note:"Это заводское удобрение. Все данные взяты с этикетки."},{name:"Аквапозитив Железо+",isPercent:!0,elements:{Fe:.2,Mn:.04},note:"Это заводское удобрение. Все данные взяты с этикетки."}],c=n("da53"),m=n("2f62"),u=n("b76a"),d=n.n(u),f=n("36af"),h={name:"Fertilizers",components:{draggable:d.a,Recipe:f["a"]},data:function(){var e=this;return{FORMULAS:l["a"],FERTILIZERS:o,OPPOSITE:c["a"],drag:!1,fertilizerExampleChosen:null,solute:{},fertilizerName:"Удобрение",fertilizerNote:"",elements:Object(s["a"])({},this.resetElements()),isPercent:!1,curFertilizerIndex:null,dialog:this.$route.params.open,dialogShare:!1,timeout:2e3,rulesName:[function(e){return!!e||"Введите название"},function(){return!e.isExist||e.isSame||"Рецепт с таким названием уже существует"}]}},computed:{dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},fertilizers:{get:function(){return this.$store.state.fertilizers},set:function(e){this.FERTILIZER_MOVE(e)}},fertilizerExamples:function(){var e=[];return this.FERTILIZERS.forEach((function(t){e.push(t.name)})),e.sort((function(e,t){return e.localeCompare(t)})),e},concentration:function(){var e=this,t={};return t[this.fertilizerName]={},Object.entries(this.elements).forEach((function(n){var i=Object(a["a"])(n,2),r=i[0],s=i[1],l=e.isPercent?10:1;s&&["NO3","PO4"].includes(r)?t[e.fertilizerName][e.convertIonName(r)]=e.convertIonRatio(r)*s*l:s&&(t[e.fertilizerName][r]=s*l)})),t},isExist:function(){var e=this,t=this.fertilizers.map((function(e){return e.name}));return-1!==t.findIndex((function(t){return t===e.fertilizerName}))},isSame:function(){var e=this,t=this.fertilizers.map((function(e){return e.name}));return t.findIndex((function(t){return t===e.fertilizerName}))===this.curFertilizerIndex},isEditing:function(){return null!==this.curFertilizerIndex}},watch:{fertilizerExampleChosen:function(){var e=this;this.FERTILIZERS.forEach((function(t){t.name===e.fertilizerExampleChosen&&(e.isPercent=t.isPercent,e.elements=Object(s["a"])({},e.resetElements()),e.elements=Object.assign(e.elements,t.elements),e.fertilizerName=t.name,e.fertilizerNote=t.note)}))},dialogShare:function(){this.dialogShare||(this.curFertilizerIndex=null)}},methods:Object(s["a"])(Object(s["a"])({},Object(m["c"])(["FERTILIZER_ADD","FERTILIZER_REMOVE","FERTILIZER_EDIT","FERTILIZER_MOVE","SNACKBAR_SHOW"])),{},{convertIonName:c["b"],convertIonRatio:c["c"],resetComponent:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.fertilizerExampleChosen=null,this.fertilizerName="",this.fertilizerNote=null,this.curFertilizerIndex=null,this.solute={},this.dialog=e,this.isPercent=!1,this.elements=Object(s["a"])({},this.resetElements())},setComponent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.fertilizerName=e.name,this.fertilizerNote=e.note,this.curFertilizerIndex=t,this.dialog=!0,this.isPercent=e.isPercent,this.elements=Object(s["a"])({},e.elements)},resetElements:function(){return{N:null,NO3:null,P:null,PO4:null,K:null,Ca:null,Mg:null,Fe:null,Mn:null,B:null,Zn:null,Cu:null,Mo:null,Ni:null}},openAddSolution:function(){this.resetComponent(),this.dialog=!0,this.$refs.fertilizerForm&&this.$refs.fertilizerForm.resetValidation()},addFertilizer:function(){this.$refs.fertilizerForm.validate()&&(this.FERTILIZER_ADD({name:this.fertilizerName,note:this.fertilizerNote,mass:Object(s["a"])({},this.fertilizerMass),elements:Object(s["a"])({},this.elements),concentration:Object(s["a"])({},this.concentration),isPercent:this.isPercent}),this.resetComponent(),this.SNACKBAR_SHOW("Рецепт добавлен"))},openEditFertilizer:function(e){this.resetComponent(),this.setComponent(this.fertilizers[e],e),this.$refs.fertilizerForm&&this.$refs.fertilizerForm.resetValidation()},editFertilizer:function(){this.$refs.fertilizerForm.validate()&&(this.FERTILIZER_EDIT({index:this.curFertilizerIndex,fertilizer:{name:this.fertilizerName,note:this.fertilizerNote,volume:this.fertilizerVolume,mass:Object(s["a"])({},this.fertilizerMass),concentration:Object(s["a"])({},this.concentration),elements:Object(s["a"])({},this.elements),isPercent:this.isPercent}}),this.resetComponent(),this.SNACKBAR_SHOW("Рецепт изменен"))},removeFertilizer:function(){this.FERTILIZER_REMOVE(this.curFertilizerIndex),this.resetComponent(),this.SNACKBAR_SHOW("Рецепт удален")}})},v=h,p=(n("fbef"),n("2877")),b=n("6544"),z=n.n(b),P=n("8336"),g=n("b0af"),x=n("99d9"),E=n("62ad"),C=n("2b5d"),F=n("a523"),N=n("169a"),O=n("0789"),_=n("cd55"),M=n("49e2"),I=n("c865"),R=n("0393"),S=n("4bd4"),V=n("132d"),A=n("67b6"),K=n("43a6"),k=n("0fd9"),y=n("8654"),T=n("a844"),w=n("71d9"),j=n("2a7f"),Z=n("3a2f"),$=Object(p["a"])(v,i,r,!1,null,null,null);t["default"]=$.exports;z()($,{VBtn:P["a"],VCard:g["a"],VCardText:x["c"],VCol:E["a"],VCombobox:C["a"],VContainer:F["a"],VDialog:N["a"],VExpandTransition:O["a"],VExpansionPanel:_["a"],VExpansionPanelContent:M["a"],VExpansionPanelHeader:I["a"],VExpansionPanels:R["a"],VForm:S["a"],VIcon:V["a"],VRadio:A["a"],VRadioGroup:K["a"],VRow:k["a"],VTextField:y["a"],VTextarea:T["a"],VToolbar:w["a"],VToolbarTitle:j["a"],VTooltip:Z["a"]})},fbef:function(e,t,n){"use strict";n("3e20")}}]);
//# sourceMappingURL=chunk-59d8bbe4.7f0cc345.js.map