(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45c308a4"],{1269:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isSwitchers?a("div",{staticClass:"d-flex align-center mt-2 mb-2"},[t.tank.length&&t.tank.width?a("v-switch",{staticClass:"mt-0 mb-2 mb-sm-0 ml-3",attrs:{label:"dm/dS","hide-details":"auto"},model:{value:t.isSpecificArea,callback:function(e){t.isSpecificArea=e},expression:"isSpecificArea"}}):t._e()],1):t._e(),a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"pl-0 text-center"},[t._v(" Элемент ")]),t.fertilizationType===t.FERTILIZATION_EVERY_DAY?[a("th",{staticClass:"text-center"},[t._v(" Общая доза, "),a("span",[t._v("мг/л")])]),a("th",{staticClass:"text-center"},[t._v(" В день ")])]:t._e(),t.fertilizationType===t.FERTILIZATION_IN_TAP_WATER?[a("th",{staticClass:"text-center"},[t._v(" В подмене, "),a("span",[t._v("мг/л")])]),a("th",{staticClass:"text-center"},[t._v(" В аквариуме, "),a("span",[t._v("мг/л")])]),a("th",{staticClass:"text-center"},[t._v(" В день, "),a("span",[t._v("мг/л")])])]:t._e(),t.fertilizationType===t.FERTILIZATION_MIX?[a("th",{staticClass:"text-center"},[t._v(" В подмене/аквариуме, "),a("span",[t._v("мг/л")])]),a("th",{staticClass:"text-center"},[t._v(" В день/неделю ")]),a("th",{staticClass:"text-center"},[t._v(" Общая доза, "),a("span",[t._v("мг/л")])])]:t._e(),t.isSpecificArea&&t.tank.length&&t.tank.width?a("th",{staticClass:"text-center"},[t._v(" dm/dS, мг/дм2 ")]):t._e()],2)]),a("tbody",t._l(t.totalElementsSorted,(function(e){var i=e[0],s=e[1];return a("tr",{key:i,class:{caption:t.$vuetify.breakpoint["xs"],regular:t.$vuetify.breakpoint["smAndUp"]}},[void 0!==s.amount?[a("td",{staticClass:"pl-0 text-center"},[t._v(" "+t._s(i)+" "),t.convertIonName(i)!==i&&t.isWithoutConversion?[t._v(" / "+t._s(t.convertIonName(i))+" ")]:t._e()],2),t.fertilizationType===t.FERTILIZATION_EVERY_DAY?[a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s(s.amount.toFixed(3))+" ")]),a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s(s.amountDay.toFixed(3))+" ")])]:t._e(),t.fertilizationType===t.FERTILIZATION_IN_TAP_WATER?[a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s((s.waterChangeVolume?s.waterChangeVolume:0).toFixed(3))+" ")]),a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s(s.amount.toFixed(3))+" ")]),a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s(s.amountDay.toFixed(3))+" ")])]:t._e(),t.fertilizationType===t.FERTILIZATION_MIX?[a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s((s.waterChangeVolume?s.waterChangeVolume:0).toFixed(3))+" / "+t._s(s.amount.toFixed(3))+" ")]),a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s(s.amountDay.toFixed(3))+" / "+t._s((s.amountDay*t.daysTotal).toFixed(3))+" ")]),a("td",{staticClass:"text-center text-no-wrap"},[t._v(" "+t._s(s.total.toFixed(3))+" ")])]:t._e(),t.isSpecificArea&&t.tank.length&&t.tank.width?a("td",{staticClass:"text-center"},[t._v(" "+t._s((s.total*t.tank.volume/Math.round((t.tank.length-2*t.tank.glassThickness/10)*(t.tank.width-2*t.tank.glassThickness/10)*100)*100*100).toFixed(3))+" ")]):t._e()]:t._e()],2)})),0)]},proxy:!0}])}),t.isHelpful&&t.isHelpfulInfo?a("div",{staticClass:"d-flex flex-column flex-sm-row justify-space-between caption mt-4"},[t.totalElements.P&&t.totalElements.P.total>0&&t.totalElements.N&&t.totalElements.N.total>0?a("div",{staticClass:"mr-2"},[t._v(" NO3 / PO4 = "+t._s((t.totalElements.N.total*t.convertIonRatio("N")/(t.totalElements.P.total*t.convertIonRatio("P"))).toFixed(2))+" ")]):t._e(),t.totalElements.P&&t.totalElements.P.total>0&&t.totalElements.B&&t.totalElements.B.total>0?a("div",{staticClass:"mr-2"},[t._v(" P / B = "+t._s((t.totalElements.P.total/t.totalElements.B.total).toFixed(2))+" ")]):t._e(),t.totalElements.Fe&&t.totalElements.Fe.total>0&&t.totalElements.B&&t.totalElements.B.total>0?a("div",{staticClass:"mr-2"},[t._v(" Fe / B = "+t._s((t.totalElements.Fe.total/t.totalElements.B.total).toFixed(2))+" ")]):t._e()]):t._e()],1)},s=[],n=(a("a9e3"),a("159b"),a("07ac"),a("b64b"),a("4e827"),a("da53")),o=a("2a18"),l=a("da09"),r={name:"ElementsTable",props:{fertilizationType:{type:Number,default:l["a"]},recipesSelected:{type:Array,default:function(){return[]}},daysTotal:{type:Number,default:1},volume:{type:Number,default:null},waterChangeVolume:{type:Number,default:0},tank:{type:Object,default:null},isHelpfulInfo:{type:Boolean,default:!1},isSwitchers:{type:Boolean,default:!1}},data:function(){return{GH:o["a"],FERTILIZATION_IN_TAP_WATER:l["b"],FERTILIZATION_EVERY_DAY:l["a"],FERTILIZATION_MIX:l["c"],isWithoutConversion:!1,isSpecificArea:!1}},computed:{isHelpful:function(){return!!(this.totalElements.P&&this.totalElements.P.total>0&&this.totalElements.N&&this.totalElements.N.total>0)||(!!(this.totalElements.P&&this.totalElements.P.total>0&&this.totalElements.B&&this.totalElements.B.total>0)||!!(this.totalElements.Fe&&this.totalElements.Fe.total>0&&this.totalElements.B&&this.totalElements.B.total>0))},totalElements:function(){var t=this,e={};return this.recipesSelected.forEach((function(a){Object.values(a.concentration).forEach((function(i){Object.keys(i).forEach((function(s){if(s in e||(e[s]={amount:0,amountDay:0,waterChangeVolume:0,total:0}),t.fertilizationType===l["a"]){var n=a.amount*i[s]/t.volume,o=n/t.daysTotal,r=n;!a.volume&&t.isRecipe(a)&&(n*=1e3,o*=1e3,r*=1e3),e[s].amount+=n,e[s].amountDay+=o,e[s].total+=r}else if(t.fertilizationType===l["b"]){var c=a.amount*i[s]/t.volume,u=c/t.daysTotal,d=c,h=t.waterChangeVolume?a.amount*i[s]/t.waterChangeVolume:0;!a.volume&&t.isRecipe(a)&&(c*=1e3,u*=1e3,h*=1e3,d*=1e3),e[s].amount+=c,e[s].total+=d,e[s].amountDay+=u,e[s].waterChangeVolume+=h}else if(t.fertilizationType===l["c"]){var m=a.amount*i[s]/t.volume,p=t.waterChangeVolume?a.amount*i[s]/t.waterChangeVolume:0,f=a.amountDay*i[s]/t.volume,v=m+f*t.daysTotal;!a.volume&&t.isRecipe(a)&&(m*=1e3,p*=1e3,f*=1e3,v*=1e3),e[s].amount+=m,e[s].waterChangeVolume+=p,e[s].amountDay+=f,e[s].total+=v}}))}))})),e},totalElementsSorted:function(){var t=this,e=[];return Object.keys(this.totalElements).forEach((function(a){e.push([t.convertIonName(a),{amount:t.convertIonRatio(a)*t.totalElements[a].amount,amountDay:t.convertIonRatio(a)*t.totalElements[a].amountDay,waterChangeVolume:t.convertIonRatio(a)*t.totalElements[a].waterChangeVolume,total:t.convertIonRatio(a)*t.totalElements[a].total}])})),e.sort((function(t,e){return e[1].amount-t[1].amount})),e}},methods:{convertIonName:n["b"],convertIonRatio:n["c"],isFertilizer:n["i"],isRecipe:n["j"]}},c=r,u=a("2877"),d=a("6544"),h=a.n(d),m=a("1f4f"),p=a("b73d"),f=Object(u["a"])(c,i,s,!1,null,"a5f99d10",null);e["a"]=f.exports;h()(f,{VSimpleTable:m["a"],VSwitch:p["a"]})},"1f4f":function(t,e,a){"use strict";var i=a("5530"),s=(a("a9e3"),a("8b37"),a("80d2")),n=a("7560"),o=a("58df");e["a"]=Object(o["a"])(n["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(i["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(s["f"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"2a18":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return s})),a.d(e,"c",(function(){return o}));var i={CO3:60.01001,HCO3:61.01812},s={Mg:4.346,Ca:7.144},n=2.804,o=function(t,e){return t/(e*i.HCO3)*(i.HCO3/i.CO3)*n}},"32b6":function(t,e,a){},"8b37":function(t,e,a){},"9d01":function(t,e,a){},afdd:function(t,e,a){"use strict";var i=a("8336");e["a"]=i["a"]},b73d:function(t,e,a){"use strict";var i=a("15fd"),s=a("5530"),n=(a("0481"),a("ec29"),a("9d01"),a("fe09")),o=a("c37a"),l=a("c3f0"),r=a("0789"),c=a("490a"),u=a("80d2"),d=["title"];e["a"]=n["a"].extend({name:"v-switch",directives:{Touch:l["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},o["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){var t=this.attrs$,e=(t.title,Object(i["a"])(t,d));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(s["a"])(Object(s["a"])({},this.attrs),e)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(s["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(s["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(r["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(c["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===u["s"].left&&this.isActive||t.keyCode===u["s"].right&&!this.isActive)&&this.onChange()}}})},c468:function(t,e,a){"use strict";a("32b6")},da09:function(t,e,a){"use strict";a.d(e,"a",(function(){return l})),a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return c}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isFertilizationTypes?a("v-radio-group",{staticClass:"my-2",attrs:{value:t.fertilizationType,row:"","hide-details":"auto"},on:{change:function(e){return t.$emit("change",e)}}},[a("v-radio",{attrs:{label:"Каждый день",value:0}}),a("v-radio",{attrs:{label:"В подменную воду",value:1}}),a("v-radio",{attrs:{label:"Комбинированная подача",value:2}})],1):t._e(),[t.FERTILIZATION_IN_TAP_WATER,t.FERTILIZATION_MIX].includes(t.fertilizationType)&&t.isWaterChange?a("v-text-field",{staticClass:"mt-4",attrs:{value:t.waterChangeVolume,type:"Number",label:"Введите объем подмены",hint:"Это нужно для подсчета дозы на подмену"},on:{input:function(e){return t.$emit("water-change",+e)}}}):t._e(),a("div",{staticClass:"d-flex mt-4"},[[t.FERTILIZATION_IN_TAP_WATER,t.FERTILIZATION_MIX].includes(t.fertilizationType)&&t.isFertilizationTypes?a("div",{staticClass:"text-subtitle-1 font-weight-medium w-50 pr-2",class:{"w-100":t.fertilizationType===t.FERTILIZATION_IN_TAP_WATER}},[t.FERTILIZATION_IN_TAP_WATER===t.fertilizationType?[t._v(" Весь объем удобрений ")]:[t._v(" Подмена ")],a("v-divider")],2):t._e(),[t.FERTILIZATION_EVERY_DAY,t.FERTILIZATION_MIX].includes(t.fertilizationType)?a("div",{staticClass:"text-subtitle-1 w-50 font-weight-medium pr-2",class:{"w-100":t.fertilizationType===t.FERTILIZATION_EVERY_DAY}},[a("div",{staticClass:"d-flex justify-space-between align-center"},[a("v-switch",{staticClass:"mt-0 mb-0 mb-sm-0",attrs:{label:t.isTotal?"Всего":"Ежедневно","hide-details":"auto"},model:{value:t.isTotal,callback:function(e){t.isTotal=e},expression:"isTotal"}})],1),a("v-divider")],1):t._e()]),t._l(t.recipesSelected,(function(e,i){return a("div",{key:i,staticClass:"d-flex justify-space-between align-center"},[[t.FERTILIZATION_IN_TAP_WATER,t.FERTILIZATION_MIX].includes(t.fertilizationType)?a("base-text-field",{staticClass:"pr-2",class:{"w-50":t.fertilizationType===t.FERTILIZATION_MIX},attrs:{value:e.amount,"precision-show":2,"precision-value":4,type:"number",label:e.name,suffix:e.volume>0||t.isFertilizer(e)?"мл":"г","hide-details":"auto"},on:{input:function(e){return t.inputRecipeAmount(e,i)}}}):t._e(),[t.FERTILIZATION_EVERY_DAY,t.FERTILIZATION_MIX].includes(t.fertilizationType)?a("div",{staticClass:"d-flex",class:{"w-100":t.fertilizationType===t.FERTILIZATION_EVERY_DAY,"w-50":t.FERTILIZATION_MIX||t.isTotal}},[t.isTotal?t._e():a("base-text-field",{staticClass:"pr-2",attrs:{value:e.amountDay,"precision-show":2,"precision-value":5,type:"number",label:e.name,suffix:e.volume>0||t.isFertilizer(e)?"мл/день":"г/день","hide-details":"auto"},on:{input:function(e){return t.inputRecipeAmountDay(e,i)}}}),t.isTotal?a("base-text-field",{staticClass:"pr-2",attrs:{value:t.amountDayTotal[i],"precision-show":2,"precision-value":4,type:"number",label:e.name,suffix:e.volume>0||t.isFertilizer(e)?"мл":"г","hide-details":"auto"},on:{input:function(e){return t.inputRecipeAmountDayTotal(e,i)}}}):t._e()],1):t._e()],1)}))],2)},s=[],n=a("5530"),o=(a("a9e3"),a("159b"),a("da53")),l=0,r=1,c=2,u={name:"FertilizersDoseTable",props:{fertilizationType:{type:Number,default:l},recipesSelected:{type:Array,default:function(){return[]}},days:{type:Number,default:1},waterChangeVolume:{type:Number,default:0},isFertilizationTypes:{type:Boolean,default:!0},isWaterChange:{type:Boolean,default:!0}},data:function(){return{FERTILIZATION_IN_TAP_WATER:r,FERTILIZATION_EVERY_DAY:l,FERTILIZATION_MIX:c,isTotal:!1,amountDayTotal:[]}},watch:{isTotal:function(t){var e=this;t&&this.recipesSelected.forEach((function(t,a){t.amountDay&&(e.amountDayTotal[a]=t.amountDay*e.days)}))}},methods:{isFertilizer:o["i"],inputRecipeAmount:function(t,e){var a=this.recipesSelected[e],i=""!==t?+t:"";if(this.fertilizationType===r){var s=i/this.days;this.$emit("input",e,Object(n["a"])(Object(n["a"])({},a),{},{amount:i,amountDay:s}))}else this.fertilizationType===c&&this.$emit("input",e,Object(n["a"])(Object(n["a"])({},a),{},{amount:i}))},inputRecipeAmountDay:function(t,e){var a=this.recipesSelected[e],i=""!==t?+t:"";if(this.fertilizationType===l){var s=i*this.days;this.$emit("input",e,Object(n["a"])(Object(n["a"])({},a),{},{amount:s,amountDay:i}))}else this.fertilizationType===c&&this.$emit("input",e,Object(n["a"])(Object(n["a"])({},a),{},{amountDay:i}))},inputRecipeAmountDayTotal:function(t,e){var a=this.recipesSelected[e],i=""!==t?+t:"";this.amountDayTotal[e]=i;var s=i/this.days;if(this.fertilizationType===l){var o=i;this.$emit("input",e,Object(n["a"])(Object(n["a"])({},a),{},{amount:o,amountDay:s}))}else this.fertilizationType===c&&this.$emit("input",e,Object(n["a"])(Object(n["a"])({},a),{},{amountDay:s}))}}},d=u,h=(a("c468"),a("2877")),m=a("6544"),p=a.n(m),f=a("ce7e"),v=a("67b6"),_=a("43a6"),T=a("b73d"),I=a("8654"),y=Object(h["a"])(d,i,s,!1,null,"08469636",null);e["d"]=y.exports;p()(y,{VDivider:f["a"],VRadio:v["a"],VRadioGroup:_["a"],VSwitch:T["a"],VTextField:I["a"]})}}]);
//# sourceMappingURL=chunk-45c308a4.f54f5599.js.map